/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/estimate/route";
exports.ids = ["app/api/estimate/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "../app-render/work-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/server/app-render/work-async-storage.external.js" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-async-storage.external.js");

/***/ }),

/***/ "./work-unit-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist/server/app-render/work-unit-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-unit-async-storage.external.js");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Festimate%2Froute&page=%2Fapi%2Festimate%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Festimate%2Froute.ts&appDir=D%3A%5CProject%5Ccost_copy_v2%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CProject%5Ccost_copy_v2&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Festimate%2Froute&page=%2Fapi%2Festimate%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Festimate%2Froute.ts&appDir=D%3A%5CProject%5Ccost_copy_v2%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CProject%5Ccost_copy_v2&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   workAsyncStorage: () => (/* binding */ workAsyncStorage),\n/* harmony export */   workUnitAsyncStorage: () => (/* binding */ workUnitAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(rsc)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var D_Project_cost_copy_v2_app_api_estimate_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/estimate/route.ts */ \"(rsc)/./app/api/estimate/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/estimate/route\",\n        pathname: \"/api/estimate\",\n        filename: \"route\",\n        bundlePath: \"app/api/estimate/route\"\n    },\n    resolvedPagePath: \"D:\\\\Project\\\\cost_copy_v2\\\\app\\\\api\\\\estimate\\\\route.ts\",\n    nextConfigOutput,\n    userland: D_Project_cost_copy_v2_app_api_estimate_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { workAsyncStorage, workUnitAsyncStorage, serverHooks } = routeModule;\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        workAsyncStorage,\n        workUnitAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIvaW5kZXguanM/bmFtZT1hcHAlMkZhcGklMkZlc3RpbWF0ZSUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGZXN0aW1hdGUlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZlc3RpbWF0ZSUyRnJvdXRlLnRzJmFwcERpcj1EJTNBJTVDUHJvamVjdCU1Q2Nvc3RfY29weV92MiU1Q2FwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9RCUzQSU1Q1Byb2plY3QlNUNjb3N0X2NvcHlfdjImaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQStGO0FBQ3ZDO0FBQ3FCO0FBQ087QUFDcEY7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHlHQUFtQjtBQUMzQztBQUNBLGNBQWMsa0VBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSxzREFBc0Q7QUFDOUQ7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDMEY7O0FBRTFGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY29zdC1lc3RpbWF0b3IvP2UyNzEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIkQ6XFxcXFByb2plY3RcXFxcY29zdF9jb3B5X3YyXFxcXGFwcFxcXFxhcGlcXFxcZXN0aW1hdGVcXFxccm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2VzdGltYXRlL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvZXN0aW1hdGVcIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL2VzdGltYXRlL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiRDpcXFxcUHJvamVjdFxcXFxjb3N0X2NvcHlfdjJcXFxcYXBwXFxcXGFwaVxcXFxlc3RpbWF0ZVxcXFxyb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHdvcmtBc3luY1N0b3JhZ2UsIHdvcmtVbml0QXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcyB9ID0gcm91dGVNb2R1bGU7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHdvcmtBc3luY1N0b3JhZ2UsXG4gICAgICAgIHdvcmtVbml0QXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgd29ya0FzeW5jU3RvcmFnZSwgd29ya1VuaXRBc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Festimate%2Froute&page=%2Fapi%2Festimate%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Festimate%2Froute.ts&appDir=D%3A%5CProject%5Ccost_copy_v2%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CProject%5Ccost_copy_v2&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(rsc)/./app/api/estimate/route.ts":
/*!***********************************!*\
  !*** ./app/api/estimate/route.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_estimation_coordinator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/estimation-coordinator */ \"(rsc)/./lib/estimation-coordinator.ts\");\n\n\n// 存储活跃的估算任务\nconst activeEstimations = new Map();\nasync function POST(request) {\n    try {\n        const userInput = await request.json();\n        console.log('Received user input:', userInput);\n        // 验证用户输入\n        const coordinator = new _lib_estimation_coordinator__WEBPACK_IMPORTED_MODULE_1__.EstimationCoordinator();\n        const validation = coordinator.validateUserInput(userInput);\n        if (!validation.isValid) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: false,\n                error: 'Invalid input',\n                message: validation.errors.join(', ')\n            }, {\n                status: 400\n            });\n        }\n        // 生成唯一任务ID\n        const taskId = Math.random().toString(36).substr(2, 9);\n        console.log('Generated task ID:', taskId);\n        // 初始化任务状态\n        activeEstimations.set(taskId, {\n            progress: {\n                step: 'tuition',\n                progress: 0,\n                message: '开始费用估算...'\n            },\n            userInput\n        });\n        // 启动异步估算任务\n        const estimationPromise = coordinator.generateCostEstimate(userInput, (progress)=>{\n            // 存储进度信息\n            activeEstimations.set(taskId, {\n                progress,\n                userInput\n            });\n            console.log('Progress update:', progress);\n        });\n        // 启动估算任务但不等待完成\n        estimationPromise.then((report)=>{\n            console.log('Estimation completed for task:', taskId);\n            activeEstimations.set(taskId, {\n                completed: true,\n                report,\n                userInput\n            });\n        }).catch((error)=>{\n            console.error('Estimation failed for task:', taskId, error);\n            activeEstimations.set(taskId, {\n                error: error.message,\n                userInput\n            });\n        });\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            data: {\n                taskId\n            },\n            message: 'Estimation started'\n        });\n    } catch (error) {\n        console.error('API error:', error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: false,\n            error: 'Internal server error',\n            message: error instanceof Error ? error.message : 'Unknown error'\n        }, {\n            status: 500\n        });\n    }\n}\nasync function GET(request) {\n    const url = new URL(request.url);\n    const taskId = url.searchParams.get('taskId');\n    if (!taskId) {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: false,\n            error: 'Missing taskId parameter'\n        }, {\n            status: 400\n        });\n    }\n    const taskData = activeEstimations.get(taskId);\n    if (!taskData) {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: false,\n            error: 'Task not found'\n        }, {\n            status: 404\n        });\n    }\n    if (taskData.error) {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: false,\n            error: taskData.error\n        }, {\n            status: 500\n        });\n    }\n    if (taskData.completed) {\n        // 清理完成的任务\n        activeEstimations.delete(taskId);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            data: taskData.report\n        });\n    }\n    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n        success: true,\n        data: {\n            progress: taskData.progress,\n            status: 'in_progress'\n        }\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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MUIsS0FBSyxFQUFFO1FBQ2xCLE9BQU9mLHFEQUFZQSxDQUFDTyxJQUFJLENBQUM7WUFDdkJPLFNBQVM7WUFDVEMsT0FBTzBCLFNBQVMxQixLQUFLO1FBQ3ZCLEdBQXdCO1lBQUVJLFFBQVE7UUFBSTtJQUN4QztJQUVBLElBQUlzQixTQUFTVCxTQUFTLEVBQUU7UUFDdEIsVUFBVTtRQUNWOUIsa0JBQWtCd0MsTUFBTSxDQUFDdEI7UUFFekIsT0FBT3BCLHFEQUFZQSxDQUFDTyxJQUFJLENBQUM7WUFDdkJPLFNBQVM7WUFDVG9CLE1BQU1PLFNBQVNWLE1BQU07UUFDdkI7SUFDRjtJQUVBLE9BQU8vQixxREFBWUEsQ0FBQ08sSUFBSSxDQUFDO1FBQ3ZCTyxTQUFTO1FBQ1RvQixNQUFNO1lBQ0pSLFVBQVVlLFNBQVNmLFFBQVE7WUFDM0JQLFFBQVE7UUFDVjtJQUNGO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jb3N0LWVzdGltYXRvci8uL2FwcC9hcGkvZXN0aW1hdGUvcm91dGUudHM/YjUwZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVxdWVzdCwgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInO1xuaW1wb3J0IHsgRXN0aW1hdGlvbkNvb3JkaW5hdG9yIH0gZnJvbSAnQC9saWIvZXN0aW1hdGlvbi1jb29yZGluYXRvcic7XG5pbXBvcnQgeyBVc2VySW5wdXQsIEFwaVJlc3BvbnNlLCBDb3N0RXN0aW1hdGVSZXBvcnQgfSBmcm9tICdAL3R5cGVzJztcblxuLy8g5a2Y5YKo5rS76LeD55qE5Lyw566X5Lu75YqhXG5jb25zdCBhY3RpdmVFc3RpbWF0aW9ucyA9IG5ldyBNYXA8c3RyaW5nLCBhbnk+KCk7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KSB7XG4gIHRyeSB7XG4gICAgY29uc3QgdXNlcklucHV0OiBVc2VySW5wdXQgPSBhd2FpdCByZXF1ZXN0Lmpzb24oKTtcbiAgICBjb25zb2xlLmxvZygnUmVjZWl2ZWQgdXNlciBpbnB1dDonLCB1c2VySW5wdXQpO1xuXG4gICAgLy8g6aqM6K+B55So5oi36L6T5YWlXG4gICAgY29uc3QgY29vcmRpbmF0b3IgPSBuZXcgRXN0aW1hdGlvbkNvb3JkaW5hdG9yKCk7XG4gICAgY29uc3QgdmFsaWRhdGlvbiA9IGNvb3JkaW5hdG9yLnZhbGlkYXRlVXNlcklucHV0KHVzZXJJbnB1dCk7XG5cbiAgICBpZiAoIXZhbGlkYXRpb24uaXNWYWxpZCkge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIGVycm9yOiAnSW52YWxpZCBpbnB1dCcsXG4gICAgICAgIG1lc3NhZ2U6IHZhbGlkYXRpb24uZXJyb3JzLmpvaW4oJywgJylcbiAgICAgIH0gYXMgQXBpUmVzcG9uc2U8bnVsbD4sIHsgc3RhdHVzOiA0MDAgfSk7XG4gICAgfVxuXG4gICAgLy8g55Sf5oiQ5ZSv5LiA5Lu75YqhSURcbiAgICBjb25zdCB0YXNrSWQgPSBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMiwgOSk7XG4gICAgY29uc29sZS5sb2coJ0dlbmVyYXRlZCB0YXNrIElEOicsIHRhc2tJZCk7XG5cbiAgICAvLyDliJ3lp4vljJbku7vliqHnirbmgIFcbiAgICBhY3RpdmVFc3RpbWF0aW9ucy5zZXQodGFza0lkLCB7XG4gICAgICBwcm9ncmVzczogeyBzdGVwOiAndHVpdGlvbicsIHByb2dyZXNzOiAwLCBtZXNzYWdlOiAn5byA5aeL6LS555So5Lyw566XLi4uJyB9LFxuICAgICAgdXNlcklucHV0XG4gICAgfSk7XG5cbiAgICAvLyDlkK/liqjlvILmraXkvLDnrpfku7vliqFcbiAgICBjb25zdCBlc3RpbWF0aW9uUHJvbWlzZSA9IGNvb3JkaW5hdG9yLmdlbmVyYXRlQ29zdEVzdGltYXRlKHVzZXJJbnB1dCwgKHByb2dyZXNzKSA9PiB7XG4gICAgICAvLyDlrZjlgqjov5vluqbkv6Hmga9cbiAgICAgIGFjdGl2ZUVzdGltYXRpb25zLnNldCh0YXNrSWQsIHsgcHJvZ3Jlc3MsIHVzZXJJbnB1dCB9KTtcbiAgICAgIGNvbnNvbGUubG9nKCdQcm9ncmVzcyB1cGRhdGU6JywgcHJvZ3Jlc3MpO1xuICAgIH0pO1xuXG4gICAgLy8g5ZCv5Yqo5Lyw566X5Lu75Yqh5L2G5LiN562J5b6F5a6M5oiQXG4gICAgZXN0aW1hdGlvblByb21pc2VcbiAgICAgIC50aGVuKHJlcG9ydCA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdFc3RpbWF0aW9uIGNvbXBsZXRlZCBmb3IgdGFzazonLCB0YXNrSWQpO1xuICAgICAgICBhY3RpdmVFc3RpbWF0aW9ucy5zZXQodGFza0lkLCB7XG4gICAgICAgICAgY29tcGxldGVkOiB0cnVlLFxuICAgICAgICAgIHJlcG9ydCxcbiAgICAgICAgICB1c2VySW5wdXRcbiAgICAgICAgfSk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKGVycm9yID0+IHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXN0aW1hdGlvbiBmYWlsZWQgZm9yIHRhc2s6JywgdGFza0lkLCBlcnJvcik7XG4gICAgICAgIGFjdGl2ZUVzdGltYXRpb25zLnNldCh0YXNrSWQsIHtcbiAgICAgICAgICBlcnJvcjogZXJyb3IubWVzc2FnZSxcbiAgICAgICAgICB1c2VySW5wdXRcbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XG4gICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgZGF0YTogeyB0YXNrSWQgfSxcbiAgICAgIG1lc3NhZ2U6ICdFc3RpbWF0aW9uIHN0YXJ0ZWQnXG4gICAgfSBhcyBBcGlSZXNwb25zZTx7IHRhc2tJZDogc3RyaW5nIH0+KTtcblxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0FQSSBlcnJvcjonLCBlcnJvcik7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgZXJyb3I6ICdJbnRlcm5hbCBzZXJ2ZXIgZXJyb3InLFxuICAgICAgbWVzc2FnZTogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcidcbiAgICB9IGFzIEFwaVJlc3BvbnNlPG51bGw+LCB7IHN0YXR1czogNTAwIH0pO1xuICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBHRVQocmVxdWVzdDogTmV4dFJlcXVlc3QpIHtcbiAgY29uc3QgdXJsID0gbmV3IFVSTChyZXF1ZXN0LnVybCk7XG4gIGNvbnN0IHRhc2tJZCA9IHVybC5zZWFyY2hQYXJhbXMuZ2V0KCd0YXNrSWQnKTtcblxuICBpZiAoIXRhc2tJZCkge1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XG4gICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgIGVycm9yOiAnTWlzc2luZyB0YXNrSWQgcGFyYW1ldGVyJ1xuICAgIH0gYXMgQXBpUmVzcG9uc2U8bnVsbD4sIHsgc3RhdHVzOiA0MDAgfSk7XG4gIH1cblxuICBjb25zdCB0YXNrRGF0YSA9IGFjdGl2ZUVzdGltYXRpb25zLmdldCh0YXNrSWQpO1xuXG4gIGlmICghdGFza0RhdGEpIHtcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICBlcnJvcjogJ1Rhc2sgbm90IGZvdW5kJ1xuICAgIH0gYXMgQXBpUmVzcG9uc2U8bnVsbD4sIHsgc3RhdHVzOiA0MDQgfSk7XG4gIH1cblxuICBpZiAodGFza0RhdGEuZXJyb3IpIHtcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICBlcnJvcjogdGFza0RhdGEuZXJyb3JcbiAgICB9IGFzIEFwaVJlc3BvbnNlPG51bGw+LCB7IHN0YXR1czogNTAwIH0pO1xuICB9XG5cbiAgaWYgKHRhc2tEYXRhLmNvbXBsZXRlZCkge1xuICAgIC8vIOa4heeQhuWujOaIkOeahOS7u+WKoVxuICAgIGFjdGl2ZUVzdGltYXRpb25zLmRlbGV0ZSh0YXNrSWQpO1xuXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICBkYXRhOiB0YXNrRGF0YS5yZXBvcnRcbiAgICB9IGFzIEFwaVJlc3BvbnNlPGFueT4pO1xuICB9XG5cbiAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcbiAgICBzdWNjZXNzOiB0cnVlLFxuICAgIGRhdGE6IHtcbiAgICAgIHByb2dyZXNzOiB0YXNrRGF0YS5wcm9ncmVzcyxcbiAgICAgIHN0YXR1czogJ2luX3Byb2dyZXNzJ1xuICAgIH1cbiAgfSBhcyBBcGlSZXNwb25zZTxhbnk+KTtcbn0iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwiRXN0aW1hdGlvbkNvb3JkaW5hdG9yIiwiYWN0aXZlRXN0aW1hdGlvbnMiLCJNYXAiLCJQT1NUIiwicmVxdWVzdCIsInVzZXJJbnB1dCIsImpzb24iLCJjb25zb2xlIiwibG9nIiwiY29vcmRpbmF0b3IiLCJ2YWxpZGF0aW9uIiwidmFsaWRhdGVVc2VySW5wdXQiLCJpc1ZhbGlkIiwic3VjY2VzcyIsImVycm9yIiwibWVzc2FnZSIsImVycm9ycyIsImpvaW4iLCJzdGF0dXMiLCJ0YXNrSWQiLCJNYXRoIiwicmFuZG9tIiwidG9TdHJpbmciLCJzdWJzdHIiLCJzZXQiLCJwcm9ncmVzcyIsInN0ZXAiLCJlc3RpbWF0aW9uUHJvbWlzZSIsImdlbmVyYXRlQ29zdEVzdGltYXRlIiwidGhlbiIsInJlcG9ydCIsImNvbXBsZXRlZCIsImNhdGNoIiwiZGF0YSIsIkVycm9yIiwiR0VUIiwidXJsIiwiVVJMIiwic2VhcmNoUGFyYW1zIiwiZ2V0IiwidGFza0RhdGEiLCJkZWxldGUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./app/api/estimate/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/agents/living-cost-agent.ts":
/*!*****************************************!*\
  !*** ./lib/agents/living-cost-agent.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LivingCostAgent: () => (/* binding */ LivingCostAgent)\n/* harmony export */ });\n/* harmony import */ var _safe_llm_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../safe-llm-client */ \"(rsc)/./lib/safe-llm-client.ts\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../constants */ \"(rsc)/./lib/constants.ts\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils */ \"(rsc)/./lib/utils.ts\");\n\n\n\nclass LivingCostAgent {\n    async analyzeLivingCosts(userInput) {\n        const { country, city, lifestyle, accommodation, diet, transportation } = userInput;\n        try {\n            // 获取城市基础数据\n            const cityData = _constants__WEBPACK_IMPORTED_MODULE_1__.CITIES.find((c)=>c.name === city && c.country === country);\n            if (!cityData) {\n                throw new Error(`City data not found for ${city}, ${country}`);\n            }\n            // 获取实时生活成本数据\n            const realTimeData = await this.getRealTimeLivingCosts(city, country);\n            // 计算各项费用\n            const accommodationCost = this.calculateAccommodationCost(country, accommodation, lifestyle, city, realTimeData?.accommodation_source);\n            const foodCost = this.calculateFoodCost(country, lifestyle, diet, city, realTimeData?.food_source);\n            const transportationCost = this.calculateTransportationCost(country, transportation, lifestyle, city, realTimeData?.transportation_source);\n            const utilitiesCost = this.calculateUtilitiesCost(country, accommodation, lifestyle, realTimeData?.utilities_source);\n            const entertainmentCost = this.calculateEntertainmentCost(country, lifestyle, city, realTimeData?.entertainment_source);\n            const miscellaneousCost = this.calculateMiscellaneousCost(country, lifestyle, realTimeData?.miscellaneous_source);\n            const totalMonthlyCost = accommodationCost.amount + foodCost.amount + transportationCost.amount + utilitiesCost.amount + entertainmentCost.amount + miscellaneousCost.amount;\n            const currency = country === 'US' ? 'USD' : 'AUD';\n            return {\n                accommodation: accommodationCost,\n                food: foodCost,\n                transportation: transportationCost,\n                utilities: utilitiesCost,\n                entertainment: entertainmentCost,\n                miscellaneous: miscellaneousCost,\n                total: {\n                    amount: Math.round(totalMonthlyCost),\n                    range: (0,_utils__WEBPACK_IMPORTED_MODULE_2__.calculateRange)(totalMonthlyCost, 0.25)\n                },\n                currency,\n                period: 'monthly',\n                sources: [\n                    realTimeData?.source_url || 'https://www.numbeo.com',\n                    'https://www.expatistan.com'\n                ].filter(Boolean),\n                confidence: realTimeData?.confidence || 0.5\n            };\n        } catch (error) {\n            console.error('Living cost analysis error:', error);\n            // 使用后备估算\n            return this.getFallbackLivingCosts(userInput);\n        }\n    }\n    async getRealTimeLivingCosts(city, country) {\n        try {\n            const searchQuery = `${city} ${country} cost of living 2024 rent food transportation monthly expenses`;\n            // 使用gpt-4o-search-preview模型进行搜索\n            const searchResults = await _safe_llm_client__WEBPACK_IMPORTED_MODULE_0__.safeLLMClient.safeSearch(searchQuery, '数据暂时不可用', _constants__WEBPACK_IMPORTED_MODULE_1__.SEARCH_MODEL);\n            const fallbackData = {\n                accommodation: country === 'US' ? 1800 : 1400,\n                food: country === 'US' ? 450 : 380,\n                transportation: country === 'US' ? 150 : 120,\n                utilities: country === 'US' ? 180 : 150,\n                entertainment: country === 'US' ? 300 : 250,\n                miscellaneous: country === 'US' ? 200 : 180,\n                total: country === 'US' ? 3080 : 2500,\n                source_url: 'https://www.numbeo.com',\n                accommodation_source: 'https://www.numbeo.com',\n                food_source: 'https://www.numbeo.com',\n                transportation_source: 'https://www.numbeo.com',\n                utilities_source: 'https://www.numbeo.com',\n                entertainment_source: 'https://www.numbeo.com',\n                miscellaneous_source: 'https://www.numbeo.com',\n                confidence: 0.7\n            };\n            return await _safe_llm_client__WEBPACK_IMPORTED_MODULE_0__.safeLLMClient.extractLivingCosts(searchResults, fallbackData);\n        } catch (error) {\n            console.log('Real-time data unavailable, using estimates');\n            return null;\n        }\n    }\n    calculateAccommodationCost(country, accommodation, lifestyle, city, source) {\n        const baseCost = _constants__WEBPACK_IMPORTED_MODULE_1__.ACCOMMODATION_BASE_COSTS[country][accommodation];\n        // 城市调整系数\n        const cityMultipliers = {\n            'New York': 1.6,\n            'San Francisco': 1.8,\n            'Los Angeles': 1.4,\n            'Cambridge': 1.5,\n            'Sydney': 1.4,\n            'Melbourne': 1.2,\n            'Canberra': 1.1\n        };\n        const cityMultiplier = cityMultipliers[city] || 1.0;\n        const adjustedCost = (0,_utils__WEBPACK_IMPORTED_MODULE_2__.adjustForLifestyle)(baseCost * cityMultiplier, lifestyle);\n        return {\n            amount: Math.round(adjustedCost),\n            type: accommodation,\n            range: (0,_utils__WEBPACK_IMPORTED_MODULE_2__.calculateRange)(adjustedCost, 0.3),\n            source: source\n        };\n    }\n    calculateFoodCost(country, lifestyle, diet, city, source) {\n        const baseFood = country === 'US' ? 400 : 350; // 基础食物成本\n        // 饮食调整\n        const dietMultipliers = {\n            'normal': 1.0,\n            'vegetarian': 0.85,\n            'halal': 1.1,\n            'kosher': 1.2,\n            'custom': 1.15\n        };\n        const dietMultiplier = dietMultipliers[diet || 'normal'];\n        const adjustedCost = (0,_utils__WEBPACK_IMPORTED_MODULE_2__.adjustForLifestyle)(baseFood * dietMultiplier, lifestyle);\n        return {\n            amount: Math.round(adjustedCost),\n            range: (0,_utils__WEBPACK_IMPORTED_MODULE_2__.calculateRange)(adjustedCost, 0.4),\n            source: source\n        };\n    }\n    calculateTransportationCost(country, transportation, lifestyle, city, source) {\n        const transportCosts = {\n            'walking': country === 'US' ? 50 : 40,\n            'public': country === 'US' ? 120 : 100,\n            'bike': country === 'US' ? 30 : 25,\n            'car': country === 'US' ? 400 : 350\n        };\n        const baseCost = transportCosts[transportation || 'public'];\n        const adjustedCost = (0,_utils__WEBPACK_IMPORTED_MODULE_2__.adjustForLifestyle)(baseCost, lifestyle);\n        return {\n            amount: Math.round(adjustedCost),\n            range: (0,_utils__WEBPACK_IMPORTED_MODULE_2__.calculateRange)(adjustedCost, 0.3),\n            source: source\n        };\n    }\n    calculateUtilitiesCost(country, accommodation, lifestyle, source) {\n        const baseUtilities = country === 'US' ? 150 : 130;\n        // 住宿类型调整\n        const accommodationMultipliers = {\n            'dormitory': 0.3,\n            'shared': 0.5,\n            'studio': 0.8,\n            'apartment': 1.0\n        };\n        const accommodationMultiplier = accommodationMultipliers[accommodation];\n        const adjustedCost = (0,_utils__WEBPACK_IMPORTED_MODULE_2__.adjustForLifestyle)(baseUtilities * accommodationMultiplier, lifestyle);\n        return {\n            amount: Math.round(adjustedCost),\n            range: (0,_utils__WEBPACK_IMPORTED_MODULE_2__.calculateRange)(adjustedCost, 0.3),\n            source: source\n        };\n    }\n    calculateEntertainmentCost(country, lifestyle, city, source) {\n        const baseEntertainment = country === 'US' ? 250 : 200;\n        const adjustedCost = (0,_utils__WEBPACK_IMPORTED_MODULE_2__.adjustForLifestyle)(baseEntertainment, lifestyle);\n        return {\n            amount: Math.round(adjustedCost),\n            range: (0,_utils__WEBPACK_IMPORTED_MODULE_2__.calculateRange)(adjustedCost, 0.5),\n            source: source\n        };\n    }\n    calculateMiscellaneousCost(country, lifestyle, source) {\n        const baseMisc = country === 'US' ? 200 : 180;\n        const adjustedCost = (0,_utils__WEBPACK_IMPORTED_MODULE_2__.adjustForLifestyle)(baseMisc, lifestyle);\n        return {\n            amount: Math.round(adjustedCost),\n            range: (0,_utils__WEBPACK_IMPORTED_MODULE_2__.calculateRange)(adjustedCost, 0.4),\n            source: source\n        };\n    }\n    getFallbackLivingCosts(userInput) {\n        const { country, lifestyle } = userInput;\n        const currency = country === 'US' ? 'USD' : 'AUD';\n        // 紧急后备数据\n        const fallbackData = {\n            'US': {\n                'economy': {\n                    total: 1800\n                },\n                'standard': {\n                    total: 2500\n                },\n                'comfortable': {\n                    total: 3200\n                }\n            },\n            'AU': {\n                'economy': {\n                    total: 1600\n                },\n                'standard': {\n                    total: 2200\n                },\n                'comfortable': {\n                    total: 2800\n                }\n            }\n        };\n        const totalCost = fallbackData[country][lifestyle].total;\n        return {\n            accommodation: {\n                amount: Math.round(totalCost * 0.4),\n                type: userInput.accommodation,\n                range: (0,_utils__WEBPACK_IMPORTED_MODULE_2__.calculateRange)(totalCost * 0.4),\n                source: '内部数据库估算'\n            },\n            food: {\n                amount: Math.round(totalCost * 0.25),\n                range: (0,_utils__WEBPACK_IMPORTED_MODULE_2__.calculateRange)(totalCost * 0.25),\n                source: '内部数据库估算'\n            },\n            transportation: {\n                amount: Math.round(totalCost * 0.1),\n                range: (0,_utils__WEBPACK_IMPORTED_MODULE_2__.calculateRange)(totalCost * 0.1),\n                source: '内部数据库估算'\n            },\n            utilities: {\n                amount: Math.round(totalCost * 0.1),\n                range: (0,_utils__WEBPACK_IMPORTED_MODULE_2__.calculateRange)(totalCost * 0.1),\n                source: '内部数据库估算'\n            },\n            entertainment: {\n                amount: Math.round(totalCost * 0.1),\n                range: (0,_utils__WEBPACK_IMPORTED_MODULE_2__.calculateRange)(totalCost * 0.1),\n                source: '内部数据库估算'\n            },\n            miscellaneous: {\n                amount: Math.round(totalCost * 0.05),\n                range: (0,_utils__WEBPACK_IMPORTED_MODULE_2__.calculateRange)(totalCost * 0.05),\n                source: '内部数据库估算'\n            },\n            total: {\n                amount: totalCost,\n                range: (0,_utils__WEBPACK_IMPORTED_MODULE_2__.calculateRange)(totalCost)\n            },\n            currency,\n            period: 'monthly',\n            sources: [\n                '内部数据库估算'\n            ],\n            confidence: 0.3 // 后备数据置信度较低\n        };\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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IjpbIndlYnBhY2s6Ly9jb3N0LWVzdGltYXRvci8uL2xpYi9hZ2VudHMvbGl2aW5nLWNvc3QtYWdlbnQudHM/NWZmZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBvcGVuUm91dGVyQ2xpZW50IH0gZnJvbSAnLi4vb3BlbnJvdXRlcic7XG5pbXBvcnQgeyBzYWZlTExNQ2xpZW50IH0gZnJvbSAnLi4vc2FmZS1sbG0tY2xpZW50JztcbmltcG9ydCB7IFVzZXJJbnB1dCwgTGl2aW5nQ29zdHMgfSBmcm9tICdAL3R5cGVzJztcbmltcG9ydCB7IENJVElFUywgTElGRVNUWUxFX01VTFRJUExJRVJTLCBBQ0NPTU1PREFUSU9OX0JBU0VfQ09TVFMsIFNFQVJDSF9NT0RFTCB9IGZyb20gJy4uL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBhZGp1c3RGb3JMaWZlc3R5bGUsIGNhbGN1bGF0ZVJhbmdlIH0gZnJvbSAnLi4vdXRpbHMnO1xuXG5leHBvcnQgY2xhc3MgTGl2aW5nQ29zdEFnZW50IHtcbiAgYXN5bmMgYW5hbHl6ZUxpdmluZ0Nvc3RzKHVzZXJJbnB1dDogVXNlcklucHV0KTogUHJvbWlzZTxMaXZpbmdDb3N0cz4ge1xuICAgIGNvbnN0IHsgY291bnRyeSwgY2l0eSwgbGlmZXN0eWxlLCBhY2NvbW1vZGF0aW9uLCBkaWV0LCB0cmFuc3BvcnRhdGlvbiB9ID0gdXNlcklucHV0O1xuXG4gICAgdHJ5IHtcbiAgICAgIC8vIOiOt+WPluWfjuW4guWfuuehgOaVsOaNrlxuICAgICAgY29uc3QgY2l0eURhdGEgPSBDSVRJRVMuZmluZChjID0+IGMubmFtZSA9PT0gY2l0eSAmJiBjLmNvdW50cnkgPT09IGNvdW50cnkpO1xuXG4gICAgICBpZiAoIWNpdHlEYXRhKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgQ2l0eSBkYXRhIG5vdCBmb3VuZCBmb3IgJHtjaXR5fSwgJHtjb3VudHJ5fWApO1xuICAgICAgfVxuXG4gICAgICAvLyDojrflj5blrp7ml7bnlJ/mtLvmiJDmnKzmlbDmja5cbiAgICAgIGNvbnN0IHJlYWxUaW1lRGF0YSA9IGF3YWl0IHRoaXMuZ2V0UmVhbFRpbWVMaXZpbmdDb3N0cyhjaXR5LCBjb3VudHJ5KTtcblxuICAgICAgLy8g6K6h566X5ZCE6aG56LS555SoXG4gICAgICBjb25zdCBhY2NvbW1vZGF0aW9uQ29zdCA9IHRoaXMuY2FsY3VsYXRlQWNjb21tb2RhdGlvbkNvc3QoY291bnRyeSwgYWNjb21tb2RhdGlvbiwgbGlmZXN0eWxlLCBjaXR5LCByZWFsVGltZURhdGE/LmFjY29tbW9kYXRpb25fc291cmNlKTtcbiAgICAgIGNvbnN0IGZvb2RDb3N0ID0gdGhpcy5jYWxjdWxhdGVGb29kQ29zdChjb3VudHJ5LCBsaWZlc3R5bGUsIGRpZXQsIGNpdHksIHJlYWxUaW1lRGF0YT8uZm9vZF9zb3VyY2UpO1xuICAgICAgY29uc3QgdHJhbnNwb3J0YXRpb25Db3N0ID0gdGhpcy5jYWxjdWxhdGVUcmFuc3BvcnRhdGlvbkNvc3QoY291bnRyeSwgdHJhbnNwb3J0YXRpb24sIGxpZmVzdHlsZSwgY2l0eSwgcmVhbFRpbWVEYXRhPy50cmFuc3BvcnRhdGlvbl9zb3VyY2UpO1xuICAgICAgY29uc3QgdXRpbGl0aWVzQ29zdCA9IHRoaXMuY2FsY3VsYXRlVXRpbGl0aWVzQ29zdChjb3VudHJ5LCBhY2NvbW1vZGF0aW9uLCBsaWZlc3R5bGUsIHJlYWxUaW1lRGF0YT8udXRpbGl0aWVzX3NvdXJjZSk7XG4gICAgICBjb25zdCBlbnRlcnRhaW5tZW50Q29zdCA9IHRoaXMuY2FsY3VsYXRlRW50ZXJ0YWlubWVudENvc3QoY291bnRyeSwgbGlmZXN0eWxlLCBjaXR5LCByZWFsVGltZURhdGE/LmVudGVydGFpbm1lbnRfc291cmNlKTtcbiAgICAgIGNvbnN0IG1pc2NlbGxhbmVvdXNDb3N0ID0gdGhpcy5jYWxjdWxhdGVNaXNjZWxsYW5lb3VzQ29zdChjb3VudHJ5LCBsaWZlc3R5bGUsIHJlYWxUaW1lRGF0YT8ubWlzY2VsbGFuZW91c19zb3VyY2UpO1xuXG4gICAgICBjb25zdCB0b3RhbE1vbnRobHlDb3N0ID1cbiAgICAgICAgYWNjb21tb2RhdGlvbkNvc3QuYW1vdW50ICtcbiAgICAgICAgZm9vZENvc3QuYW1vdW50ICtcbiAgICAgICAgdHJhbnNwb3J0YXRpb25Db3N0LmFtb3VudCArXG4gICAgICAgIHV0aWxpdGllc0Nvc3QuYW1vdW50ICtcbiAgICAgICAgZW50ZXJ0YWlubWVudENvc3QuYW1vdW50ICtcbiAgICAgICAgbWlzY2VsbGFuZW91c0Nvc3QuYW1vdW50O1xuXG4gICAgICBjb25zdCBjdXJyZW5jeSA9IGNvdW50cnkgPT09ICdVUycgPyAnVVNEJyA6ICdBVUQnO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBhY2NvbW1vZGF0aW9uOiBhY2NvbW1vZGF0aW9uQ29zdCxcbiAgICAgICAgZm9vZDogZm9vZENvc3QsXG4gICAgICAgIHRyYW5zcG9ydGF0aW9uOiB0cmFuc3BvcnRhdGlvbkNvc3QsXG4gICAgICAgIHV0aWxpdGllczogdXRpbGl0aWVzQ29zdCxcbiAgICAgICAgZW50ZXJ0YWlubWVudDogZW50ZXJ0YWlubWVudENvc3QsXG4gICAgICAgIG1pc2NlbGxhbmVvdXM6IG1pc2NlbGxhbmVvdXNDb3N0LFxuICAgICAgICB0b3RhbDoge1xuICAgICAgICAgIGFtb3VudDogTWF0aC5yb3VuZCh0b3RhbE1vbnRobHlDb3N0KSxcbiAgICAgICAgICByYW5nZTogY2FsY3VsYXRlUmFuZ2UodG90YWxNb250aGx5Q29zdCwgMC4yNSlcbiAgICAgICAgfSxcbiAgICAgICAgY3VycmVuY3ksXG4gICAgICAgIHBlcmlvZDogJ21vbnRobHknLFxuICAgICAgICBzb3VyY2VzOiBbXG4gICAgICAgICAgcmVhbFRpbWVEYXRhPy5zb3VyY2VfdXJsIHx8ICdodHRwczovL3d3dy5udW1iZW8uY29tJyxcbiAgICAgICAgICAnaHR0cHM6Ly93d3cuZXhwYXRpc3Rhbi5jb20nXG4gICAgICAgIF0uZmlsdGVyKEJvb2xlYW4pIGFzIHN0cmluZ1tdLFxuICAgICAgICBjb25maWRlbmNlOiByZWFsVGltZURhdGE/LmNvbmZpZGVuY2UgfHwgMC41XG4gICAgICB9O1xuXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0xpdmluZyBjb3N0IGFuYWx5c2lzIGVycm9yOicsIGVycm9yKTtcbiAgICAgIC8vIOS9v+eUqOWQjuWkh+S8sOeul1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0RmFsbGJhY2tMaXZpbmdDb3N0cyh1c2VySW5wdXQpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgZ2V0UmVhbFRpbWVMaXZpbmdDb3N0cyhjaXR5OiBzdHJpbmcsIGNvdW50cnk6ICdVUycgfCAnQVUnKTogUHJvbWlzZTxhbnk+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3Qgc2VhcmNoUXVlcnkgPSBgJHtjaXR5fSAke2NvdW50cnl9IGNvc3Qgb2YgbGl2aW5nIDIwMjQgcmVudCBmb29kIHRyYW5zcG9ydGF0aW9uIG1vbnRobHkgZXhwZW5zZXNgO1xuXG4gICAgICAvLyDkvb/nlKhncHQtNG8tc2VhcmNoLXByZXZpZXfmqKHlnovov5vooYzmkJzntKJcbiAgICAgIGNvbnN0IHNlYXJjaFJlc3VsdHMgPSBhd2FpdCBzYWZlTExNQ2xpZW50LnNhZmVTZWFyY2goc2VhcmNoUXVlcnksICfmlbDmja7mmoLml7bkuI3lj6/nlKgnLCBTRUFSQ0hfTU9ERUwpO1xuXG4gICAgICBjb25zdCBmYWxsYmFja0RhdGEgPSB7XG4gICAgICAgIGFjY29tbW9kYXRpb246IGNvdW50cnkgPT09ICdVUycgPyAxODAwIDogMTQwMCxcbiAgICAgICAgZm9vZDogY291bnRyeSA9PT0gJ1VTJyA/IDQ1MCA6IDM4MCxcbiAgICAgICAgdHJhbnNwb3J0YXRpb246IGNvdW50cnkgPT09ICdVUycgPyAxNTAgOiAxMjAsXG4gICAgICAgIHV0aWxpdGllczogY291bnRyeSA9PT0gJ1VTJyA/IDE4MCA6IDE1MCxcbiAgICAgICAgZW50ZXJ0YWlubWVudDogY291bnRyeSA9PT0gJ1VTJyA/IDMwMCA6IDI1MCxcbiAgICAgICAgbWlzY2VsbGFuZW91czogY291bnRyeSA9PT0gJ1VTJyA/IDIwMCA6IDE4MCxcbiAgICAgICAgdG90YWw6IGNvdW50cnkgPT09ICdVUycgPyAzMDgwIDogMjUwMCxcbiAgICAgICAgc291cmNlX3VybDogJ2h0dHBzOi8vd3d3Lm51bWJlby5jb20nLFxuICAgICAgICBhY2NvbW1vZGF0aW9uX3NvdXJjZTogJ2h0dHBzOi8vd3d3Lm51bWJlby5jb20nLFxuICAgICAgICBmb29kX3NvdXJjZTogJ2h0dHBzOi8vd3d3Lm51bWJlby5jb20nLFxuICAgICAgICB0cmFuc3BvcnRhdGlvbl9zb3VyY2U6ICdodHRwczovL3d3dy5udW1iZW8uY29tJyxcbiAgICAgICAgdXRpbGl0aWVzX3NvdXJjZTogJ2h0dHBzOi8vd3d3Lm51bWJlby5jb20nLFxuICAgICAgICBlbnRlcnRhaW5tZW50X3NvdXJjZTogJ2h0dHBzOi8vd3d3Lm51bWJlby5jb20nLFxuICAgICAgICBtaXNjZWxsYW5lb3VzX3NvdXJjZTogJ2h0dHBzOi8vd3d3Lm51bWJlby5jb20nLFxuICAgICAgICBjb25maWRlbmNlOiAwLjdcbiAgICAgIH07XG5cbiAgICAgIHJldHVybiBhd2FpdCBzYWZlTExNQ2xpZW50LmV4dHJhY3RMaXZpbmdDb3N0cyhzZWFyY2hSZXN1bHRzLCBmYWxsYmFja0RhdGEpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmxvZygnUmVhbC10aW1lIGRhdGEgdW5hdmFpbGFibGUsIHVzaW5nIGVzdGltYXRlcycpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBjYWxjdWxhdGVBY2NvbW1vZGF0aW9uQ29zdChcbiAgICBjb3VudHJ5OiAnVVMnIHwgJ0FVJyxcbiAgICBhY2NvbW1vZGF0aW9uOiBzdHJpbmcsXG4gICAgbGlmZXN0eWxlOiBzdHJpbmcsXG4gICAgY2l0eTogc3RyaW5nLFxuICAgIHNvdXJjZT86IHN0cmluZ1xuICApIHtcbiAgICBjb25zdCBiYXNlQ29zdCA9IEFDQ09NTU9EQVRJT05fQkFTRV9DT1NUU1tjb3VudHJ5XVthY2NvbW1vZGF0aW9uIGFzIGtleW9mIHR5cGVvZiBBQ0NPTU1PREFUSU9OX0JBU0VfQ09TVFNbJ1VTJ11dO1xuXG4gICAgLy8g5Z+O5biC6LCD5pW057O75pWwXG4gICAgY29uc3QgY2l0eU11bHRpcGxpZXJzID0ge1xuICAgICAgJ05ldyBZb3JrJzogMS42LFxuICAgICAgJ1NhbiBGcmFuY2lzY28nOiAxLjgsXG4gICAgICAnTG9zIEFuZ2VsZXMnOiAxLjQsXG4gICAgICAnQ2FtYnJpZGdlJzogMS41LFxuICAgICAgJ1N5ZG5leSc6IDEuNCxcbiAgICAgICdNZWxib3VybmUnOiAxLjIsXG4gICAgICAnQ2FuYmVycmEnOiAxLjEsXG4gICAgfTtcblxuICAgIGNvbnN0IGNpdHlNdWx0aXBsaWVyID0gKGNpdHlNdWx0aXBsaWVycyBhcyBhbnkpW2NpdHldIHx8IDEuMDtcbiAgICBjb25zdCBhZGp1c3RlZENvc3QgPSBhZGp1c3RGb3JMaWZlc3R5bGUoYmFzZUNvc3QgKiBjaXR5TXVsdGlwbGllciwgbGlmZXN0eWxlIGFzIGFueSk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgYW1vdW50OiBNYXRoLnJvdW5kKGFkanVzdGVkQ29zdCksXG4gICAgICB0eXBlOiBhY2NvbW1vZGF0aW9uLFxuICAgICAgcmFuZ2U6IGNhbGN1bGF0ZVJhbmdlKGFkanVzdGVkQ29zdCwgMC4zKSxcbiAgICAgIHNvdXJjZTogc291cmNlXG4gICAgfTtcbiAgfVxuXG4gIHByaXZhdGUgY2FsY3VsYXRlRm9vZENvc3QoXG4gICAgY291bnRyeTogJ1VTJyB8ICdBVScsXG4gICAgbGlmZXN0eWxlOiBzdHJpbmcsXG4gICAgZGlldD86IHN0cmluZyxcbiAgICBjaXR5Pzogc3RyaW5nLFxuICAgIHNvdXJjZT86IHN0cmluZ1xuICApIHtcbiAgICBjb25zdCBiYXNlRm9vZCA9IGNvdW50cnkgPT09ICdVUycgPyA0MDAgOiAzNTA7IC8vIOWfuuehgOmjn+eJqeaIkOacrFxuXG4gICAgLy8g6aWu6aOf6LCD5pW0XG4gICAgY29uc3QgZGlldE11bHRpcGxpZXJzID0ge1xuICAgICAgJ25vcm1hbCc6IDEuMCxcbiAgICAgICd2ZWdldGFyaWFuJzogMC44NSxcbiAgICAgICdoYWxhbCc6IDEuMSxcbiAgICAgICdrb3NoZXInOiAxLjIsXG4gICAgICAnY3VzdG9tJzogMS4xNVxuICAgIH07XG5cbiAgICBjb25zdCBkaWV0TXVsdGlwbGllciA9IChkaWV0TXVsdGlwbGllcnMgYXMgYW55KVtkaWV0IHx8ICdub3JtYWwnXTtcbiAgICBjb25zdCBhZGp1c3RlZENvc3QgPSBhZGp1c3RGb3JMaWZlc3R5bGUoYmFzZUZvb2QgKiBkaWV0TXVsdGlwbGllciwgbGlmZXN0eWxlIGFzIGFueSk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgYW1vdW50OiBNYXRoLnJvdW5kKGFkanVzdGVkQ29zdCksXG4gICAgICByYW5nZTogY2FsY3VsYXRlUmFuZ2UoYWRqdXN0ZWRDb3N0LCAwLjQpLFxuICAgICAgc291cmNlOiBzb3VyY2VcbiAgICB9O1xuICB9XG5cbiAgcHJpdmF0ZSBjYWxjdWxhdGVUcmFuc3BvcnRhdGlvbkNvc3QoXG4gICAgY291bnRyeTogJ1VTJyB8ICdBVScsXG4gICAgdHJhbnNwb3J0YXRpb24/OiBzdHJpbmcsXG4gICAgbGlmZXN0eWxlPzogc3RyaW5nLFxuICAgIGNpdHk/OiBzdHJpbmcsXG4gICAgc291cmNlPzogc3RyaW5nXG4gICkge1xuICAgIGNvbnN0IHRyYW5zcG9ydENvc3RzID0ge1xuICAgICAgJ3dhbGtpbmcnOiBjb3VudHJ5ID09PSAnVVMnID8gNTAgOiA0MCxcbiAgICAgICdwdWJsaWMnOiBjb3VudHJ5ID09PSAnVVMnID8gMTIwIDogMTAwLFxuICAgICAgJ2Jpa2UnOiBjb3VudHJ5ID09PSAnVVMnID8gMzAgOiAyNSxcbiAgICAgICdjYXInOiBjb3VudHJ5ID09PSAnVVMnID8gNDAwIDogMzUwXG4gICAgfTtcblxuICAgIGNvbnN0IGJhc2VDb3N0ID0gKHRyYW5zcG9ydENvc3RzIGFzIGFueSlbdHJhbnNwb3J0YXRpb24gfHwgJ3B1YmxpYyddO1xuICAgIGNvbnN0IGFkanVzdGVkQ29zdCA9IGFkanVzdEZvckxpZmVzdHlsZShiYXNlQ29zdCwgbGlmZXN0eWxlIGFzIGFueSk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgYW1vdW50OiBNYXRoLnJvdW5kKGFkanVzdGVkQ29zdCksXG4gICAgICByYW5nZTogY2FsY3VsYXRlUmFuZ2UoYWRqdXN0ZWRDb3N0LCAwLjMpLFxuICAgICAgc291cmNlOiBzb3VyY2VcbiAgICB9O1xuICB9XG5cbiAgcHJpdmF0ZSBjYWxjdWxhdGVVdGlsaXRpZXNDb3N0KFxuICAgIGNvdW50cnk6ICdVUycgfCAnQVUnLFxuICAgIGFjY29tbW9kYXRpb246IHN0cmluZyxcbiAgICBsaWZlc3R5bGU6IHN0cmluZyxcbiAgICBzb3VyY2U/OiBzdHJpbmdcbiAgKSB7XG4gICAgY29uc3QgYmFzZVV0aWxpdGllcyA9IGNvdW50cnkgPT09ICdVUycgPyAxNTAgOiAxMzA7XG5cbiAgICAvLyDkvY/lrr/nsbvlnovosIPmlbRcbiAgICBjb25zdCBhY2NvbW1vZGF0aW9uTXVsdGlwbGllcnMgPSB7XG4gICAgICAnZG9ybWl0b3J5JzogMC4zLCAvLyDlrr/oiI3pgJrluLjljIXlkKvlnKjotLnnlKjkuK1cbiAgICAgICdzaGFyZWQnOiAwLjUsXG4gICAgICAnc3R1ZGlvJzogMC44LFxuICAgICAgJ2FwYXJ0bWVudCc6IDEuMFxuICAgIH07XG5cbiAgICBjb25zdCBhY2NvbW1vZGF0aW9uTXVsdGlwbGllciA9IChhY2NvbW1vZGF0aW9uTXVsdGlwbGllcnMgYXMgYW55KVthY2NvbW1vZGF0aW9uXTtcbiAgICBjb25zdCBhZGp1c3RlZENvc3QgPSBhZGp1c3RGb3JMaWZlc3R5bGUoYmFzZVV0aWxpdGllcyAqIGFjY29tbW9kYXRpb25NdWx0aXBsaWVyLCBsaWZlc3R5bGUgYXMgYW55KTtcblxuICAgIHJldHVybiB7XG4gICAgICBhbW91bnQ6IE1hdGgucm91bmQoYWRqdXN0ZWRDb3N0KSxcbiAgICAgIHJhbmdlOiBjYWxjdWxhdGVSYW5nZShhZGp1c3RlZENvc3QsIDAuMyksXG4gICAgICBzb3VyY2U6IHNvdXJjZVxuICAgIH07XG4gIH1cblxuICBwcml2YXRlIGNhbGN1bGF0ZUVudGVydGFpbm1lbnRDb3N0KFxuICAgIGNvdW50cnk6ICdVUycgfCAnQVUnLFxuICAgIGxpZmVzdHlsZTogc3RyaW5nLFxuICAgIGNpdHk6IHN0cmluZyxcbiAgICBzb3VyY2U/OiBzdHJpbmdcbiAgKSB7XG4gICAgY29uc3QgYmFzZUVudGVydGFpbm1lbnQgPSBjb3VudHJ5ID09PSAnVVMnID8gMjUwIDogMjAwO1xuICAgIGNvbnN0IGFkanVzdGVkQ29zdCA9IGFkanVzdEZvckxpZmVzdHlsZShiYXNlRW50ZXJ0YWlubWVudCwgbGlmZXN0eWxlIGFzIGFueSk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgYW1vdW50OiBNYXRoLnJvdW5kKGFkanVzdGVkQ29zdCksXG4gICAgICByYW5nZTogY2FsY3VsYXRlUmFuZ2UoYWRqdXN0ZWRDb3N0LCAwLjUpLFxuICAgICAgc291cmNlOiBzb3VyY2VcbiAgICB9O1xuICB9XG5cbiAgcHJpdmF0ZSBjYWxjdWxhdGVNaXNjZWxsYW5lb3VzQ29zdChcbiAgICBjb3VudHJ5OiAnVVMnIHwgJ0FVJyxcbiAgICBsaWZlc3R5bGU6IHN0cmluZyxcbiAgICBzb3VyY2U/OiBzdHJpbmdcbiAgKSB7XG4gICAgY29uc3QgYmFzZU1pc2MgPSBjb3VudHJ5ID09PSAnVVMnID8gMjAwIDogMTgwO1xuICAgIGNvbnN0IGFkanVzdGVkQ29zdCA9IGFkanVzdEZvckxpZmVzdHlsZShiYXNlTWlzYywgbGlmZXN0eWxlIGFzIGFueSk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgYW1vdW50OiBNYXRoLnJvdW5kKGFkanVzdGVkQ29zdCksXG4gICAgICByYW5nZTogY2FsY3VsYXRlUmFuZ2UoYWRqdXN0ZWRDb3N0LCAwLjQpLFxuICAgICAgc291cmNlOiBzb3VyY2VcbiAgICB9O1xuICB9XG5cbiAgcHJpdmF0ZSBnZXRGYWxsYmFja0xpdmluZ0Nvc3RzKHVzZXJJbnB1dDogVXNlcklucHV0KTogTGl2aW5nQ29zdHMge1xuICAgIGNvbnN0IHsgY291bnRyeSwgbGlmZXN0eWxlIH0gPSB1c2VySW5wdXQ7XG4gICAgY29uc3QgY3VycmVuY3kgPSBjb3VudHJ5ID09PSAnVVMnID8gJ1VTRCcgOiAnQVVEJztcblxuICAgIC8vIOe0p+aApeWQjuWkh+aVsOaNrlxuICAgIGNvbnN0IGZhbGxiYWNrRGF0YSA9IHtcbiAgICAgICdVUyc6IHtcbiAgICAgICAgJ2Vjb25vbXknOiB7IHRvdGFsOiAxODAwIH0sXG4gICAgICAgICdzdGFuZGFyZCc6IHsgdG90YWw6IDI1MDAgfSxcbiAgICAgICAgJ2NvbWZvcnRhYmxlJzogeyB0b3RhbDogMzIwMCB9XG4gICAgICB9LFxuICAgICAgJ0FVJzoge1xuICAgICAgICAnZWNvbm9teSc6IHsgdG90YWw6IDE2MDAgfSxcbiAgICAgICAgJ3N0YW5kYXJkJzogeyB0b3RhbDogMjIwMCB9LFxuICAgICAgICAnY29tZm9ydGFibGUnOiB7IHRvdGFsOiAyODAwIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgdG90YWxDb3N0ID0gKGZhbGxiYWNrRGF0YSBhcyBhbnkpW2NvdW50cnldW2xpZmVzdHlsZV0udG90YWw7XG5cbiAgICByZXR1cm4ge1xuICAgICAgYWNjb21tb2RhdGlvbjogeyBhbW91bnQ6IE1hdGgucm91bmQodG90YWxDb3N0ICogMC40KSwgdHlwZTogdXNlcklucHV0LmFjY29tbW9kYXRpb24sIHJhbmdlOiBjYWxjdWxhdGVSYW5nZSh0b3RhbENvc3QgKiAwLjQpLCBzb3VyY2U6ICflhoXpg6jmlbDmja7lupPkvLDnrpcnIH0sXG4gICAgICBmb29kOiB7IGFtb3VudDogTWF0aC5yb3VuZCh0b3RhbENvc3QgKiAwLjI1KSwgcmFuZ2U6IGNhbGN1bGF0ZVJhbmdlKHRvdGFsQ29zdCAqIDAuMjUpLCBzb3VyY2U6ICflhoXpg6jmlbDmja7lupPkvLDnrpcnIH0sXG4gICAgICB0cmFuc3BvcnRhdGlvbjogeyBhbW91bnQ6IE1hdGgucm91bmQodG90YWxDb3N0ICogMC4xKSwgcmFuZ2U6IGNhbGN1bGF0ZVJhbmdlKHRvdGFsQ29zdCAqIDAuMSksIHNvdXJjZTogJ+WGhemDqOaVsOaNruW6k+S8sOeulycgfSxcbiAgICAgIHV0aWxpdGllczogeyBhbW91bnQ6IE1hdGgucm91bmQodG90YWxDb3N0ICogMC4xKSwgcmFuZ2U6IGNhbGN1bGF0ZVJhbmdlKHRvdGFsQ29zdCAqIDAuMSksIHNvdXJjZTogJ+WGhemDqOaVsOaNruW6k+S8sOeulycgfSxcbiAgICAgIGVudGVydGFpbm1lbnQ6IHsgYW1vdW50OiBNYXRoLnJvdW5kKHRvdGFsQ29zdCAqIDAuMSksIHJhbmdlOiBjYWxjdWxhdGVSYW5nZSh0b3RhbENvc3QgKiAwLjEpLCBzb3VyY2U6ICflhoXpg6jmlbDmja7lupPkvLDnrpcnIH0sXG4gICAgICBtaXNjZWxsYW5lb3VzOiB7IGFtb3VudDogTWF0aC5yb3VuZCh0b3RhbENvc3QgKiAwLjA1KSwgcmFuZ2U6IGNhbGN1bGF0ZVJhbmdlKHRvdGFsQ29zdCAqIDAuMDUpLCBzb3VyY2U6ICflhoXpg6jmlbDmja7lupPkvLDnrpcnIH0sXG4gICAgICB0b3RhbDogeyBhbW91bnQ6IHRvdGFsQ29zdCwgcmFuZ2U6IGNhbGN1bGF0ZVJhbmdlKHRvdGFsQ29zdCkgfSxcbiAgICAgIGN1cnJlbmN5LFxuICAgICAgcGVyaW9kOiAnbW9udGhseScsXG4gICAgICBzb3VyY2VzOiBbJ+WGhemDqOaVsOaNruW6k+S8sOeulyddLFxuICAgICAgY29uZmlkZW5jZTogMC4zIC8vIOWQjuWkh+aVsOaNrue9ruS/oeW6pui+g+S9jlxuICAgIH07XG4gIH1cbn0iXSwibmFtZXMiOlsic2FmZUxMTUNsaWVudCIsIkNJVElFUyIsIkFDQ09NTU9EQVRJT05fQkFTRV9DT1NUUyIsIlNFQVJDSF9NT0RFTCIsImFkanVzdEZvckxpZmVzdHlsZSIsImNhbGN1bGF0ZVJhbmdlIiwiTGl2aW5nQ29zdEFnZW50IiwiYW5hbHl6ZUxpdmluZ0Nvc3RzIiwidXNlcklucHV0IiwiY291bnRyeSIsImNpdHkiLCJsaWZlc3R5bGUiLCJhY2NvbW1vZGF0aW9uIiwiZGlldCIsInRyYW5zcG9ydGF0aW9uIiwiY2l0eURhdGEiLCJmaW5kIiwiYyIsIm5hbWUiLCJFcnJvciIsInJlYWxUaW1lRGF0YSIsImdldFJlYWxUaW1lTGl2aW5nQ29zdHMiLCJhY2NvbW1vZGF0aW9uQ29zdCIsImNhbGN1bGF0ZUFjY29tbW9kYXRpb25Db3N0IiwiYWNjb21tb2RhdGlvbl9zb3VyY2UiLCJmb29kQ29zdCIsImNhbGN1bGF0ZUZvb2RDb3N0IiwiZm9vZF9zb3VyY2UiLCJ0cmFuc3BvcnRhdGlvbkNvc3QiLCJjYWxjdWxhdGVUcmFuc3BvcnRhdGlvbkNvc3QiLCJ0cmFuc3BvcnRhdGlvbl9zb3VyY2UiLCJ1dGlsaXRpZXNDb3N0IiwiY2FsY3VsYXRlVXRpbGl0aWVzQ29zdCIsInV0aWxpdGllc19zb3VyY2UiLCJlbnRlcnRhaW5tZW50Q29zdCIsImNhbGN1bGF0ZUVudGVydGFpbm1lbnRDb3N0IiwiZW50ZXJ0YWlubWVudF9zb3VyY2UiLCJtaXNjZWxsYW5lb3VzQ29zdCIsImNhbGN1bGF0ZU1pc2NlbGxhbmVvdXNDb3N0IiwibWlzY2VsbGFuZW91c19zb3VyY2UiLCJ0b3RhbE1vbnRobHlDb3N0IiwiYW1vdW50IiwiY3VycmVuY3kiLCJmb29kIiwidXRpbGl0aWVzIiwiZW50ZXJ0YWlubWVudCIsIm1pc2NlbGxhbmVvdXMiLCJ0b3RhbCIsIk1hdGgiLCJyb3VuZCIsInJhbmdlIiwicGVyaW9kIiwic291cmNlcyIsInNvdXJjZV91cmwiLCJmaWx0ZXIiLCJCb29sZWFuIiwiY29uZmlkZW5jZSIsImVycm9yIiwiY29uc29sZSIsImdldEZhbGxiYWNrTGl2aW5nQ29zdHMiLCJzZWFyY2hRdWVyeSIsInNlYXJjaFJlc3VsdHMiLCJzYWZlU2VhcmNoIiwiZmFsbGJhY2tEYXRhIiwiZXh0cmFjdExpdmluZ0Nvc3RzIiwibG9nIiwic291cmNlIiwiYmFzZUNvc3QiLCJjaXR5TXVsdGlwbGllcnMiLCJjaXR5TXVsdGlwbGllciIsImFkanVzdGVkQ29zdCIsInR5cGUiLCJiYXNlRm9vZCIsImRpZXRNdWx0aXBsaWVycyIsImRpZXRNdWx0aXBsaWVyIiwidHJhbnNwb3J0Q29zdHMiLCJiYXNlVXRpbGl0aWVzIiwiYWNjb21tb2RhdGlvbk11bHRpcGxpZXJzIiwiYWNjb21tb2RhdGlvbk11bHRpcGxpZXIiLCJiYXNlRW50ZXJ0YWlubWVudCIsImJhc2VNaXNjIiwidG90YWxDb3N0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/agents/living-cost-agent.ts\n");

/***/ }),

/***/ "(rsc)/./lib/agents/other-costs-agent.ts":
/*!*****************************************!*\
  !*** ./lib/agents/other-costs-agent.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   OtherCostsAgent: () => (/* binding */ OtherCostsAgent)\n/* harmony export */ });\n/* harmony import */ var _safe_llm_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../safe-llm-client */ \"(rsc)/./lib/safe-llm-client.ts\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../constants */ \"(rsc)/./lib/constants.ts\");\n\n\nclass OtherCostsAgent {\n    async calculateOtherCosts(userInput) {\n        const { country, university, level } = userInput;\n        try {\n            // 并行获取各种费用信息\n            const [applicationFee, visaFee, healthInsurance] = await Promise.all([\n                this.getApplicationFee(university, level, country),\n                this.getVisaFee(country),\n                this.getHealthInsurance(country, university)\n            ]);\n            const currency = country === 'US' ? 'USD' : 'AUD';\n            return {\n                applicationFee,\n                visaFee,\n                healthInsurance,\n                currency\n            };\n        } catch (error) {\n            console.error('Other costs calculation error:', error);\n            return this.getFallbackOtherCosts(userInput);\n        }\n    }\n    async getApplicationFee(university, level, country) {\n        try {\n            // 获取大学官网信息\n            const universityData = [\n                ..._constants__WEBPACK_IMPORTED_MODULE_1__.US_UNIVERSITIES,\n                ..._constants__WEBPACK_IMPORTED_MODULE_1__.AU_UNIVERSITIES\n            ].find((uni)=>uni.name === university);\n            if (!universityData) {\n                throw new Error('University not found');\n            }\n            // 搜索申请费信息\n            const searchQuery = `${university} application fee ${level} ${new Date().getFullYear()} international students`;\n            // 使用gpt-4o-search-preview模型进行搜索\n            const searchResults = await _safe_llm_client__WEBPACK_IMPORTED_MODULE_0__.safeLLMClient.safeSearch(searchQuery, '数据暂时不可用', _constants__WEBPACK_IMPORTED_MODULE_1__.SEARCH_MODEL);\n            const fallbackData = {\n                application_fee: country === 'US' ? 85 : 100,\n                source_url: universityData.website,\n                confidence: 0.5\n            };\n            const extractedData = await _safe_llm_client__WEBPACK_IMPORTED_MODULE_0__.safeLLMClient.extractApplicationFee(searchResults, fallbackData);\n            if (extractedData && extractedData.application_fee && extractedData.confidence > 0.6) {\n                return {\n                    amount: extractedData.application_fee,\n                    source: this.validateUrl(extractedData.source_url) || universityData.website,\n                    confidence: extractedData.confidence\n                };\n            }\n            // 使用默认估算\n            const defaultFees = {\n                'US': {\n                    'undergraduate': 85,\n                    'graduate': 110\n                },\n                'AU': {\n                    'undergraduate': 100,\n                    'graduate': 125\n                }\n            };\n            return {\n                amount: defaultFees[country][level],\n                source: `${university}申请费估算`,\n                confidence: 0.6\n            };\n        } catch (error) {\n            console.error('Application fee query failed:', error);\n            // 紧急后备费用\n            const emergencyFees = {\n                'US': {\n                    'undergraduate': 75,\n                    'graduate': 100\n                },\n                'AU': {\n                    'undergraduate': 80,\n                    'graduate': 100\n                }\n            };\n            return {\n                amount: emergencyFees[country][level],\n                source: '基于市场平均数据估算',\n                confidence: 0.4\n            };\n        }\n    }\n    async getVisaFee(country) {\n        try {\n            if (country === 'US') {\n                return {\n                    amount: _constants__WEBPACK_IMPORTED_MODULE_1__.VISA_FEES.US.F1,\n                    source: _constants__WEBPACK_IMPORTED_MODULE_1__.VISA_FEES.US.source,\n                    confidence: 0.9 // 官方费用，置信度高\n                };\n            } else {\n                return {\n                    amount: _constants__WEBPACK_IMPORTED_MODULE_1__.VISA_FEES.AU.student,\n                    source: _constants__WEBPACK_IMPORTED_MODULE_1__.VISA_FEES.AU.source,\n                    confidence: 0.9 // 官方费用，置信度高\n                };\n            }\n        } catch (error) {\n            console.error('Visa fee query failed:', error);\n            // 紧急后备费用\n            const emergencyFees = {\n                'US': {\n                    amount: 350,\n                    source: '美国学生签证标准费用',\n                    confidence: 0.8\n                },\n                'AU': {\n                    amount: 650,\n                    source: '澳大利亚学生签证标准费用',\n                    confidence: 0.8\n                }\n            };\n            return emergencyFees[country];\n        }\n    }\n    async getHealthInsurance(country, university) {\n        try {\n            // 搜索健康保险费用\n            const searchQuery = `${university} ${country === 'US' ? 'health insurance' : 'OSHC'} international students ${new Date().getFullYear()}`;\n            // 使用gpt-4o-search-preview模型进行搜索\n            const searchResults = await _safe_llm_client__WEBPACK_IMPORTED_MODULE_0__.safeLLMClient.safeSearch(searchQuery, '数据暂时不可用', _constants__WEBPACK_IMPORTED_MODULE_1__.SEARCH_MODEL);\n            const fallbackData = {\n                insurance_fee: country === 'US' ? 2500 : 600,\n                source_url: 'https://www.healthcare.gov',\n                confidence: 0.5\n            };\n            const extractedData = await _safe_llm_client__WEBPACK_IMPORTED_MODULE_0__.safeLLMClient.extractHealthInsurance(searchResults, fallbackData);\n            if (extractedData && extractedData.insurance_fee && extractedData.confidence > 0.6) {\n                return {\n                    amount: extractedData.insurance_fee,\n                    source: this.validateUrl(extractedData.source_url) || '健康保险提供商',\n                    confidence: extractedData.confidence\n                };\n            }\n            // 默认费用\n            const defaultInsurance = {\n                'US': {\n                    amount: 2500,\n                    source: '美国国际学生健康保险平均费用',\n                    confidence: 0.6\n                },\n                'AU': {\n                    amount: 600,\n                    source: '澳大利亚海外学生健康保险(OSHC)年费',\n                    confidence: 0.6\n                }\n            };\n            return defaultInsurance[country];\n        } catch (error) {\n            console.error('Health insurance query failed:', error);\n            return undefined;\n        }\n    }\n    getFallbackOtherCosts(userInput) {\n        const { country } = userInput;\n        const currency = country === 'US' ? 'USD' : 'AUD';\n        return {\n            applicationFee: {\n                amount: country === 'US' ? 85 : 100,\n                source: '紧急后备数据',\n                confidence: 0.3\n            },\n            visaFee: {\n                amount: country === 'US' ? 350 : 650,\n                source: '官方标准费用',\n                confidence: 0.9\n            },\n            healthInsurance: {\n                amount: country === 'US' ? 2500 : 600,\n                source: '紧急后备数据',\n                confidence: 0.3\n            },\n            currency\n        };\n    }\n    async getAdditionalCosts(userInput) {\n        // 可扩展的其他费用查询\n        try {\n            const additionalCosts = {};\n            // 根据用户输入查询其他相关费用\n            // 例如：机票、英语考试费用、材料费等\n            return additionalCosts;\n        } catch (error) {\n            console.error('Additional costs query failed:', error);\n            return {};\n        }\n    }\n    validateUrl(url) {\n        try {\n            new URL(url);\n            return url;\n        } catch  {\n            return null;\n        }\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFNK0Msa0JBQXlFLENBQUM7WUFFaEYsaUJBQWlCO1lBQ2pCLG9CQUFvQjtZQUVwQixPQUFPQTtRQUNULEVBQUUsT0FBT2xDLE9BQU87WUFDZEMsUUFBUUQsS0FBSyxDQUFDLGtDQUFrQ0E7WUFDaEQsT0FBTyxDQUFDO1FBQ1Y7SUFDRjtJQUVRc0IsWUFBWWEsR0FBVyxFQUFpQjtRQUM5QyxJQUFJO1lBQ0YsSUFBSUMsSUFBSUQ7WUFDUixPQUFPQTtRQUNULEVBQUUsT0FBTTtZQUNOLE9BQU87UUFDVDtJQUNGO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jb3N0LWVzdGltYXRvci8uL2xpYi9hZ2VudHMvb3RoZXItY29zdHMtYWdlbnQudHM/YmQzZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBvcGVuUm91dGVyQ2xpZW50IH0gZnJvbSAnLi4vb3BlbnJvdXRlcic7XG5pbXBvcnQgeyBzYWZlTExNQ2xpZW50IH0gZnJvbSAnLi4vc2FmZS1sbG0tY2xpZW50JztcbmltcG9ydCB7IFVzZXJJbnB1dCwgT3RoZXJDb3N0cyB9IGZyb20gJ0AvdHlwZXMnO1xuaW1wb3J0IHsgVklTQV9GRUVTLCBVU19VTklWRVJTSVRJRVMsIEFVX1VOSVZFUlNJVElFUywgU0VBUkNIX01PREVMIH0gZnJvbSAnLi4vY29uc3RhbnRzJztcblxuZXhwb3J0IGNsYXNzIE90aGVyQ29zdHNBZ2VudCB7XG4gIGFzeW5jIGNhbGN1bGF0ZU90aGVyQ29zdHModXNlcklucHV0OiBVc2VySW5wdXQpOiBQcm9taXNlPE90aGVyQ29zdHM+IHtcbiAgICBjb25zdCB7IGNvdW50cnksIHVuaXZlcnNpdHksIGxldmVsIH0gPSB1c2VySW5wdXQ7XG5cbiAgICB0cnkge1xuICAgICAgLy8g5bm26KGM6I635Y+W5ZCE56eN6LS555So5L+h5oGvXG4gICAgICBjb25zdCBbYXBwbGljYXRpb25GZWUsIHZpc2FGZWUsIGhlYWx0aEluc3VyYW5jZV0gPSBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICAgIHRoaXMuZ2V0QXBwbGljYXRpb25GZWUodW5pdmVyc2l0eSwgbGV2ZWwsIGNvdW50cnkpLFxuICAgICAgICB0aGlzLmdldFZpc2FGZWUoY291bnRyeSksXG4gICAgICAgIHRoaXMuZ2V0SGVhbHRoSW5zdXJhbmNlKGNvdW50cnksIHVuaXZlcnNpdHkpXG4gICAgICBdKTtcblxuICAgICAgY29uc3QgY3VycmVuY3kgPSBjb3VudHJ5ID09PSAnVVMnID8gJ1VTRCcgOiAnQVVEJztcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgYXBwbGljYXRpb25GZWUsXG4gICAgICAgIHZpc2FGZWUsXG4gICAgICAgIGhlYWx0aEluc3VyYW5jZSxcbiAgICAgICAgY3VycmVuY3lcbiAgICAgIH07XG5cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignT3RoZXIgY29zdHMgY2FsY3VsYXRpb24gZXJyb3I6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0RmFsbGJhY2tPdGhlckNvc3RzKHVzZXJJbnB1dCk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBnZXRBcHBsaWNhdGlvbkZlZShcbiAgICB1bml2ZXJzaXR5OiBzdHJpbmcsXG4gICAgbGV2ZWw6ICd1bmRlcmdyYWR1YXRlJyB8ICdncmFkdWF0ZScsXG4gICAgY291bnRyeTogJ1VTJyB8ICdBVSdcbiAgKTogUHJvbWlzZTx7IGFtb3VudDogbnVtYmVyOyBzb3VyY2U6IHN0cmluZzsgY29uZmlkZW5jZT86IG51bWJlciB9PiB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIOiOt+WPluWkp+WtpuWumOe9keS/oeaBr1xuICAgICAgY29uc3QgdW5pdmVyc2l0eURhdGEgPSBbLi4uVVNfVU5JVkVSU0lUSUVTLCAuLi5BVV9VTklWRVJTSVRJRVNdLmZpbmQoXG4gICAgICAgIHVuaSA9PiB1bmkubmFtZSA9PT0gdW5pdmVyc2l0eVxuICAgICAgKTtcblxuICAgICAgaWYgKCF1bml2ZXJzaXR5RGF0YSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuaXZlcnNpdHkgbm90IGZvdW5kJyk7XG4gICAgICB9XG5cbiAgICAgIC8vIOaQnOe0oueUs+ivt+i0ueS/oeaBr1xuICAgICAgY29uc3Qgc2VhcmNoUXVlcnkgPSBgJHt1bml2ZXJzaXR5fSBhcHBsaWNhdGlvbiBmZWUgJHtsZXZlbH0gJHtuZXcgRGF0ZSgpLmdldEZ1bGxZZWFyKCl9IGludGVybmF0aW9uYWwgc3R1ZGVudHNgO1xuXG4gICAgICAvLyDkvb/nlKhncHQtNG8tc2VhcmNoLXByZXZpZXfmqKHlnovov5vooYzmkJzntKJcbiAgICAgIGNvbnN0IHNlYXJjaFJlc3VsdHMgPSBhd2FpdCBzYWZlTExNQ2xpZW50LnNhZmVTZWFyY2goc2VhcmNoUXVlcnksICfmlbDmja7mmoLml7bkuI3lj6/nlKgnLCBTRUFSQ0hfTU9ERUwpO1xuXG4gICAgICBjb25zdCBmYWxsYmFja0RhdGEgPSB7XG4gICAgICAgIGFwcGxpY2F0aW9uX2ZlZTogY291bnRyeSA9PT0gJ1VTJyA/IDg1IDogMTAwLFxuICAgICAgICBzb3VyY2VfdXJsOiB1bml2ZXJzaXR5RGF0YS53ZWJzaXRlLFxuICAgICAgICBjb25maWRlbmNlOiAwLjVcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IGV4dHJhY3RlZERhdGEgPSBhd2FpdCBzYWZlTExNQ2xpZW50LmV4dHJhY3RBcHBsaWNhdGlvbkZlZShzZWFyY2hSZXN1bHRzLCBmYWxsYmFja0RhdGEpO1xuXG4gICAgICBpZiAoZXh0cmFjdGVkRGF0YSAmJiBleHRyYWN0ZWREYXRhLmFwcGxpY2F0aW9uX2ZlZSAmJiBleHRyYWN0ZWREYXRhLmNvbmZpZGVuY2UgPiAwLjYpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBhbW91bnQ6IGV4dHJhY3RlZERhdGEuYXBwbGljYXRpb25fZmVlLFxuICAgICAgICAgIHNvdXJjZTogdGhpcy52YWxpZGF0ZVVybChleHRyYWN0ZWREYXRhLnNvdXJjZV91cmwpIHx8IHVuaXZlcnNpdHlEYXRhLndlYnNpdGUsXG4gICAgICAgICAgY29uZmlkZW5jZTogZXh0cmFjdGVkRGF0YS5jb25maWRlbmNlXG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIC8vIOS9v+eUqOm7mOiupOS8sOeul1xuICAgICAgY29uc3QgZGVmYXVsdEZlZXMgPSB7XG4gICAgICAgICdVUyc6IHsgJ3VuZGVyZ3JhZHVhdGUnOiA4NSwgJ2dyYWR1YXRlJzogMTEwIH0sXG4gICAgICAgICdBVSc6IHsgJ3VuZGVyZ3JhZHVhdGUnOiAxMDAsICdncmFkdWF0ZSc6IDEyNSB9XG4gICAgICB9O1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBhbW91bnQ6IChkZWZhdWx0RmVlcyBhcyBhbnkpW2NvdW50cnldW2xldmVsXSxcbiAgICAgICAgc291cmNlOiBgJHt1bml2ZXJzaXR5feeUs+ivt+i0ueS8sOeul2AsXG4gICAgICAgIGNvbmZpZGVuY2U6IDAuNlxuICAgICAgfTtcblxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdBcHBsaWNhdGlvbiBmZWUgcXVlcnkgZmFpbGVkOicsIGVycm9yKTtcblxuICAgICAgLy8g57Sn5oCl5ZCO5aSH6LS555SoXG4gICAgICBjb25zdCBlbWVyZ2VuY3lGZWVzID0ge1xuICAgICAgICAnVVMnOiB7ICd1bmRlcmdyYWR1YXRlJzogNzUsICdncmFkdWF0ZSc6IDEwMCB9LFxuICAgICAgICAnQVUnOiB7ICd1bmRlcmdyYWR1YXRlJzogODAsICdncmFkdWF0ZSc6IDEwMCB9XG4gICAgICB9O1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBhbW91bnQ6IChlbWVyZ2VuY3lGZWVzIGFzIGFueSlbY291bnRyeV1bbGV2ZWxdLFxuICAgICAgICBzb3VyY2U6ICfln7rkuo7luILlnLrlubPlnYfmlbDmja7kvLDnrpcnLFxuICAgICAgICBjb25maWRlbmNlOiAwLjRcbiAgICAgIH07XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBnZXRWaXNhRmVlKGNvdW50cnk6ICdVUycgfCAnQVUnKTogUHJvbWlzZTx7IGFtb3VudDogbnVtYmVyOyBzb3VyY2U6IHN0cmluZzsgY29uZmlkZW5jZT86IG51bWJlciB9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGlmIChjb3VudHJ5ID09PSAnVVMnKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgYW1vdW50OiBWSVNBX0ZFRVMuVVMuRjEsXG4gICAgICAgICAgc291cmNlOiBWSVNBX0ZFRVMuVVMuc291cmNlLFxuICAgICAgICAgIGNvbmZpZGVuY2U6IDAuOSAvLyDlrpjmlrnotLnnlKjvvIznva7kv6Hluqbpq5hcbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgYW1vdW50OiBWSVNBX0ZFRVMuQVUuc3R1ZGVudCxcbiAgICAgICAgICBzb3VyY2U6IFZJU0FfRkVFUy5BVS5zb3VyY2UsXG4gICAgICAgICAgY29uZmlkZW5jZTogMC45IC8vIOWumOaWuei0ueeUqO+8jOe9ruS/oeW6pumrmFxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdWaXNhIGZlZSBxdWVyeSBmYWlsZWQ6JywgZXJyb3IpO1xuICAgICAgXG4gICAgICAvLyDntKfmgKXlkI7lpIfotLnnlKhcbiAgICAgIGNvbnN0IGVtZXJnZW5jeUZlZXMgPSB7XG4gICAgICAgICdVUyc6IHsgYW1vdW50OiAzNTAsIHNvdXJjZTogJ+e+juWbveWtpueUn+etvuivgeagh+WHhui0ueeUqCcsIGNvbmZpZGVuY2U6IDAuOCB9LFxuICAgICAgICAnQVUnOiB7IGFtb3VudDogNjUwLCBzb3VyY2U6ICfmvrPlpKfliKnkuprlrabnlJ/nrb7or4HmoIflh4botLnnlKgnLCBjb25maWRlbmNlOiAwLjggfVxuICAgICAgfTtcblxuICAgICAgcmV0dXJuIGVtZXJnZW5jeUZlZXNbY291bnRyeV07XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBnZXRIZWFsdGhJbnN1cmFuY2UoXG4gICAgY291bnRyeTogJ1VTJyB8ICdBVScsXG4gICAgdW5pdmVyc2l0eTogc3RyaW5nXG4gICk6IFByb21pc2U8eyBhbW91bnQ6IG51bWJlcjsgc291cmNlOiBzdHJpbmc7IGNvbmZpZGVuY2U/OiBudW1iZXIgfSB8IHVuZGVmaW5lZD4ge1xuICAgIHRyeSB7XG4gICAgICAvLyDmkJzntKLlgaXlurfkv53pmanotLnnlKhcbiAgICAgIGNvbnN0IHNlYXJjaFF1ZXJ5ID0gYCR7dW5pdmVyc2l0eX0gJHtjb3VudHJ5ID09PSAnVVMnID8gJ2hlYWx0aCBpbnN1cmFuY2UnIDogJ09TSEMnfSBpbnRlcm5hdGlvbmFsIHN0dWRlbnRzICR7bmV3IERhdGUoKS5nZXRGdWxsWWVhcigpfWA7XG5cbiAgICAgIC8vIOS9v+eUqGdwdC00by1zZWFyY2gtcHJldmlld+aooeWei+i/m+ihjOaQnOe0olxuICAgICAgY29uc3Qgc2VhcmNoUmVzdWx0cyA9IGF3YWl0IHNhZmVMTE1DbGllbnQuc2FmZVNlYXJjaChzZWFyY2hRdWVyeSwgJ+aVsOaNruaaguaXtuS4jeWPr+eUqCcsIFNFQVJDSF9NT0RFTCk7XG5cbiAgICAgIGNvbnN0IGZhbGxiYWNrRGF0YSA9IHtcbiAgICAgICAgaW5zdXJhbmNlX2ZlZTogY291bnRyeSA9PT0gJ1VTJyA/IDI1MDAgOiA2MDAsXG4gICAgICAgIHNvdXJjZV91cmw6ICdodHRwczovL3d3dy5oZWFsdGhjYXJlLmdvdicsXG4gICAgICAgIGNvbmZpZGVuY2U6IDAuNVxuICAgICAgfTtcblxuICAgICAgY29uc3QgZXh0cmFjdGVkRGF0YSA9IGF3YWl0IHNhZmVMTE1DbGllbnQuZXh0cmFjdEhlYWx0aEluc3VyYW5jZShzZWFyY2hSZXN1bHRzLCBmYWxsYmFja0RhdGEpO1xuXG4gICAgICBpZiAoZXh0cmFjdGVkRGF0YSAmJiBleHRyYWN0ZWREYXRhLmluc3VyYW5jZV9mZWUgJiYgZXh0cmFjdGVkRGF0YS5jb25maWRlbmNlID4gMC42KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgYW1vdW50OiBleHRyYWN0ZWREYXRhLmluc3VyYW5jZV9mZWUsXG4gICAgICAgICAgc291cmNlOiB0aGlzLnZhbGlkYXRlVXJsKGV4dHJhY3RlZERhdGEuc291cmNlX3VybCkgfHwgJ+WBpeW6t+S/nemZqeaPkOS+m+WVhicsXG4gICAgICAgICAgY29uZmlkZW5jZTogZXh0cmFjdGVkRGF0YS5jb25maWRlbmNlXG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIC8vIOm7mOiupOi0ueeUqFxuICAgICAgY29uc3QgZGVmYXVsdEluc3VyYW5jZSA9IHtcbiAgICAgICAgJ1VTJzogeyBhbW91bnQ6IDI1MDAsIHNvdXJjZTogJ+e+juWbveWbvemZheWtpueUn+WBpeW6t+S/nemZqeW5s+Wdh+i0ueeUqCcsIGNvbmZpZGVuY2U6IDAuNiB9LFxuICAgICAgICAnQVUnOiB7IGFtb3VudDogNjAwLCBzb3VyY2U6ICfmvrPlpKfliKnkuprmtbflpJblrabnlJ/lgaXlurfkv53pmakoT1NIQynlubTotLknLCBjb25maWRlbmNlOiAwLjYgfVxuICAgICAgfTtcblxuICAgICAgcmV0dXJuIGRlZmF1bHRJbnN1cmFuY2VbY291bnRyeV07XG5cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignSGVhbHRoIGluc3VyYW5jZSBxdWVyeSBmYWlsZWQ6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGdldEZhbGxiYWNrT3RoZXJDb3N0cyh1c2VySW5wdXQ6IFVzZXJJbnB1dCk6IE90aGVyQ29zdHMge1xuICAgIGNvbnN0IHsgY291bnRyeSB9ID0gdXNlcklucHV0O1xuICAgIGNvbnN0IGN1cnJlbmN5ID0gY291bnRyeSA9PT0gJ1VTJyA/ICdVU0QnIDogJ0FVRCc7XG5cbiAgICByZXR1cm4ge1xuICAgICAgYXBwbGljYXRpb25GZWU6IHsgYW1vdW50OiBjb3VudHJ5ID09PSAnVVMnID8gODUgOiAxMDAsIHNvdXJjZTogJ+e0p+aApeWQjuWkh+aVsOaNricsIGNvbmZpZGVuY2U6IDAuMyB9LFxuICAgICAgdmlzYUZlZTogeyBhbW91bnQ6IGNvdW50cnkgPT09ICdVUycgPyAzNTAgOiA2NTAsIHNvdXJjZTogJ+WumOaWueagh+WHhui0ueeUqCcsIGNvbmZpZGVuY2U6IDAuOSB9LFxuICAgICAgaGVhbHRoSW5zdXJhbmNlOiB7IGFtb3VudDogY291bnRyeSA9PT0gJ1VTJyA/IDI1MDAgOiA2MDAsIHNvdXJjZTogJ+e0p+aApeWQjuWkh+aVsOaNricsIGNvbmZpZGVuY2U6IDAuMyB9LFxuICAgICAgY3VycmVuY3lcbiAgICB9O1xuICB9XG5cbiAgYXN5bmMgZ2V0QWRkaXRpb25hbENvc3RzKFxuICAgIHVzZXJJbnB1dDogVXNlcklucHV0XG4gICk6IFByb21pc2U8eyBba2V5OiBzdHJpbmddOiB7IGFtb3VudDogbnVtYmVyOyBzb3VyY2U6IHN0cmluZyB9IH0+IHtcbiAgICAvLyDlj6/mianlsZXnmoTlhbbku5botLnnlKjmn6Xor6JcbiAgICB0cnkge1xuICAgICAgY29uc3QgYWRkaXRpb25hbENvc3RzOiB7IFtrZXk6IHN0cmluZ106IHsgYW1vdW50OiBudW1iZXI7IHNvdXJjZTogc3RyaW5nIH0gfSA9IHt9O1xuXG4gICAgICAvLyDmoLnmja7nlKjmiLfovpPlhaXmn6Xor6Llhbbku5bnm7jlhbPotLnnlKhcbiAgICAgIC8vIOS+i+Wmgu+8muacuuelqOOAgeiLseivreiAg+ivlei0ueeUqOOAgeadkOaWmei0ueetiVxuXG4gICAgICByZXR1cm4gYWRkaXRpb25hbENvc3RzO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdBZGRpdGlvbmFsIGNvc3RzIHF1ZXJ5IGZhaWxlZDonLCBlcnJvcik7XG4gICAgICByZXR1cm4ge307XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSB2YWxpZGF0ZVVybCh1cmw6IHN0cmluZyk6IHN0cmluZyB8IG51bGwge1xuICAgIHRyeSB7XG4gICAgICBuZXcgVVJMKHVybCk7XG4gICAgICByZXR1cm4gdXJsO1xuICAgIH0gY2F0Y2gge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG59Il0sIm5hbWVzIjpbInNhZmVMTE1DbGllbnQiLCJWSVNBX0ZFRVMiLCJVU19VTklWRVJTSVRJRVMiLCJBVV9VTklWRVJTSVRJRVMiLCJTRUFSQ0hfTU9ERUwiLCJPdGhlckNvc3RzQWdlbnQiLCJjYWxjdWxhdGVPdGhlckNvc3RzIiwidXNlcklucHV0IiwiY291bnRyeSIsInVuaXZlcnNpdHkiLCJsZXZlbCIsImFwcGxpY2F0aW9uRmVlIiwidmlzYUZlZSIsImhlYWx0aEluc3VyYW5jZSIsIlByb21pc2UiLCJhbGwiLCJnZXRBcHBsaWNhdGlvbkZlZSIsImdldFZpc2FGZWUiLCJnZXRIZWFsdGhJbnN1cmFuY2UiLCJjdXJyZW5jeSIsImVycm9yIiwiY29uc29sZSIsImdldEZhbGxiYWNrT3RoZXJDb3N0cyIsInVuaXZlcnNpdHlEYXRhIiwiZmluZCIsInVuaSIsIm5hbWUiLCJFcnJvciIsInNlYXJjaFF1ZXJ5IiwiRGF0ZSIsImdldEZ1bGxZZWFyIiwic2VhcmNoUmVzdWx0cyIsInNhZmVTZWFyY2giLCJmYWxsYmFja0RhdGEiLCJhcHBsaWNhdGlvbl9mZWUiLCJzb3VyY2VfdXJsIiwid2Vic2l0ZSIsImNvbmZpZGVuY2UiLCJleHRyYWN0ZWREYXRhIiwiZXh0cmFjdEFwcGxpY2F0aW9uRmVlIiwiYW1vdW50Iiwic291cmNlIiwidmFsaWRhdGVVcmwiLCJkZWZhdWx0RmVlcyIsImVtZXJnZW5jeUZlZXMiLCJVUyIsIkYxIiwiQVUiLCJzdHVkZW50IiwiaW5zdXJhbmNlX2ZlZSIsImV4dHJhY3RIZWFsdGhJbnN1cmFuY2UiLCJkZWZhdWx0SW5zdXJhbmNlIiwidW5kZWZpbmVkIiwiZ2V0QWRkaXRpb25hbENvc3RzIiwiYWRkaXRpb25hbENvc3RzIiwidXJsIiwiVVJMIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/agents/other-costs-agent.ts\n");

/***/ }),

/***/ "(rsc)/./lib/agents/report-agent.ts":
/*!************************************!*\
  !*** ./lib/agents/report-agent.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ReportAgent: () => (/* binding */ ReportAgent)\n/* harmony export */ });\n/* harmony import */ var _openrouter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../openrouter */ \"(rsc)/./lib/openrouter.ts\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../constants */ \"(rsc)/./lib/constants.ts\");\n\n\nclass ReportAgent {\n    async generateReport(userInput, tuition, livingCosts, otherCosts) {\n        try {\n            // 计算年度总费用\n            const totalAnnualCost = this.calculateTotalAnnualCost(tuition, livingCosts, otherCosts);\n            const totalMonthlyCost = this.calculateTotalMonthlyCost(livingCosts, otherCosts);\n            // 收集所有来源\n            const sources = this.collectAllSources(tuition, livingCosts, otherCosts);\n            return {\n                userInput,\n                tuition,\n                livingCosts,\n                otherCosts,\n                summary: {\n                    totalAnnualCost,\n                    totalMonthlyCost,\n                    currency: tuition.currency,\n                    breakdown: {\n                        tuition: tuition.amount,\n                        living: livingCosts.total.amount * 12,\n                        other: (otherCosts.applicationFee?.amount || 0) + (otherCosts.visaFee?.amount || 0) + (otherCosts.healthInsurance?.amount || 0)\n                    }\n                },\n                recommendations: this.generateRecommendations(userInput, {\n                    tuition,\n                    livingCosts,\n                    otherCosts\n                }),\n                generatedAt: new Date().toISOString(),\n                sources\n            };\n        } catch (error) {\n            console.error('Report generation failed:', error);\n            throw new Error(`报告生成失败: ${error instanceof Error ? error.message : '未知错误'}`);\n        }\n    }\n    collectAllSources(tuition, livingCosts, otherCosts) {\n        const sources = [];\n        // 学费来源\n        sources.push(`学费数据来源: ${tuition.source} ${tuition.isEstimate ? '(估算)' : '(官方数据)'} ${tuition.confidence ? `(置信度: ${(tuition.confidence * 100).toFixed(0)}%)` : ''}`);\n        // 生活费来源\n        sources.push(...livingCosts.sources.map((source)=>`生活费用数据来源: ${source} ${livingCosts.confidence ? `(置信度: ${(livingCosts.confidence * 100).toFixed(0)}%)` : ''}`));\n        // 各项生活费用的详细来源\n        if (livingCosts.accommodation.source) {\n            sources.push(`住宿费用来源: ${livingCosts.accommodation.source}`);\n        }\n        if (livingCosts.food.source) {\n            sources.push(`餐饮费用来源: ${livingCosts.food.source}`);\n        }\n        if (livingCosts.transportation.source) {\n            sources.push(`交通费用来源: ${livingCosts.transportation.source}`);\n        }\n        if (livingCosts.utilities.source) {\n            sources.push(`水电费用来源: ${livingCosts.utilities.source}`);\n        }\n        if (livingCosts.entertainment.source) {\n            sources.push(`娱乐费用来源: ${livingCosts.entertainment.source}`);\n        }\n        if (livingCosts.miscellaneous.source) {\n            sources.push(`其他生活费用来源: ${livingCosts.miscellaneous.source}`);\n        }\n        // 其他费用来源\n        sources.push(`申请费用来源: ${otherCosts.applicationFee.source} ${otherCosts.applicationFee.confidence ? `(置信度: ${(otherCosts.applicationFee.confidence * 100).toFixed(0)}%)` : ''}`);\n        sources.push(`签证费用来源: ${otherCosts.visaFee.source} ${otherCosts.visaFee.confidence ? `(置信度: ${(otherCosts.visaFee.confidence * 100).toFixed(0)}%)` : ''}`);\n        if (otherCosts.healthInsurance) {\n            sources.push(`健康保险费用来源: ${otherCosts.healthInsurance.source} ${otherCosts.healthInsurance.confidence ? `(置信度: ${(otherCosts.healthInsurance.confidence * 100).toFixed(0)}%)` : ''}`);\n        }\n        // 去重并返回\n        return [\n            ...new Set(sources)\n        ];\n    }\n    async generateReportContent(reportData) {\n        try {\n            const prompt = `Based on the provided JSON data, generate a comprehensive study abroad cost estimation report in Markdown format. \n      \n      JSON Data:\n      ${JSON.stringify(reportData, null, 2)}\n\n      Please structure your report as follows:\n      1. Executive Summary - Overall cost overview\n      2. Cost Breakdown - Detailed breakdown of tuition, living, and other costs\n      3. Data Sources - List all sources with URLs\n      4. Personalized Recommendations - Tailored cost-saving suggestions based on user preferences\n      \n      Requirements:\n      - Use clear, concise language\n      - Include relevant emojis for better visual appeal\n      - Provide actionable recommendations\n      - Highlight data sources and confidence levels\n      - Format numbers as currency\n      - Use Markdown formatting for headings, lists, and emphasis\n      `;\n            const response = await _openrouter__WEBPACK_IMPORTED_MODULE_0__.openRouterClient.chat({\n                model: _constants__WEBPACK_IMPORTED_MODULE_1__.REPORT_MODEL,\n                messages: [\n                    {\n                        role: 'system',\n                        content: 'You are a study abroad financial advisor. Generate comprehensive, well-structured reports in Markdown format based on the provided JSON data.'\n                    },\n                    {\n                        role: 'user',\n                        content: prompt\n                    }\n                ],\n                temperature: 0.5,\n                max_tokens: 3000\n            });\n            return response;\n        } catch (error) {\n            console.error('Report content generation failed:', error);\n            return '# 费用估算报告\\n\\n由于系统错误，无法生成详细报告。请查看各费用项的估算结果。';\n        }\n    }\n    calculateTotalAnnualCost(tuition, livingCosts, otherCosts) {\n        // 计算年度总费用\n        const livingAnnual = livingCosts.total.amount * 12;\n        const otherFees = (otherCosts.applicationFee?.amount || 0) + (otherCosts.visaFee?.amount || 0) + (otherCosts.healthInsurance?.amount || 0);\n        const totalAmount = tuition.amount + livingAnnual + otherFees;\n        return {\n            amount: Math.round(totalAmount),\n            range: {\n                min: Math.round(totalAmount * 0.9),\n                max: Math.round(totalAmount * 1.1)\n            }\n        };\n    }\n    calculateTotalMonthlyCost(livingCosts, otherCosts) {\n        // 计算月度总费用（不包括学费）\n        const otherMonthly = ((otherCosts.applicationFee?.amount || 0) + (otherCosts.visaFee?.amount || 0) + (otherCosts.healthInsurance?.amount || 0)) / 12;\n        const totalAmount = livingCosts.total.amount + otherMonthly;\n        return {\n            amount: Math.round(totalAmount),\n            range: {\n                min: Math.round(totalAmount * 0.9),\n                max: Math.round(totalAmount * 1.1)\n            }\n        };\n    }\n    generateRecommendations(userInput, reportData) {\n        const recommendations = [];\n        // 基于用户输入生成个性化建议\n        if (userInput.lifestyle === 'economy') {\n            recommendations.push('💰 您选择了经济型生活方式，建议自己做饭、使用公共交通，并寻找学生折扣');\n        } else if (userInput.lifestyle === 'comfortable') {\n            recommendations.push('🌟 您选择了舒适型生活方式，建议合理规划娱乐支出，避免过度消费');\n        }\n        if (userInput.accommodation === 'dormitory') {\n            recommendations.push('🏠 选择学校宿舍可以节省住宿费用，并有助于快速融入校园生活');\n        } else if (userInput.accommodation === 'apartment') {\n            recommendations.push('🏢 选择校外公寓提供了更多隐私和自由，但成本较高，建议与室友合租分摊费用');\n        }\n        // 基于数据生成建议\n        if (reportData.livingCosts.total.amount > 2000) {\n            recommendations.push('📈 您所在城市生活成本较高，建议制定详细的月度预算计划');\n        }\n        // 基于置信度的建议\n        if (reportData.tuition.confidence && reportData.tuition.confidence < 0.5) {\n            recommendations.push('⚠️ 学费数据为估算值，建议访问学校官网确认最新学费信息');\n        }\n        if (reportData.livingCosts.confidence && reportData.livingCosts.confidence < 0.5) {\n            recommendations.push('⚠️ 生活费用数据为估算值，建议参考多个来源进行确认');\n        }\n        recommendations.push('📚 建议提前申请奖学金或助学金以减轻学费负担');\n        recommendations.push('💳 考虑办理学生信用卡，积累信用记录并享受学生专属优惠');\n        return recommendations;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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MUMsT0FBTyxDQUFDK0IsVUFBVSxHQUFHLEtBQUs7WUFDeEVaLGdCQUFnQlMsSUFBSSxDQUFDO1FBQ3ZCO1FBRUEsSUFBSWMsV0FBV3pDLFdBQVcsQ0FBQzhCLFVBQVUsSUFBSVcsV0FBV3pDLFdBQVcsQ0FBQzhCLFVBQVUsR0FBRyxLQUFLO1lBQ2hGWixnQkFBZ0JTLElBQUksQ0FBQztRQUN2QjtRQUVBVCxnQkFBZ0JTLElBQUksQ0FBQztRQUNyQlQsZ0JBQWdCUyxJQUFJLENBQUM7UUFFckIsT0FBT1Q7SUFDVDtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY29zdC1lc3RpbWF0b3IvLi9saWIvYWdlbnRzL3JlcG9ydC1hZ2VudC50cz9hZTI0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IG9wZW5Sb3V0ZXJDbGllbnQgfSBmcm9tICcuLi9vcGVucm91dGVyJztcbmltcG9ydCB7IFVzZXJJbnB1dCwgQ29zdEVzdGltYXRlUmVwb3J0LCBUdWl0aW9uRGF0YSwgTGl2aW5nQ29zdHMsIE90aGVyQ29zdHMgfSBmcm9tICdAL3R5cGVzJztcbmltcG9ydCB7IFJFUE9SVF9NT0RFTCB9IGZyb20gJy4uL2NvbnN0YW50cyc7XG5cbmV4cG9ydCBjbGFzcyBSZXBvcnRBZ2VudCB7XG4gIGFzeW5jIGdlbmVyYXRlUmVwb3J0KFxuICAgIHVzZXJJbnB1dDogVXNlcklucHV0LFxuICAgIHR1aXRpb246IFR1aXRpb25EYXRhLFxuICAgIGxpdmluZ0Nvc3RzOiBMaXZpbmdDb3N0cyxcbiAgICBvdGhlckNvc3RzOiBPdGhlckNvc3RzXG4gICk6IFByb21pc2U8Q29zdEVzdGltYXRlUmVwb3J0PiB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIOiuoeeul+W5tOW6puaAu+i0ueeUqFxuICAgICAgY29uc3QgdG90YWxBbm51YWxDb3N0ID0gdGhpcy5jYWxjdWxhdGVUb3RhbEFubnVhbENvc3QodHVpdGlvbiwgbGl2aW5nQ29zdHMsIG90aGVyQ29zdHMpO1xuICAgICAgY29uc3QgdG90YWxNb250aGx5Q29zdCA9IHRoaXMuY2FsY3VsYXRlVG90YWxNb250aGx5Q29zdChsaXZpbmdDb3N0cywgb3RoZXJDb3N0cyk7XG5cbiAgICAgIC8vIOaUtumbhuaJgOacieadpea6kFxuICAgICAgY29uc3Qgc291cmNlcyA9IHRoaXMuY29sbGVjdEFsbFNvdXJjZXModHVpdGlvbiwgbGl2aW5nQ29zdHMsIG90aGVyQ29zdHMpO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICB1c2VySW5wdXQsXG4gICAgICAgIHR1aXRpb24sXG4gICAgICAgIGxpdmluZ0Nvc3RzLFxuICAgICAgICBvdGhlckNvc3RzLFxuICAgICAgICBzdW1tYXJ5OiB7XG4gICAgICAgICAgdG90YWxBbm51YWxDb3N0LFxuICAgICAgICAgIHRvdGFsTW9udGhseUNvc3QsXG4gICAgICAgICAgY3VycmVuY3k6IHR1aXRpb24uY3VycmVuY3ksXG4gICAgICAgICAgYnJlYWtkb3duOiB7XG4gICAgICAgICAgICB0dWl0aW9uOiB0dWl0aW9uLmFtb3VudCxcbiAgICAgICAgICAgIGxpdmluZzogbGl2aW5nQ29zdHMudG90YWwuYW1vdW50ICogMTIsXG4gICAgICAgICAgICBvdGhlcjogKG90aGVyQ29zdHMuYXBwbGljYXRpb25GZWU/LmFtb3VudCB8fCAwKSArIFxuICAgICAgICAgICAgICAgICAgIChvdGhlckNvc3RzLnZpc2FGZWU/LmFtb3VudCB8fCAwKSArIFxuICAgICAgICAgICAgICAgICAgIChvdGhlckNvc3RzLmhlYWx0aEluc3VyYW5jZT8uYW1vdW50IHx8IDApXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICByZWNvbW1lbmRhdGlvbnM6IHRoaXMuZ2VuZXJhdGVSZWNvbW1lbmRhdGlvbnModXNlcklucHV0LCB7IHR1aXRpb24sIGxpdmluZ0Nvc3RzLCBvdGhlckNvc3RzIH0pLFxuICAgICAgICBnZW5lcmF0ZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICBzb3VyY2VzXG4gICAgICB9O1xuXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1JlcG9ydCBnZW5lcmF0aW9uIGZhaWxlZDonLCBlcnJvcik7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYOaKpeWRiueUn+aIkOWksei0pTogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICfmnKrnn6XplJnor68nfWApO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgY29sbGVjdEFsbFNvdXJjZXMoXG4gICAgdHVpdGlvbjogVHVpdGlvbkRhdGEsXG4gICAgbGl2aW5nQ29zdHM6IExpdmluZ0Nvc3RzLFxuICAgIG90aGVyQ29zdHM6IE90aGVyQ29zdHNcbiAgKTogc3RyaW5nW10ge1xuICAgIGNvbnN0IHNvdXJjZXM6IHN0cmluZ1tdID0gW107XG5cbiAgICAvLyDlrabotLnmnaXmupBcbiAgICBzb3VyY2VzLnB1c2goYOWtpui0ueaVsOaNruadpea6kDogJHt0dWl0aW9uLnNvdXJjZX0gJHt0dWl0aW9uLmlzRXN0aW1hdGUgPyAnKOS8sOeulyknIDogJyjlrpjmlrnmlbDmja4pJ30gJHt0dWl0aW9uLmNvbmZpZGVuY2UgPyBgKOe9ruS/oeW6pjogJHsodHVpdGlvbi5jb25maWRlbmNlICogMTAwKS50b0ZpeGVkKDApfSUpYCA6ICcnfWApO1xuXG4gICAgLy8g55Sf5rS76LS55p2l5rqQXG4gICAgc291cmNlcy5wdXNoKC4uLmxpdmluZ0Nvc3RzLnNvdXJjZXMubWFwKHNvdXJjZSA9PiBg55Sf5rS76LS555So5pWw5o2u5p2l5rqQOiAke3NvdXJjZX0gJHtsaXZpbmdDb3N0cy5jb25maWRlbmNlID8gYCjnva7kv6HluqY6ICR7KGxpdmluZ0Nvc3RzLmNvbmZpZGVuY2UgKiAxMDApLnRvRml4ZWQoMCl9JSlgIDogJyd9YCkpO1xuXG4gICAgLy8g5ZCE6aG555Sf5rS76LS555So55qE6K+m57uG5p2l5rqQXG4gICAgaWYgKGxpdmluZ0Nvc3RzLmFjY29tbW9kYXRpb24uc291cmNlKSB7XG4gICAgICBzb3VyY2VzLnB1c2goYOS9j+Wuv+i0ueeUqOadpea6kDogJHtsaXZpbmdDb3N0cy5hY2NvbW1vZGF0aW9uLnNvdXJjZX1gKTtcbiAgICB9XG4gICAgaWYgKGxpdmluZ0Nvc3RzLmZvb2Quc291cmNlKSB7XG4gICAgICBzb3VyY2VzLnB1c2goYOmkkOmlrui0ueeUqOadpea6kDogJHtsaXZpbmdDb3N0cy5mb29kLnNvdXJjZX1gKTtcbiAgICB9XG4gICAgaWYgKGxpdmluZ0Nvc3RzLnRyYW5zcG9ydGF0aW9uLnNvdXJjZSkge1xuICAgICAgc291cmNlcy5wdXNoKGDkuqTpgJrotLnnlKjmnaXmupA6ICR7bGl2aW5nQ29zdHMudHJhbnNwb3J0YXRpb24uc291cmNlfWApO1xuICAgIH1cbiAgICBpZiAobGl2aW5nQ29zdHMudXRpbGl0aWVzLnNvdXJjZSkge1xuICAgICAgc291cmNlcy5wdXNoKGDmsLTnlLXotLnnlKjmnaXmupA6ICR7bGl2aW5nQ29zdHMudXRpbGl0aWVzLnNvdXJjZX1gKTtcbiAgICB9XG4gICAgaWYgKGxpdmluZ0Nvc3RzLmVudGVydGFpbm1lbnQuc291cmNlKSB7XG4gICAgICBzb3VyY2VzLnB1c2goYOWoseS5kOi0ueeUqOadpea6kDogJHtsaXZpbmdDb3N0cy5lbnRlcnRhaW5tZW50LnNvdXJjZX1gKTtcbiAgICB9XG4gICAgaWYgKGxpdmluZ0Nvc3RzLm1pc2NlbGxhbmVvdXMuc291cmNlKSB7XG4gICAgICBzb3VyY2VzLnB1c2goYOWFtuS7lueUn+a0u+i0ueeUqOadpea6kDogJHtsaXZpbmdDb3N0cy5taXNjZWxsYW5lb3VzLnNvdXJjZX1gKTtcbiAgICB9XG5cbiAgICAvLyDlhbbku5botLnnlKjmnaXmupBcbiAgICBzb3VyY2VzLnB1c2goYOeUs+ivt+i0ueeUqOadpea6kDogJHtvdGhlckNvc3RzLmFwcGxpY2F0aW9uRmVlLnNvdXJjZX0gJHtvdGhlckNvc3RzLmFwcGxpY2F0aW9uRmVlLmNvbmZpZGVuY2UgPyBgKOe9ruS/oeW6pjogJHsob3RoZXJDb3N0cy5hcHBsaWNhdGlvbkZlZS5jb25maWRlbmNlICogMTAwKS50b0ZpeGVkKDApfSUpYCA6ICcnfWApO1xuICAgIHNvdXJjZXMucHVzaChg562+6K+B6LS555So5p2l5rqQOiAke290aGVyQ29zdHMudmlzYUZlZS5zb3VyY2V9ICR7b3RoZXJDb3N0cy52aXNhRmVlLmNvbmZpZGVuY2UgPyBgKOe9ruS/oeW6pjogJHsob3RoZXJDb3N0cy52aXNhRmVlLmNvbmZpZGVuY2UgKiAxMDApLnRvRml4ZWQoMCl9JSlgIDogJyd9YCk7XG4gICAgXG4gICAgaWYgKG90aGVyQ29zdHMuaGVhbHRoSW5zdXJhbmNlKSB7XG4gICAgICBzb3VyY2VzLnB1c2goYOWBpeW6t+S/nemZqei0ueeUqOadpea6kDogJHtvdGhlckNvc3RzLmhlYWx0aEluc3VyYW5jZS5zb3VyY2V9ICR7b3RoZXJDb3N0cy5oZWFsdGhJbnN1cmFuY2UuY29uZmlkZW5jZSA/IGAo572u5L+h5bqmOiAkeyhvdGhlckNvc3RzLmhlYWx0aEluc3VyYW5jZS5jb25maWRlbmNlICogMTAwKS50b0ZpeGVkKDApfSUpYCA6ICcnfWApO1xuICAgIH1cblxuICAgIC8vIOWOu+mHjeW5tui/lOWbnlxuICAgIHJldHVybiBbLi4ubmV3IFNldChzb3VyY2VzKV07XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIGdlbmVyYXRlUmVwb3J0Q29udGVudChyZXBvcnREYXRhOiBhbnkpOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBwcm9tcHQgPSBgQmFzZWQgb24gdGhlIHByb3ZpZGVkIEpTT04gZGF0YSwgZ2VuZXJhdGUgYSBjb21wcmVoZW5zaXZlIHN0dWR5IGFicm9hZCBjb3N0IGVzdGltYXRpb24gcmVwb3J0IGluIE1hcmtkb3duIGZvcm1hdC4gXG4gICAgICBcbiAgICAgIEpTT04gRGF0YTpcbiAgICAgICR7SlNPTi5zdHJpbmdpZnkocmVwb3J0RGF0YSwgbnVsbCwgMil9XG5cbiAgICAgIFBsZWFzZSBzdHJ1Y3R1cmUgeW91ciByZXBvcnQgYXMgZm9sbG93czpcbiAgICAgIDEuIEV4ZWN1dGl2ZSBTdW1tYXJ5IC0gT3ZlcmFsbCBjb3N0IG92ZXJ2aWV3XG4gICAgICAyLiBDb3N0IEJyZWFrZG93biAtIERldGFpbGVkIGJyZWFrZG93biBvZiB0dWl0aW9uLCBsaXZpbmcsIGFuZCBvdGhlciBjb3N0c1xuICAgICAgMy4gRGF0YSBTb3VyY2VzIC0gTGlzdCBhbGwgc291cmNlcyB3aXRoIFVSTHNcbiAgICAgIDQuIFBlcnNvbmFsaXplZCBSZWNvbW1lbmRhdGlvbnMgLSBUYWlsb3JlZCBjb3N0LXNhdmluZyBzdWdnZXN0aW9ucyBiYXNlZCBvbiB1c2VyIHByZWZlcmVuY2VzXG4gICAgICBcbiAgICAgIFJlcXVpcmVtZW50czpcbiAgICAgIC0gVXNlIGNsZWFyLCBjb25jaXNlIGxhbmd1YWdlXG4gICAgICAtIEluY2x1ZGUgcmVsZXZhbnQgZW1vamlzIGZvciBiZXR0ZXIgdmlzdWFsIGFwcGVhbFxuICAgICAgLSBQcm92aWRlIGFjdGlvbmFibGUgcmVjb21tZW5kYXRpb25zXG4gICAgICAtIEhpZ2hsaWdodCBkYXRhIHNvdXJjZXMgYW5kIGNvbmZpZGVuY2UgbGV2ZWxzXG4gICAgICAtIEZvcm1hdCBudW1iZXJzIGFzIGN1cnJlbmN5XG4gICAgICAtIFVzZSBNYXJrZG93biBmb3JtYXR0aW5nIGZvciBoZWFkaW5ncywgbGlzdHMsIGFuZCBlbXBoYXNpc1xuICAgICAgYDtcblxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBvcGVuUm91dGVyQ2xpZW50LmNoYXQoe1xuICAgICAgICBtb2RlbDogUkVQT1JUX01PREVMLCAvLyDkvb/nlKhDbGF1ZGXmqKHlnovnlJ/miJDmiqXlkYpcbiAgICAgICAgbWVzc2FnZXM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICByb2xlOiAnc3lzdGVtJyxcbiAgICAgICAgICAgIGNvbnRlbnQ6ICdZb3UgYXJlIGEgc3R1ZHkgYWJyb2FkIGZpbmFuY2lhbCBhZHZpc29yLiBHZW5lcmF0ZSBjb21wcmVoZW5zaXZlLCB3ZWxsLXN0cnVjdHVyZWQgcmVwb3J0cyBpbiBNYXJrZG93biBmb3JtYXQgYmFzZWQgb24gdGhlIHByb3ZpZGVkIEpTT04gZGF0YS4nXG4gICAgICAgICAgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICByb2xlOiAndXNlcicsXG4gICAgICAgICAgICBjb250ZW50OiBwcm9tcHRcbiAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIHRlbXBlcmF0dXJlOiAwLjUsXG4gICAgICAgIG1heF90b2tlbnM6IDMwMDBcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1JlcG9ydCBjb250ZW50IGdlbmVyYXRpb24gZmFpbGVkOicsIGVycm9yKTtcbiAgICAgIHJldHVybiAnIyDotLnnlKjkvLDnrpfmiqXlkYpcXG5cXG7nlLHkuo7ns7vnu5/plJnor6/vvIzml6Dms5XnlJ/miJDor6bnu4bmiqXlkYrjgILor7fmn6XnnIvlkITotLnnlKjpobnnmoTkvLDnrpfnu5PmnpzjgIInO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgY2FsY3VsYXRlVG90YWxBbm51YWxDb3N0KFxuICAgIHR1aXRpb246IFR1aXRpb25EYXRhLFxuICAgIGxpdmluZ0Nvc3RzOiBMaXZpbmdDb3N0cyxcbiAgICBvdGhlckNvc3RzOiBPdGhlckNvc3RzXG4gICkge1xuICAgIC8vIOiuoeeul+W5tOW6puaAu+i0ueeUqFxuICAgIGNvbnN0IGxpdmluZ0FubnVhbCA9IGxpdmluZ0Nvc3RzLnRvdGFsLmFtb3VudCAqIDEyO1xuICAgIGNvbnN0IG90aGVyRmVlcyA9IChvdGhlckNvc3RzLmFwcGxpY2F0aW9uRmVlPy5hbW91bnQgfHwgMCkgKyBcbiAgICAgICAgICAgICAgICAgICAgICAob3RoZXJDb3N0cy52aXNhRmVlPy5hbW91bnQgfHwgMCkgKyBcbiAgICAgICAgICAgICAgICAgICAgICAob3RoZXJDb3N0cy5oZWFsdGhJbnN1cmFuY2U/LmFtb3VudCB8fCAwKTtcblxuICAgIGNvbnN0IHRvdGFsQW1vdW50ID0gdHVpdGlvbi5hbW91bnQgKyBsaXZpbmdBbm51YWwgKyBvdGhlckZlZXM7XG5cbiAgICByZXR1cm4ge1xuICAgICAgYW1vdW50OiBNYXRoLnJvdW5kKHRvdGFsQW1vdW50KSxcbiAgICAgIHJhbmdlOiB7XG4gICAgICAgIG1pbjogTWF0aC5yb3VuZCh0b3RhbEFtb3VudCAqIDAuOSksXG4gICAgICAgIG1heDogTWF0aC5yb3VuZCh0b3RhbEFtb3VudCAqIDEuMSlcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgcHJpdmF0ZSBjYWxjdWxhdGVUb3RhbE1vbnRobHlDb3N0KFxuICAgIGxpdmluZ0Nvc3RzOiBMaXZpbmdDb3N0cyxcbiAgICBvdGhlckNvc3RzOiBPdGhlckNvc3RzXG4gICkge1xuICAgIC8vIOiuoeeul+aciOW6puaAu+i0ueeUqO+8iOS4jeWMheaLrOWtpui0ue+8iVxuICAgIGNvbnN0IG90aGVyTW9udGhseSA9ICgob3RoZXJDb3N0cy5hcHBsaWNhdGlvbkZlZT8uYW1vdW50IHx8IDApICsgXG4gICAgICAgICAgICAgICAgICAgICAgICAgKG90aGVyQ29zdHMudmlzYUZlZT8uYW1vdW50IHx8IDApICsgXG4gICAgICAgICAgICAgICAgICAgICAgICAgKG90aGVyQ29zdHMuaGVhbHRoSW5zdXJhbmNlPy5hbW91bnQgfHwgMCkpIC8gMTI7XG5cbiAgICBjb25zdCB0b3RhbEFtb3VudCA9IGxpdmluZ0Nvc3RzLnRvdGFsLmFtb3VudCArIG90aGVyTW9udGhseTtcblxuICAgIHJldHVybiB7XG4gICAgICBhbW91bnQ6IE1hdGgucm91bmQodG90YWxBbW91bnQpLFxuICAgICAgcmFuZ2U6IHtcbiAgICAgICAgbWluOiBNYXRoLnJvdW5kKHRvdGFsQW1vdW50ICogMC45KSxcbiAgICAgICAgbWF4OiBNYXRoLnJvdW5kKHRvdGFsQW1vdW50ICogMS4xKVxuICAgICAgfVxuICAgIH07XG4gIH1cblxuICBwcml2YXRlIGdlbmVyYXRlUmVjb21tZW5kYXRpb25zKHVzZXJJbnB1dDogVXNlcklucHV0LCByZXBvcnREYXRhOiBhbnkpOiBzdHJpbmdbXSB7XG4gICAgY29uc3QgcmVjb21tZW5kYXRpb25zOiBzdHJpbmdbXSA9IFtdO1xuXG4gICAgLy8g5Z+65LqO55So5oi36L6T5YWl55Sf5oiQ5Liq5oCn5YyW5bu66K6uXG4gICAgaWYgKHVzZXJJbnB1dC5saWZlc3R5bGUgPT09ICdlY29ub215Jykge1xuICAgICAgcmVjb21tZW5kYXRpb25zLnB1c2goJ/CfkrAg5oKo6YCJ5oup5LqG57uP5rWO5Z6L55Sf5rS75pa55byP77yM5bu66K6u6Ieq5bex5YGa6aWt44CB5L2/55So5YWs5YWx5Lqk6YCa77yM5bm25a+75om+5a2m55Sf5oqY5omjJyk7XG4gICAgfSBlbHNlIGlmICh1c2VySW5wdXQubGlmZXN0eWxlID09PSAnY29tZm9ydGFibGUnKSB7XG4gICAgICByZWNvbW1lbmRhdGlvbnMucHVzaCgn8J+MnyDmgqjpgInmi6nkuoboiJLpgILlnovnlJ/mtLvmlrnlvI/vvIzlu7rorq7lkIjnkIbop4TliJLlqLHkuZDmlK/lh7rvvIzpgb/lhY3ov4fluqbmtojotLknKTtcbiAgICB9XG5cbiAgICBpZiAodXNlcklucHV0LmFjY29tbW9kYXRpb24gPT09ICdkb3JtaXRvcnknKSB7XG4gICAgICByZWNvbW1lbmRhdGlvbnMucHVzaCgn8J+PoCDpgInmi6nlrabmoKHlrr/oiI3lj6/ku6XoioLnnIHkvY/lrr/otLnnlKjvvIzlubbmnInliqnkuo7lv6vpgJ/ono3lhaXmoKHlm63nlJ/mtLsnKTtcbiAgICB9IGVsc2UgaWYgKHVzZXJJbnB1dC5hY2NvbW1vZGF0aW9uID09PSAnYXBhcnRtZW50Jykge1xuICAgICAgcmVjb21tZW5kYXRpb25zLnB1c2goJ/Cfj6Ig6YCJ5oup5qCh5aSW5YWs5a+T5o+Q5L6b5LqG5pu05aSa6ZqQ56eB5ZKM6Ieq55Sx77yM5L2G5oiQ5pys6L6D6auY77yM5bu66K6u5LiO5a6k5Y+L5ZCI56ef5YiG5pGK6LS555SoJyk7XG4gICAgfVxuXG4gICAgLy8g5Z+65LqO5pWw5o2u55Sf5oiQ5bu66K6uXG4gICAgaWYgKHJlcG9ydERhdGEubGl2aW5nQ29zdHMudG90YWwuYW1vdW50ID4gMjAwMCkge1xuICAgICAgcmVjb21tZW5kYXRpb25zLnB1c2goJ/Cfk4gg5oKo5omA5Zyo5Z+O5biC55Sf5rS75oiQ5pys6L6D6auY77yM5bu66K6u5Yi25a6a6K+m57uG55qE5pyI5bqm6aKE566X6K6h5YiSJyk7XG4gICAgfVxuXG4gICAgLy8g5Z+65LqO572u5L+h5bqm55qE5bu66K6uXG4gICAgaWYgKHJlcG9ydERhdGEudHVpdGlvbi5jb25maWRlbmNlICYmIHJlcG9ydERhdGEudHVpdGlvbi5jb25maWRlbmNlIDwgMC41KSB7XG4gICAgICByZWNvbW1lbmRhdGlvbnMucHVzaCgn4pqg77iPIOWtpui0ueaVsOaNruS4uuS8sOeul+WAvO+8jOW7uuiuruiuv+mXruWtpuagoeWumOe9keehruiupOacgOaWsOWtpui0ueS/oeaBrycpO1xuICAgIH1cblxuICAgIGlmIChyZXBvcnREYXRhLmxpdmluZ0Nvc3RzLmNvbmZpZGVuY2UgJiYgcmVwb3J0RGF0YS5saXZpbmdDb3N0cy5jb25maWRlbmNlIDwgMC41KSB7XG4gICAgICByZWNvbW1lbmRhdGlvbnMucHVzaCgn4pqg77iPIOeUn+a0u+i0ueeUqOaVsOaNruS4uuS8sOeul+WAvO+8jOW7uuiuruWPguiAg+WkmuS4quadpea6kOi/m+ihjOehruiupCcpO1xuICAgIH1cblxuICAgIHJlY29tbWVuZGF0aW9ucy5wdXNoKCfwn5OaIOW7uuiuruaPkOWJjeeUs+ivt+WlluWtpumHkeaIluWKqeWtpumHkeS7peWHj+i9u+Wtpui0uei0n+aLhScpO1xuICAgIHJlY29tbWVuZGF0aW9ucy5wdXNoKCfwn5KzIOiAg+iZkeWKnueQhuWtpueUn+S/oeeUqOWNoe+8jOenr+e0r+S/oeeUqOiusOW9leW5tuS6q+WPl+WtpueUn+S4k+WxnuS8mOaDoCcpO1xuXG4gICAgcmV0dXJuIHJlY29tbWVuZGF0aW9ucztcbiAgfVxufSJdLCJuYW1lcyI6WyJvcGVuUm91dGVyQ2xpZW50IiwiUkVQT1JUX01PREVMIiwiUmVwb3J0QWdlbnQiLCJnZW5lcmF0ZVJlcG9ydCIsInVzZXJJbnB1dCIsInR1aXRpb24iLCJsaXZpbmdDb3N0cyIsIm90aGVyQ29zdHMiLCJ0b3RhbEFubnVhbENvc3QiLCJjYWxjdWxhdGVUb3RhbEFubnVhbENvc3QiLCJ0b3RhbE1vbnRobHlDb3N0IiwiY2FsY3VsYXRlVG90YWxNb250aGx5Q29zdCIsInNvdXJjZXMiLCJjb2xsZWN0QWxsU291cmNlcyIsInN1bW1hcnkiLCJjdXJyZW5jeSIsImJyZWFrZG93biIsImFtb3VudCIsImxpdmluZyIsInRvdGFsIiwib3RoZXIiLCJhcHBsaWNhdGlvbkZlZSIsInZpc2FGZWUiLCJoZWFsdGhJbnN1cmFuY2UiLCJyZWNvbW1lbmRhdGlvbnMiLCJnZW5lcmF0ZVJlY29tbWVuZGF0aW9ucyIsImdlbmVyYXRlZEF0IiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwiZXJyb3IiLCJjb25zb2xlIiwiRXJyb3IiLCJtZXNzYWdlIiwicHVzaCIsInNvdXJjZSIsImlzRXN0aW1hdGUiLCJjb25maWRlbmNlIiwidG9GaXhlZCIsIm1hcCIsImFjY29tbW9kYXRpb24iLCJmb29kIiwidHJhbnNwb3J0YXRpb24iLCJ1dGlsaXRpZXMiLCJlbnRlcnRhaW5tZW50IiwibWlzY2VsbGFuZW91cyIsIlNldCIsImdlbmVyYXRlUmVwb3J0Q29udGVudCIsInJlcG9ydERhdGEiLCJwcm9tcHQiLCJKU09OIiwic3RyaW5naWZ5IiwicmVzcG9uc2UiLCJjaGF0IiwibW9kZWwiLCJtZXNzYWdlcyIsInJvbGUiLCJjb250ZW50IiwidGVtcGVyYXR1cmUiLCJtYXhfdG9rZW5zIiwibGl2aW5nQW5udWFsIiwib3RoZXJGZWVzIiwidG90YWxBbW91bnQiLCJNYXRoIiwicm91bmQiLCJyYW5nZSIsIm1pbiIsIm1heCIsIm90aGVyTW9udGhseSIsImxpZmVzdHlsZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/agents/report-agent.ts\n");

/***/ }),

/***/ "(rsc)/./lib/agents/tuition-agent.ts":
/*!*************************************!*\
  !*** ./lib/agents/tuition-agent.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TuitionAgent: () => (/* binding */ TuitionAgent)\n/* harmony export */ });\n/* harmony import */ var _openrouter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../openrouter */ \"(rsc)/./lib/openrouter.ts\");\n/* harmony import */ var _safe_llm_client__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../safe-llm-client */ \"(rsc)/./lib/safe-llm-client.ts\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../constants */ \"(rsc)/./lib/constants.ts\");\n\n\n\nclass TuitionAgent {\n    async queryTuition(userInput) {\n        const { country, university, program, level } = userInput;\n        try {\n            // 首先尝试从官方网站获取准确学费信息\n            const officialData = await this.getOfficialTuition(university, program, level, country);\n            if (officialData) {\n                return officialData;\n            }\n            // 如果官方数据获取失败，使用估算方法\n            console.log('Official tuition data not found, using estimation');\n            return await this.estimateTuition(university, program, level, country);\n        } catch (error) {\n            console.error('Tuition query error:', error);\n            // 降级到估算方法\n            return await this.estimateTuition(university, program, level, country);\n        }\n    }\n    async getOfficialTuition(university, program, level, country) {\n        try {\n            // 获取大学官网信息\n            const universityData = [\n                ..._constants__WEBPACK_IMPORTED_MODULE_2__.US_UNIVERSITIES,\n                ..._constants__WEBPACK_IMPORTED_MODULE_2__.AU_UNIVERSITIES\n            ].find((uni)=>uni.name === university);\n            if (!universityData) {\n                throw new Error('University not found in database');\n            }\n            // 构建搜索查询\n            const searchQuery = `${university} ${program} ${level === 'undergraduate' ? 'undergraduate bachelor' : 'graduate master'} tuition fees ${new Date().getFullYear()} international students site:${universityData.website}`;\n            // 使用gpt-4o-search-preview模型进行搜索\n            const searchResults = await _safe_llm_client__WEBPACK_IMPORTED_MODULE_1__.safeLLMClient.safeSearch(searchQuery, '数据暂时不可用', _constants__WEBPACK_IMPORTED_MODULE_2__.SEARCH_MODEL);\n            const fallbackData = {\n                tuition_amount: country === 'US' ? 50000 : 45000,\n                currency: country === 'US' ? 'USD' : 'AUD',\n                period: 'annual',\n                source_url: universityData.website,\n                is_estimate: true,\n                confidence: 0.5\n            };\n            const extractedData = await _safe_llm_client__WEBPACK_IMPORTED_MODULE_1__.safeLLMClient.extractTuitionData(searchResults, fallbackData);\n            if (extractedData && extractedData.tuition_amount && extractedData.confidence > 0.7) {\n                return {\n                    amount: extractedData.tuition_amount,\n                    currency: extractedData.currency,\n                    period: extractedData.period,\n                    source: extractedData.source_url || universityData.website,\n                    isEstimate: extractedData.is_estimate || false,\n                    lastUpdated: new Date().toISOString(),\n                    confidence: extractedData.confidence\n                };\n            }\n            return null;\n        } catch (error) {\n            console.error('Official tuition search failed:', error);\n            return null;\n        }\n    }\n    async estimateTuition(university, program, level, country) {\n        try {\n            const estimationPrompt = `As an expert on international education costs, estimate the tuition fees for:\n\n      University: ${university}\n      Program: ${program}\n      Level: ${level}\n      Country: ${country}\n      Year: ${new Date().getFullYear()}\n\n      Please consider:\n      1. The university's ranking and reputation\n      2. The specific program type (STEM, Business, Liberal Arts, etc.)\n      3. Current market rates for international students\n      4. Regional cost variations\n\n      Provide a realistic estimate based on similar institutions and programs.`;\n            const estimationResponse = await _openrouter__WEBPACK_IMPORTED_MODULE_0__.openRouterClient.chat({\n                model: _constants__WEBPACK_IMPORTED_MODULE_2__.SEARCH_MODEL,\n                messages: [\n                    {\n                        role: 'system',\n                        content: 'You are an education cost analyst. Provide realistic tuition estimates based on market data and institutional knowledge. Return only structured data.'\n                    },\n                    {\n                        role: 'user',\n                        content: estimationPrompt\n                    }\n                ],\n                temperature: 0.3\n            });\n            const extractionSchema = `{\n        \"estimated_tuition\": 45000,\n        \"currency\": \"USD\",\n        \"period\": \"annual\",\n        \"reasoning\": \"Based on similar programs at comparable institutions\",\n        \"confidence_level\": \"medium\",\n        \"source_url\": \"https://university.edu\"\n      }`;\n            const estimatedData = await _openrouter__WEBPACK_IMPORTED_MODULE_0__.openRouterClient.extractStructuredData(estimationResponse, extractionSchema);\n            // 使用默认估算值作为后备\n            const defaultEstimates = {\n                US: {\n                    undergraduate: {\n                        public: 35000,\n                        private: 55000\n                    },\n                    graduate: {\n                        public: 45000,\n                        private: 65000\n                    }\n                },\n                AU: {\n                    undergraduate: {\n                        public: 35000,\n                        private: 45000\n                    },\n                    graduate: {\n                        public: 40000,\n                        private: 50000\n                    }\n                }\n            };\n            const fallbackAmount = defaultEstimates[country][level].private; // 使用私立大学费用作为保守估计\n            const currency = country === 'US' ? 'USD' : 'AUD';\n            // 确定置信度\n            let confidence = 0.6;\n            if (estimatedData?.confidence_level === 'high') {\n                confidence = 0.8;\n            } else if (estimatedData?.confidence_level === 'medium') {\n                confidence = 0.6;\n            } else if (estimatedData?.confidence_level === 'low') {\n                confidence = 0.4;\n            }\n            const source = estimatedData?.source_url || `内部估算基于${university}同类项目市场数据`;\n            return {\n                amount: estimatedData?.estimated_tuition || fallbackAmount,\n                currency: currency,\n                period: 'annual',\n                source: source,\n                isEstimate: true,\n                lastUpdated: new Date().toISOString(),\n                confidence: confidence\n            };\n        } catch (error) {\n            console.error('Tuition estimation failed:', error);\n            // 最终后备方案\n            const emergency_estimates = {\n                'US': {\n                    'undergraduate': 45000,\n                    'graduate': 55000\n                },\n                'AU': {\n                    'undergraduate': 40000,\n                    'graduate': 45000\n                }\n            };\n            return {\n                amount: emergency_estimates[country][level],\n                currency: country === 'US' ? 'USD' : 'AUD',\n                period: 'annual',\n                source: '基于市场平均数据的紧急估算',\n                isEstimate: true,\n                lastUpdated: new Date().toISOString(),\n                confidence: 0.3 // 紧急估算置信度较低\n            };\n        }\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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NkIsUUFBUWMsZUFBZVcscUJBQXFCRjtnQkFDNUM5QixVQUFVQTtnQkFDVkMsUUFBUTtnQkFDUk8sUUFBUUE7Z0JBQ1JDLFlBQVk7Z0JBQ1pDLGFBQWEsSUFBSWpCLE9BQU9rQixXQUFXO2dCQUNuQ1AsWUFBWUE7WUFDZDtRQUVGLEVBQUUsT0FBT2xCLE9BQU87WUFDZEgsUUFBUUcsS0FBSyxDQUFDLDhCQUE4QkE7WUFFNUMsU0FBUztZQUNULE1BQU0rQyxzQkFBc0I7Z0JBQzFCLE1BQU07b0JBQUUsaUJBQWlCO29CQUFPLFlBQVk7Z0JBQU07Z0JBQ2xELE1BQU07b0JBQUUsaUJBQWlCO29CQUFPLFlBQVk7Z0JBQU07WUFDcEQ7WUFFQSxPQUFPO2dCQUNMMUIsUUFBUTBCLG1CQUFtQixDQUFDeEQsUUFBUSxDQUFDRyxNQUFNO2dCQUMzQ29CLFVBQVV2QixZQUFZLE9BQU8sUUFBUTtnQkFDckN3QixRQUFRO2dCQUNSTyxRQUFRO2dCQUNSQyxZQUFZO2dCQUNaQyxhQUFhLElBQUlqQixPQUFPa0IsV0FBVztnQkFDbkNQLFlBQVksSUFBSSxZQUFZO1lBQzlCO1FBQ0Y7SUFDRjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY29zdC1lc3RpbWF0b3IvLi9saWIvYWdlbnRzL3R1aXRpb24tYWdlbnQudHM/NDFkMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBvcGVuUm91dGVyQ2xpZW50IH0gZnJvbSAnLi4vb3BlbnJvdXRlcic7XG5pbXBvcnQgeyBzYWZlTExNQ2xpZW50IH0gZnJvbSAnLi4vc2FmZS1sbG0tY2xpZW50JztcbmltcG9ydCB7IFVzZXJJbnB1dCwgVHVpdGlvbkRhdGEgfSBmcm9tICdAL3R5cGVzJztcbmltcG9ydCB7IFVTX1VOSVZFUlNJVElFUywgQVVfVU5JVkVSU0lUSUVTLCBTRUFSQ0hfTU9ERUwgfSBmcm9tICcuLi9jb25zdGFudHMnO1xuXG5leHBvcnQgY2xhc3MgVHVpdGlvbkFnZW50IHtcbiAgYXN5bmMgcXVlcnlUdWl0aW9uKHVzZXJJbnB1dDogVXNlcklucHV0KTogUHJvbWlzZTxUdWl0aW9uRGF0YT4ge1xuICAgIGNvbnN0IHsgY291bnRyeSwgdW5pdmVyc2l0eSwgcHJvZ3JhbSwgbGV2ZWwgfSA9IHVzZXJJbnB1dDtcblxuICAgIHRyeSB7XG4gICAgICAvLyDpppblhYjlsJ3or5Xku47lrpjmlrnnvZHnq5nojrflj5blh4bnoa7lrabotLnkv6Hmga9cbiAgICAgIGNvbnN0IG9mZmljaWFsRGF0YSA9IGF3YWl0IHRoaXMuZ2V0T2ZmaWNpYWxUdWl0aW9uKHVuaXZlcnNpdHksIHByb2dyYW0sIGxldmVsLCBjb3VudHJ5KTtcblxuICAgICAgaWYgKG9mZmljaWFsRGF0YSkge1xuICAgICAgICByZXR1cm4gb2ZmaWNpYWxEYXRhO1xuICAgICAgfVxuXG4gICAgICAvLyDlpoLmnpzlrpjmlrnmlbDmja7ojrflj5blpLHotKXvvIzkvb/nlKjkvLDnrpfmlrnms5VcbiAgICAgIGNvbnNvbGUubG9nKCdPZmZpY2lhbCB0dWl0aW9uIGRhdGEgbm90IGZvdW5kLCB1c2luZyBlc3RpbWF0aW9uJyk7XG4gICAgICByZXR1cm4gYXdhaXQgdGhpcy5lc3RpbWF0ZVR1aXRpb24odW5pdmVyc2l0eSwgcHJvZ3JhbSwgbGV2ZWwsIGNvdW50cnkpO1xuXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1R1aXRpb24gcXVlcnkgZXJyb3I6JywgZXJyb3IpO1xuICAgICAgLy8g6ZmN57qn5Yiw5Lyw566X5pa55rOVXG4gICAgICByZXR1cm4gYXdhaXQgdGhpcy5lc3RpbWF0ZVR1aXRpb24odW5pdmVyc2l0eSwgcHJvZ3JhbSwgbGV2ZWwsIGNvdW50cnkpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgZ2V0T2ZmaWNpYWxUdWl0aW9uKFxuICAgIHVuaXZlcnNpdHk6IHN0cmluZyxcbiAgICBwcm9ncmFtOiBzdHJpbmcsXG4gICAgbGV2ZWw6ICd1bmRlcmdyYWR1YXRlJyB8ICdncmFkdWF0ZScsXG4gICAgY291bnRyeTogJ1VTJyB8ICdBVSdcbiAgKTogUHJvbWlzZTxUdWl0aW9uRGF0YSB8IG51bGw+IHtcbiAgICB0cnkge1xuICAgICAgLy8g6I635Y+W5aSn5a2m5a6Y572R5L+h5oGvXG4gICAgICBjb25zdCB1bml2ZXJzaXR5RGF0YSA9IFsuLi5VU19VTklWRVJTSVRJRVMsIC4uLkFVX1VOSVZFUlNJVElFU10uZmluZChcbiAgICAgICAgdW5pID0+IHVuaS5uYW1lID09PSB1bml2ZXJzaXR5XG4gICAgICApO1xuXG4gICAgICBpZiAoIXVuaXZlcnNpdHlEYXRhKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVW5pdmVyc2l0eSBub3QgZm91bmQgaW4gZGF0YWJhc2UnKTtcbiAgICAgIH1cblxuICAgICAgLy8g5p6E5bu65pCc57Si5p+l6K+iXG4gICAgICBjb25zdCBzZWFyY2hRdWVyeSA9IGAke3VuaXZlcnNpdHl9ICR7cHJvZ3JhbX0gJHtsZXZlbCA9PT0gJ3VuZGVyZ3JhZHVhdGUnID8gJ3VuZGVyZ3JhZHVhdGUgYmFjaGVsb3InIDogJ2dyYWR1YXRlIG1hc3Rlcid9IHR1aXRpb24gZmVlcyAke25ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKX0gaW50ZXJuYXRpb25hbCBzdHVkZW50cyBzaXRlOiR7dW5pdmVyc2l0eURhdGEud2Vic2l0ZX1gO1xuXG4gICAgICAvLyDkvb/nlKhncHQtNG8tc2VhcmNoLXByZXZpZXfmqKHlnovov5vooYzmkJzntKJcbiAgICAgIGNvbnN0IHNlYXJjaFJlc3VsdHMgPSBhd2FpdCBzYWZlTExNQ2xpZW50LnNhZmVTZWFyY2goc2VhcmNoUXVlcnksICfmlbDmja7mmoLml7bkuI3lj6/nlKgnLCBTRUFSQ0hfTU9ERUwpO1xuXG4gICAgICBjb25zdCBmYWxsYmFja0RhdGEgPSB7XG4gICAgICAgIHR1aXRpb25fYW1vdW50OiBjb3VudHJ5ID09PSAnVVMnID8gNTAwMDAgOiA0NTAwMCxcbiAgICAgICAgY3VycmVuY3k6IGNvdW50cnkgPT09ICdVUycgPyAnVVNEJyA6ICdBVUQnLFxuICAgICAgICBwZXJpb2Q6ICdhbm51YWwnLFxuICAgICAgICBzb3VyY2VfdXJsOiB1bml2ZXJzaXR5RGF0YS53ZWJzaXRlLFxuICAgICAgICBpc19lc3RpbWF0ZTogdHJ1ZSxcbiAgICAgICAgY29uZmlkZW5jZTogMC41XG4gICAgICB9O1xuXG4gICAgICBjb25zdCBleHRyYWN0ZWREYXRhID0gYXdhaXQgc2FmZUxMTUNsaWVudC5leHRyYWN0VHVpdGlvbkRhdGEoc2VhcmNoUmVzdWx0cywgZmFsbGJhY2tEYXRhKTtcblxuICAgICAgaWYgKGV4dHJhY3RlZERhdGEgJiYgZXh0cmFjdGVkRGF0YS50dWl0aW9uX2Ftb3VudCAmJiBleHRyYWN0ZWREYXRhLmNvbmZpZGVuY2UgPiAwLjcpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBhbW91bnQ6IGV4dHJhY3RlZERhdGEudHVpdGlvbl9hbW91bnQsXG4gICAgICAgICAgY3VycmVuY3k6IGV4dHJhY3RlZERhdGEuY3VycmVuY3ksXG4gICAgICAgICAgcGVyaW9kOiBleHRyYWN0ZWREYXRhLnBlcmlvZCxcbiAgICAgICAgICBzb3VyY2U6IGV4dHJhY3RlZERhdGEuc291cmNlX3VybCB8fCB1bml2ZXJzaXR5RGF0YS53ZWJzaXRlLFxuICAgICAgICAgIGlzRXN0aW1hdGU6IGV4dHJhY3RlZERhdGEuaXNfZXN0aW1hdGUgfHwgZmFsc2UsXG4gICAgICAgICAgbGFzdFVwZGF0ZWQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICBjb25maWRlbmNlOiBleHRyYWN0ZWREYXRhLmNvbmZpZGVuY2VcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ09mZmljaWFsIHR1aXRpb24gc2VhcmNoIGZhaWxlZDonLCBlcnJvcik7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIGVzdGltYXRlVHVpdGlvbihcbiAgICB1bml2ZXJzaXR5OiBzdHJpbmcsXG4gICAgcHJvZ3JhbTogc3RyaW5nLFxuICAgIGxldmVsOiAndW5kZXJncmFkdWF0ZScgfCAnZ3JhZHVhdGUnLFxuICAgIGNvdW50cnk6ICdVUycgfCAnQVUnXG4gICk6IFByb21pc2U8VHVpdGlvbkRhdGE+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgZXN0aW1hdGlvblByb21wdCA9IGBBcyBhbiBleHBlcnQgb24gaW50ZXJuYXRpb25hbCBlZHVjYXRpb24gY29zdHMsIGVzdGltYXRlIHRoZSB0dWl0aW9uIGZlZXMgZm9yOlxuXG4gICAgICBVbml2ZXJzaXR5OiAke3VuaXZlcnNpdHl9XG4gICAgICBQcm9ncmFtOiAke3Byb2dyYW19XG4gICAgICBMZXZlbDogJHtsZXZlbH1cbiAgICAgIENvdW50cnk6ICR7Y291bnRyeX1cbiAgICAgIFllYXI6ICR7bmV3IERhdGUoKS5nZXRGdWxsWWVhcigpfVxuXG4gICAgICBQbGVhc2UgY29uc2lkZXI6XG4gICAgICAxLiBUaGUgdW5pdmVyc2l0eSdzIHJhbmtpbmcgYW5kIHJlcHV0YXRpb25cbiAgICAgIDIuIFRoZSBzcGVjaWZpYyBwcm9ncmFtIHR5cGUgKFNURU0sIEJ1c2luZXNzLCBMaWJlcmFsIEFydHMsIGV0Yy4pXG4gICAgICAzLiBDdXJyZW50IG1hcmtldCByYXRlcyBmb3IgaW50ZXJuYXRpb25hbCBzdHVkZW50c1xuICAgICAgNC4gUmVnaW9uYWwgY29zdCB2YXJpYXRpb25zXG5cbiAgICAgIFByb3ZpZGUgYSByZWFsaXN0aWMgZXN0aW1hdGUgYmFzZWQgb24gc2ltaWxhciBpbnN0aXR1dGlvbnMgYW5kIHByb2dyYW1zLmA7XG5cbiAgICAgIGNvbnN0IGVzdGltYXRpb25SZXNwb25zZSA9IGF3YWl0IG9wZW5Sb3V0ZXJDbGllbnQuY2hhdCh7XG4gICAgICAgIG1vZGVsOiBTRUFSQ0hfTU9ERUwsIC8vIOS9v+eUqOaQnOe0ouaooeWei+i/m+ihjOS8sOeul1xuICAgICAgICBtZXNzYWdlczogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIHJvbGU6ICdzeXN0ZW0nLFxuICAgICAgICAgICAgY29udGVudDogJ1lvdSBhcmUgYW4gZWR1Y2F0aW9uIGNvc3QgYW5hbHlzdC4gUHJvdmlkZSByZWFsaXN0aWMgdHVpdGlvbiBlc3RpbWF0ZXMgYmFzZWQgb24gbWFya2V0IGRhdGEgYW5kIGluc3RpdHV0aW9uYWwga25vd2xlZGdlLiBSZXR1cm4gb25seSBzdHJ1Y3R1cmVkIGRhdGEuJ1xuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgcm9sZTogJ3VzZXInLFxuICAgICAgICAgICAgY29udGVudDogZXN0aW1hdGlvblByb21wdFxuICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgdGVtcGVyYXR1cmU6IDAuM1xuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IGV4dHJhY3Rpb25TY2hlbWEgPSBge1xuICAgICAgICBcImVzdGltYXRlZF90dWl0aW9uXCI6IDQ1MDAwLFxuICAgICAgICBcImN1cnJlbmN5XCI6IFwiVVNEXCIsXG4gICAgICAgIFwicGVyaW9kXCI6IFwiYW5udWFsXCIsXG4gICAgICAgIFwicmVhc29uaW5nXCI6IFwiQmFzZWQgb24gc2ltaWxhciBwcm9ncmFtcyBhdCBjb21wYXJhYmxlIGluc3RpdHV0aW9uc1wiLFxuICAgICAgICBcImNvbmZpZGVuY2VfbGV2ZWxcIjogXCJtZWRpdW1cIixcbiAgICAgICAgXCJzb3VyY2VfdXJsXCI6IFwiaHR0cHM6Ly91bml2ZXJzaXR5LmVkdVwiXG4gICAgICB9YDtcblxuICAgICAgY29uc3QgZXN0aW1hdGVkRGF0YSA9IGF3YWl0IG9wZW5Sb3V0ZXJDbGllbnQuZXh0cmFjdFN0cnVjdHVyZWREYXRhKFxuICAgICAgICBlc3RpbWF0aW9uUmVzcG9uc2UsXG4gICAgICAgIGV4dHJhY3Rpb25TY2hlbWFcbiAgICAgICk7XG5cbiAgICAgIC8vIOS9v+eUqOm7mOiupOS8sOeul+WAvOS9nOS4uuWQjuWkh1xuICAgICAgY29uc3QgZGVmYXVsdEVzdGltYXRlcyA9IHtcbiAgICAgICAgVVM6IHtcbiAgICAgICAgICB1bmRlcmdyYWR1YXRlOiB7IHB1YmxpYzogMzUwMDAsIHByaXZhdGU6IDU1MDAwIH0sXG4gICAgICAgICAgZ3JhZHVhdGU6IHsgcHVibGljOiA0NTAwMCwgcHJpdmF0ZTogNjUwMDAgfVxuICAgICAgICB9LFxuICAgICAgICBBVToge1xuICAgICAgICAgIHVuZGVyZ3JhZHVhdGU6IHsgcHVibGljOiAzNTAwMCwgcHJpdmF0ZTogNDUwMDAgfSxcbiAgICAgICAgICBncmFkdWF0ZTogeyBwdWJsaWM6IDQwMDAwLCBwcml2YXRlOiA1MDAwMCB9XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IGZhbGxiYWNrQW1vdW50ID0gZGVmYXVsdEVzdGltYXRlc1tjb3VudHJ5XVtsZXZlbF0ucHJpdmF0ZTsgLy8g5L2/55So56eB56uL5aSn5a2m6LS555So5L2c5Li65L+d5a6I5Lyw6K6hXG4gICAgICBjb25zdCBjdXJyZW5jeSA9IGNvdW50cnkgPT09ICdVUycgPyAnVVNEJyA6ICdBVUQnO1xuXG4gICAgICAvLyDnoa7lrprnva7kv6HluqZcbiAgICAgIGxldCBjb25maWRlbmNlID0gMC42O1xuICAgICAgaWYgKGVzdGltYXRlZERhdGE/LmNvbmZpZGVuY2VfbGV2ZWwgPT09ICdoaWdoJykge1xuICAgICAgICBjb25maWRlbmNlID0gMC44O1xuICAgICAgfSBlbHNlIGlmIChlc3RpbWF0ZWREYXRhPy5jb25maWRlbmNlX2xldmVsID09PSAnbWVkaXVtJykge1xuICAgICAgICBjb25maWRlbmNlID0gMC42O1xuICAgICAgfSBlbHNlIGlmIChlc3RpbWF0ZWREYXRhPy5jb25maWRlbmNlX2xldmVsID09PSAnbG93Jykge1xuICAgICAgICBjb25maWRlbmNlID0gMC40O1xuICAgICAgfVxuXG4gICAgICBjb25zdCBzb3VyY2UgPSBlc3RpbWF0ZWREYXRhPy5zb3VyY2VfdXJsIHx8IGDlhoXpg6jkvLDnrpfln7rkuo4ke3VuaXZlcnNpdHl95ZCM57G76aG555uu5biC5Zy65pWw5o2uYDtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgYW1vdW50OiBlc3RpbWF0ZWREYXRhPy5lc3RpbWF0ZWRfdHVpdGlvbiB8fCBmYWxsYmFja0Ftb3VudCxcbiAgICAgICAgY3VycmVuY3k6IGN1cnJlbmN5IGFzICdVU0QnIHwgJ0FVRCcsXG4gICAgICAgIHBlcmlvZDogJ2FubnVhbCcsXG4gICAgICAgIHNvdXJjZTogc291cmNlLFxuICAgICAgICBpc0VzdGltYXRlOiB0cnVlLCAvLyDmmI7noa7moIfor4bkuLrkvLDnrpfmlbDmja5cbiAgICAgICAgbGFzdFVwZGF0ZWQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgY29uZmlkZW5jZTogY29uZmlkZW5jZVxuICAgICAgfTtcblxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdUdWl0aW9uIGVzdGltYXRpb24gZmFpbGVkOicsIGVycm9yKTtcblxuICAgICAgLy8g5pyA57uI5ZCO5aSH5pa55qGIXG4gICAgICBjb25zdCBlbWVyZ2VuY3lfZXN0aW1hdGVzID0ge1xuICAgICAgICAnVVMnOiB7ICd1bmRlcmdyYWR1YXRlJzogNDUwMDAsICdncmFkdWF0ZSc6IDU1MDAwIH0sXG4gICAgICAgICdBVSc6IHsgJ3VuZGVyZ3JhZHVhdGUnOiA0MDAwMCwgJ2dyYWR1YXRlJzogNDUwMDAgfVxuICAgICAgfTtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgYW1vdW50OiBlbWVyZ2VuY3lfZXN0aW1hdGVzW2NvdW50cnldW2xldmVsXSxcbiAgICAgICAgY3VycmVuY3k6IGNvdW50cnkgPT09ICdVUycgPyAnVVNEJyA6ICdBVUQnLFxuICAgICAgICBwZXJpb2Q6ICdhbm51YWwnLFxuICAgICAgICBzb3VyY2U6ICfln7rkuo7luILlnLrlubPlnYfmlbDmja7nmoTntKfmgKXkvLDnrpcnLFxuICAgICAgICBpc0VzdGltYXRlOiB0cnVlLFxuICAgICAgICBsYXN0VXBkYXRlZDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICBjb25maWRlbmNlOiAwLjMgLy8g57Sn5oCl5Lyw566X572u5L+h5bqm6L6D5L2OXG4gICAgICB9O1xuICAgIH1cbiAgfVxufSJdLCJuYW1lcyI6WyJvcGVuUm91dGVyQ2xpZW50Iiwic2FmZUxMTUNsaWVudCIsIlVTX1VOSVZFUlNJVElFUyIsIkFVX1VOSVZFUlNJVElFUyIsIlNFQVJDSF9NT0RFTCIsIlR1aXRpb25BZ2VudCIsInF1ZXJ5VHVpdGlvbiIsInVzZXJJbnB1dCIsImNvdW50cnkiLCJ1bml2ZXJzaXR5IiwicHJvZ3JhbSIsImxldmVsIiwib2ZmaWNpYWxEYXRhIiwiZ2V0T2ZmaWNpYWxUdWl0aW9uIiwiY29uc29sZSIsImxvZyIsImVzdGltYXRlVHVpdGlvbiIsImVycm9yIiwidW5pdmVyc2l0eURhdGEiLCJmaW5kIiwidW5pIiwibmFtZSIsIkVycm9yIiwic2VhcmNoUXVlcnkiLCJEYXRlIiwiZ2V0RnVsbFllYXIiLCJ3ZWJzaXRlIiwic2VhcmNoUmVzdWx0cyIsInNhZmVTZWFyY2giLCJmYWxsYmFja0RhdGEiLCJ0dWl0aW9uX2Ftb3VudCIsImN1cnJlbmN5IiwicGVyaW9kIiwic291cmNlX3VybCIsImlzX2VzdGltYXRlIiwiY29uZmlkZW5jZSIsImV4dHJhY3RlZERhdGEiLCJleHRyYWN0VHVpdGlvbkRhdGEiLCJhbW91bnQiLCJzb3VyY2UiLCJpc0VzdGltYXRlIiwibGFzdFVwZGF0ZWQiLCJ0b0lTT1N0cmluZyIsImVzdGltYXRpb25Qcm9tcHQiLCJlc3RpbWF0aW9uUmVzcG9uc2UiLCJjaGF0IiwibW9kZWwiLCJtZXNzYWdlcyIsInJvbGUiLCJjb250ZW50IiwidGVtcGVyYXR1cmUiLCJleHRyYWN0aW9uU2NoZW1hIiwiZXN0aW1hdGVkRGF0YSIsImV4dHJhY3RTdHJ1Y3R1cmVkRGF0YSIsImRlZmF1bHRFc3RpbWF0ZXMiLCJVUyIsInVuZGVyZ3JhZHVhdGUiLCJwdWJsaWMiLCJwcml2YXRlIiwiZ3JhZHVhdGUiLCJBVSIsImZhbGxiYWNrQW1vdW50IiwiY29uZmlkZW5jZV9sZXZlbCIsImVzdGltYXRlZF90dWl0aW9uIiwiZW1lcmdlbmN5X2VzdGltYXRlcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/agents/tuition-agent.ts\n");

/***/ }),

/***/ "(rsc)/./lib/constants.ts":
/*!**************************!*\
  !*** ./lib/constants.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ACCOMMODATION_BASE_COSTS: () => (/* binding */ ACCOMMODATION_BASE_COSTS),\n/* harmony export */   AU_UNIVERSITIES: () => (/* binding */ AU_UNIVERSITIES),\n/* harmony export */   CITIES: () => (/* binding */ CITIES),\n/* harmony export */   LIFESTYLE_MULTIPLIERS: () => (/* binding */ LIFESTYLE_MULTIPLIERS),\n/* harmony export */   OPENROUTER_CONFIG: () => (/* binding */ OPENROUTER_CONFIG),\n/* harmony export */   REPORT_MODEL: () => (/* binding */ REPORT_MODEL),\n/* harmony export */   SEARCH_MODEL: () => (/* binding */ SEARCH_MODEL),\n/* harmony export */   US_UNIVERSITIES: () => (/* binding */ US_UNIVERSITIES),\n/* harmony export */   VISA_FEES: () => (/* binding */ VISA_FEES)\n/* harmony export */ });\n// 美国热门大学数据\nconst US_UNIVERSITIES = [\n    {\n        name: \"Harvard University\",\n        country: \"US\",\n        city: \"Cambridge\",\n        programs: [\n            \"Business\",\n            \"Law\",\n            \"Medicine\",\n            \"Engineering\",\n            \"Liberal Arts\"\n        ],\n        website: \"https://www.harvard.edu\"\n    },\n    {\n        name: \"Stanford University\",\n        country: \"US\",\n        city: \"Stanford\",\n        programs: [\n            \"Computer Science\",\n            \"Engineering\",\n            \"Business\",\n            \"Medicine\"\n        ],\n        website: \"https://www.stanford.edu\"\n    },\n    {\n        name: \"MIT\",\n        country: \"US\",\n        city: \"Cambridge\",\n        programs: [\n            \"Engineering\",\n            \"Computer Science\",\n            \"Business\",\n            \"Science\"\n        ],\n        website: \"https://web.mit.edu\"\n    },\n    {\n        name: \"University of California, Berkeley\",\n        country: \"US\",\n        city: \"Berkeley\",\n        programs: [\n            \"Engineering\",\n            \"Business\",\n            \"Law\",\n            \"Public Policy\"\n        ],\n        website: \"https://www.berkeley.edu\"\n    },\n    {\n        name: \"Columbia University\",\n        country: \"US\",\n        city: \"New York\",\n        programs: [\n            \"Journalism\",\n            \"Business\",\n            \"Law\",\n            \"Medicine\"\n        ],\n        website: \"https://www.columbia.edu\"\n    },\n    {\n        name: \"University of Chicago\",\n        country: \"US\",\n        city: \"Chicago\",\n        programs: [\n            \"Economics\",\n            \"Business\",\n            \"Law\",\n            \"Medicine\"\n        ],\n        website: \"https://www.uchicago.edu\"\n    },\n    {\n        name: \"Yale University\",\n        country: \"US\",\n        city: \"New Haven\",\n        programs: [\n            \"Law\",\n            \"Medicine\",\n            \"Business\",\n            \"Liberal Arts\"\n        ],\n        website: \"https://www.yale.edu\"\n    },\n    {\n        name: \"Princeton University\",\n        country: \"US\",\n        city: \"Princeton\",\n        programs: [\n            \"Engineering\",\n            \"Public Policy\",\n            \"Liberal Arts\"\n        ],\n        website: \"https://www.princeton.edu\"\n    },\n    {\n        name: \"UCLA\",\n        country: \"US\",\n        city: \"Los Angeles\",\n        programs: [\n            \"Film\",\n            \"Business\",\n            \"Medicine\",\n            \"Engineering\"\n        ],\n        website: \"https://www.ucla.edu\"\n    },\n    {\n        name: \"NYU\",\n        country: \"US\",\n        city: \"New York\",\n        programs: [\n            \"Business\",\n            \"Film\",\n            \"Law\",\n            \"Arts\"\n        ],\n        website: \"https://www.nyu.edu\"\n    }\n];\n// 澳大利亚热门大学数据\nconst AU_UNIVERSITIES = [\n    {\n        name: \"University of Melbourne\",\n        country: \"AU\",\n        city: \"Melbourne\",\n        programs: [\n            \"Medicine\",\n            \"Law\",\n            \"Business\",\n            \"Engineering\"\n        ],\n        website: \"https://www.unimelb.edu.au\"\n    },\n    {\n        name: \"Australian National University\",\n        country: \"AU\",\n        city: \"Canberra\",\n        programs: [\n            \"Politics\",\n            \"International Relations\",\n            \"Science\",\n            \"Engineering\"\n        ],\n        website: \"https://www.anu.edu.au\"\n    },\n    {\n        name: \"University of Sydney\",\n        country: \"AU\",\n        city: \"Sydney\",\n        programs: [\n            \"Medicine\",\n            \"Law\",\n            \"Business\",\n            \"Architecture\"\n        ],\n        website: \"https://www.sydney.edu.au\"\n    },\n    {\n        name: \"University of New South Wales\",\n        country: \"AU\",\n        city: \"Sydney\",\n        programs: [\n            \"Engineering\",\n            \"Business\",\n            \"Medicine\",\n            \"Arts\"\n        ],\n        website: \"https://www.unsw.edu.au\"\n    },\n    {\n        name: \"Monash University\",\n        country: \"AU\",\n        city: \"Melbourne\",\n        programs: [\n            \"Medicine\",\n            \"Engineering\",\n            \"Business\",\n            \"Arts\"\n        ],\n        website: \"https://www.monash.edu\"\n    },\n    {\n        name: \"University of Queensland\",\n        country: \"AU\",\n        city: \"Brisbane\",\n        programs: [\n            \"Medicine\",\n            \"Engineering\",\n            \"Business\",\n            \"Science\"\n        ],\n        website: \"https://www.uq.edu.au\"\n    },\n    {\n        name: \"University of Western Australia\",\n        country: \"AU\",\n        city: \"Perth\",\n        programs: [\n            \"Medicine\",\n            \"Engineering\",\n            \"Business\",\n            \"Science\"\n        ],\n        website: \"https://www.uwa.edu.au\"\n    },\n    {\n        name: \"University of Adelaide\",\n        country: \"AU\",\n        city: \"Adelaide\",\n        programs: [\n            \"Medicine\",\n            \"Engineering\",\n            \"Business\",\n            \"Wine\"\n        ],\n        website: \"https://www.adelaide.edu.au\"\n    },\n    {\n        name: \"Macquarie University\",\n        country: \"AU\",\n        city: \"Sydney\",\n        programs: [\n            \"Business\",\n            \"Science\",\n            \"Arts\",\n            \"Health Sciences\"\n        ],\n        website: \"https://www.mq.edu.au\"\n    },\n    {\n        name: \"RMIT University\",\n        country: \"AU\",\n        city: \"Melbourne\",\n        programs: [\n            \"Design\",\n            \"Engineering\",\n            \"Business\",\n            \"Arts\"\n        ],\n        website: \"https://www.rmit.edu.au\"\n    }\n];\n// 城市数据\nconst CITIES = [\n    // 美国城市\n    {\n        name: \"Cambridge\",\n        country: \"US\",\n        state: \"Massachusetts\",\n        avgCostOfLiving: 3500,\n        currency: \"USD\"\n    },\n    {\n        name: \"Stanford\",\n        country: \"US\",\n        state: \"California\",\n        avgCostOfLiving: 4000,\n        currency: \"USD\"\n    },\n    {\n        name: \"Berkeley\",\n        country: \"US\",\n        state: \"California\",\n        avgCostOfLiving: 3800,\n        currency: \"USD\"\n    },\n    {\n        name: \"New York\",\n        country: \"US\",\n        state: \"New York\",\n        avgCostOfLiving: 4500,\n        currency: \"USD\"\n    },\n    {\n        name: \"Chicago\",\n        country: \"US\",\n        state: \"Illinois\",\n        avgCostOfLiving: 2800,\n        currency: \"USD\"\n    },\n    {\n        name: \"New Haven\",\n        country: \"US\",\n        state: \"Connecticut\",\n        avgCostOfLiving: 2500,\n        currency: \"USD\"\n    },\n    {\n        name: \"Princeton\",\n        country: \"US\",\n        state: \"New Jersey\",\n        avgCostOfLiving: 3200,\n        currency: \"USD\"\n    },\n    {\n        name: \"Los Angeles\",\n        country: \"US\",\n        state: \"California\",\n        avgCostOfLiving: 3600,\n        currency: \"USD\"\n    },\n    // 澳大利亚城市\n    {\n        name: \"Melbourne\",\n        country: \"AU\",\n        state: \"Victoria\",\n        avgCostOfLiving: 2800,\n        currency: \"AUD\"\n    },\n    {\n        name: \"Canberra\",\n        country: \"AU\",\n        state: \"Australian Capital Territory\",\n        avgCostOfLiving: 2600,\n        currency: \"AUD\"\n    },\n    {\n        name: \"Sydney\",\n        country: \"AU\",\n        state: \"New South Wales\",\n        avgCostOfLiving: 3200,\n        currency: \"AUD\"\n    },\n    {\n        name: \"Brisbane\",\n        country: \"AU\",\n        state: \"Queensland\",\n        avgCostOfLiving: 2400,\n        currency: \"AUD\"\n    },\n    {\n        name: \"Perth\",\n        country: \"AU\",\n        state: \"Western Australia\",\n        avgCostOfLiving: 2300,\n        currency: \"AUD\"\n    },\n    {\n        name: \"Adelaide\",\n        country: \"AU\",\n        state: \"South Australia\",\n        avgCostOfLiving: 2100,\n        currency: \"AUD\"\n    }\n];\n// 生活方式系数\nconst LIFESTYLE_MULTIPLIERS = {\n    economy: 0.8,\n    standard: 1.0,\n    comfortable: 1.25 // +25%\n};\n// 住宿类型基础价格 (月租)\nconst ACCOMMODATION_BASE_COSTS = {\n    US: {\n        dormitory: 800,\n        shared: 1200,\n        studio: 1800,\n        apartment: 2400\n    },\n    AU: {\n        dormitory: 600,\n        shared: 900,\n        studio: 1400,\n        apartment: 1800\n    }\n};\n// 签证费用\nconst VISA_FEES = {\n    US: {\n        F1: 350,\n        source: \"https://travel.state.gov\"\n    },\n    AU: {\n        student: 650,\n        source: \"https://immi.homeaffairs.gov.au\"\n    }\n};\n// OpenRouter模型配置\nconst OPENROUTER_CONFIG = {\n    baseURL: \"https://openrouter.ai/api/v1\",\n    model: \"openai/gpt-4o\",\n    temperature: 0.3,\n    max_tokens: 2000\n};\n// 搜索模型配置\nconst SEARCH_MODEL = \"openai/gpt-4o-search-preview\";\n// 报告生成模型配置\nconst REPORT_MODEL = \"anthropic/claude-3.5-sonnet\";\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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InNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFVuaXZlcnNpdHlEYXRhLCBDaXR5RGF0YSB9IGZyb20gJ0AvdHlwZXMnO1xuXG4vLyDnvo7lm73ng63pl6jlpKflrabmlbDmja5cbmV4cG9ydCBjb25zdCBVU19VTklWRVJTSVRJRVM6IFVuaXZlcnNpdHlEYXRhW10gPSBbXG4gIHsgbmFtZTogXCJIYXJ2YXJkIFVuaXZlcnNpdHlcIiwgY291bnRyeTogXCJVU1wiLCBjaXR5OiBcIkNhbWJyaWRnZVwiLCBwcm9ncmFtczogW1wiQnVzaW5lc3NcIiwgXCJMYXdcIiwgXCJNZWRpY2luZVwiLCBcIkVuZ2luZWVyaW5nXCIsIFwiTGliZXJhbCBBcnRzXCJdLCB3ZWJzaXRlOiBcImh0dHBzOi8vd3d3LmhhcnZhcmQuZWR1XCIgfSxcbiAgeyBuYW1lOiBcIlN0YW5mb3JkIFVuaXZlcnNpdHlcIiwgY291bnRyeTogXCJVU1wiLCBjaXR5OiBcIlN0YW5mb3JkXCIsIHByb2dyYW1zOiBbXCJDb21wdXRlciBTY2llbmNlXCIsIFwiRW5naW5lZXJpbmdcIiwgXCJCdXNpbmVzc1wiLCBcIk1lZGljaW5lXCJdLCB3ZWJzaXRlOiBcImh0dHBzOi8vd3d3LnN0YW5mb3JkLmVkdVwiIH0sXG4gIHsgbmFtZTogXCJNSVRcIiwgY291bnRyeTogXCJVU1wiLCBjaXR5OiBcIkNhbWJyaWRnZVwiLCBwcm9ncmFtczogW1wiRW5naW5lZXJpbmdcIiwgXCJDb21wdXRlciBTY2llbmNlXCIsIFwiQnVzaW5lc3NcIiwgXCJTY2llbmNlXCJdLCB3ZWJzaXRlOiBcImh0dHBzOi8vd2ViLm1pdC5lZHVcIiB9LFxuICB7IG5hbWU6IFwiVW5pdmVyc2l0eSBvZiBDYWxpZm9ybmlhLCBCZXJrZWxleVwiLCBjb3VudHJ5OiBcIlVTXCIsIGNpdHk6IFwiQmVya2VsZXlcIiwgcHJvZ3JhbXM6IFtcIkVuZ2luZWVyaW5nXCIsIFwiQnVzaW5lc3NcIiwgXCJMYXdcIiwgXCJQdWJsaWMgUG9saWN5XCJdLCB3ZWJzaXRlOiBcImh0dHBzOi8vd3d3LmJlcmtlbGV5LmVkdVwiIH0sXG4gIHsgbmFtZTogXCJDb2x1bWJpYSBVbml2ZXJzaXR5XCIsIGNvdW50cnk6IFwiVVNcIiwgY2l0eTogXCJOZXcgWW9ya1wiLCBwcm9ncmFtczogW1wiSm91cm5hbGlzbVwiLCBcIkJ1c2luZXNzXCIsIFwiTGF3XCIsIFwiTWVkaWNpbmVcIl0sIHdlYnNpdGU6IFwiaHR0cHM6Ly93d3cuY29sdW1iaWEuZWR1XCIgfSxcbiAgeyBuYW1lOiBcIlVuaXZlcnNpdHkgb2YgQ2hpY2Fnb1wiLCBjb3VudHJ5OiBcIlVTXCIsIGNpdHk6IFwiQ2hpY2Fnb1wiLCBwcm9ncmFtczogW1wiRWNvbm9taWNzXCIsIFwiQnVzaW5lc3NcIiwgXCJMYXdcIiwgXCJNZWRpY2luZVwiXSwgd2Vic2l0ZTogXCJodHRwczovL3d3dy51Y2hpY2Fnby5lZHVcIiB9LFxuICB7IG5hbWU6IFwiWWFsZSBVbml2ZXJzaXR5XCIsIGNvdW50cnk6IFwiVVNcIiwgY2l0eTogXCJOZXcgSGF2ZW5cIiwgcHJvZ3JhbXM6IFtcIkxhd1wiLCBcIk1lZGljaW5lXCIsIFwiQnVzaW5lc3NcIiwgXCJMaWJlcmFsIEFydHNcIl0sIHdlYnNpdGU6IFwiaHR0cHM6Ly93d3cueWFsZS5lZHVcIiB9LFxuICB7IG5hbWU6IFwiUHJpbmNldG9uIFVuaXZlcnNpdHlcIiwgY291bnRyeTogXCJVU1wiLCBjaXR5OiBcIlByaW5jZXRvblwiLCBwcm9ncmFtczogW1wiRW5naW5lZXJpbmdcIiwgXCJQdWJsaWMgUG9saWN5XCIsIFwiTGliZXJhbCBBcnRzXCJdLCB3ZWJzaXRlOiBcImh0dHBzOi8vd3d3LnByaW5jZXRvbi5lZHVcIiB9LFxuICB7IG5hbWU6IFwiVUNMQVwiLCBjb3VudHJ5OiBcIlVTXCIsIGNpdHk6IFwiTG9zIEFuZ2VsZXNcIiwgcHJvZ3JhbXM6IFtcIkZpbG1cIiwgXCJCdXNpbmVzc1wiLCBcIk1lZGljaW5lXCIsIFwiRW5naW5lZXJpbmdcIl0sIHdlYnNpdGU6IFwiaHR0cHM6Ly93d3cudWNsYS5lZHVcIiB9LFxuICB7IG5hbWU6IFwiTllVXCIsIGNvdW50cnk6IFwiVVNcIiwgY2l0eTogXCJOZXcgWW9ya1wiLCBwcm9ncmFtczogW1wiQnVzaW5lc3NcIiwgXCJGaWxtXCIsIFwiTGF3XCIsIFwiQXJ0c1wiXSwgd2Vic2l0ZTogXCJodHRwczovL3d3dy5ueXUuZWR1XCIgfVxuXTtcblxuLy8g5r6z5aSn5Yip5Lqa54Ot6Zeo5aSn5a2m5pWw5o2uXG5leHBvcnQgY29uc3QgQVVfVU5JVkVSU0lUSUVTOiBVbml2ZXJzaXR5RGF0YVtdID0gW1xuICB7IG5hbWU6IFwiVW5pdmVyc2l0eSBvZiBNZWxib3VybmVcIiwgY291bnRyeTogXCJBVVwiLCBjaXR5OiBcIk1lbGJvdXJuZVwiLCBwcm9ncmFtczogW1wiTWVkaWNpbmVcIiwgXCJMYXdcIiwgXCJCdXNpbmVzc1wiLCBcIkVuZ2luZWVyaW5nXCJdLCB3ZWJzaXRlOiBcImh0dHBzOi8vd3d3LnVuaW1lbGIuZWR1LmF1XCIgfSxcbiAgeyBuYW1lOiBcIkF1c3RyYWxpYW4gTmF0aW9uYWwgVW5pdmVyc2l0eVwiLCBjb3VudHJ5OiBcIkFVXCIsIGNpdHk6IFwiQ2FuYmVycmFcIiwgcHJvZ3JhbXM6IFtcIlBvbGl0aWNzXCIsIFwiSW50ZXJuYXRpb25hbCBSZWxhdGlvbnNcIiwgXCJTY2llbmNlXCIsIFwiRW5naW5lZXJpbmdcIl0sIHdlYnNpdGU6IFwiaHR0cHM6Ly93d3cuYW51LmVkdS5hdVwiIH0sXG4gIHsgbmFtZTogXCJVbml2ZXJzaXR5IG9mIFN5ZG5leVwiLCBjb3VudHJ5OiBcIkFVXCIsIGNpdHk6IFwiU3lkbmV5XCIsIHByb2dyYW1zOiBbXCJNZWRpY2luZVwiLCBcIkxhd1wiLCBcIkJ1c2luZXNzXCIsIFwiQXJjaGl0ZWN0dXJlXCJdLCB3ZWJzaXRlOiBcImh0dHBzOi8vd3d3LnN5ZG5leS5lZHUuYXVcIiB9LFxuICB7IG5hbWU6IFwiVW5pdmVyc2l0eSBvZiBOZXcgU291dGggV2FsZXNcIiwgY291bnRyeTogXCJBVVwiLCBjaXR5OiBcIlN5ZG5leVwiLCBwcm9ncmFtczogW1wiRW5naW5lZXJpbmdcIiwgXCJCdXNpbmVzc1wiLCBcIk1lZGljaW5lXCIsIFwiQXJ0c1wiXSwgd2Vic2l0ZTogXCJodHRwczovL3d3dy51bnN3LmVkdS5hdVwiIH0sXG4gIHsgbmFtZTogXCJNb25hc2ggVW5pdmVyc2l0eVwiLCBjb3VudHJ5OiBcIkFVXCIsIGNpdHk6IFwiTWVsYm91cm5lXCIsIHByb2dyYW1zOiBbXCJNZWRpY2luZVwiLCBcIkVuZ2luZWVyaW5nXCIsIFwiQnVzaW5lc3NcIiwgXCJBcnRzXCJdLCB3ZWJzaXRlOiBcImh0dHBzOi8vd3d3Lm1vbmFzaC5lZHVcIiB9LFxuICB7IG5hbWU6IFwiVW5pdmVyc2l0eSBvZiBRdWVlbnNsYW5kXCIsIGNvdW50cnk6IFwiQVVcIiwgY2l0eTogXCJCcmlzYmFuZVwiLCBwcm9ncmFtczogW1wiTWVkaWNpbmVcIiwgXCJFbmdpbmVlcmluZ1wiLCBcIkJ1c2luZXNzXCIsIFwiU2NpZW5jZVwiXSwgd2Vic2l0ZTogXCJodHRwczovL3d3dy51cS5lZHUuYXVcIiB9LFxuICB7IG5hbWU6IFwiVW5pdmVyc2l0eSBvZiBXZXN0ZXJuIEF1c3RyYWxpYVwiLCBjb3VudHJ5OiBcIkFVXCIsIGNpdHk6IFwiUGVydGhcIiwgcHJvZ3JhbXM6IFtcIk1lZGljaW5lXCIsIFwiRW5naW5lZXJpbmdcIiwgXCJCdXNpbmVzc1wiLCBcIlNjaWVuY2VcIl0sIHdlYnNpdGU6IFwiaHR0cHM6Ly93d3cudXdhLmVkdS5hdVwiIH0sXG4gIHsgbmFtZTogXCJVbml2ZXJzaXR5IG9mIEFkZWxhaWRlXCIsIGNvdW50cnk6IFwiQVVcIiwgY2l0eTogXCJBZGVsYWlkZVwiLCBwcm9ncmFtczogW1wiTWVkaWNpbmVcIiwgXCJFbmdpbmVlcmluZ1wiLCBcIkJ1c2luZXNzXCIsIFwiV2luZVwiXSwgd2Vic2l0ZTogXCJodHRwczovL3d3dy5hZGVsYWlkZS5lZHUuYXVcIiB9LFxuICB7IG5hbWU6IFwiTWFjcXVhcmllIFVuaXZlcnNpdHlcIiwgY291bnRyeTogXCJBVVwiLCBjaXR5OiBcIlN5ZG5leVwiLCBwcm9ncmFtczogW1wiQnVzaW5lc3NcIiwgXCJTY2llbmNlXCIsIFwiQXJ0c1wiLCBcIkhlYWx0aCBTY2llbmNlc1wiXSwgd2Vic2l0ZTogXCJodHRwczovL3d3dy5tcS5lZHUuYXVcIiB9LFxuICB7IG5hbWU6IFwiUk1JVCBVbml2ZXJzaXR5XCIsIGNvdW50cnk6IFwiQVVcIiwgY2l0eTogXCJNZWxib3VybmVcIiwgcHJvZ3JhbXM6IFtcIkRlc2lnblwiLCBcIkVuZ2luZWVyaW5nXCIsIFwiQnVzaW5lc3NcIiwgXCJBcnRzXCJdLCB3ZWJzaXRlOiBcImh0dHBzOi8vd3d3LnJtaXQuZWR1LmF1XCIgfVxuXTtcblxuLy8g5Z+O5biC5pWw5o2uXG5leHBvcnQgY29uc3QgQ0lUSUVTOiBDaXR5RGF0YVtdID0gW1xuICAvLyDnvo7lm73ln47luIJcbiAgeyBuYW1lOiBcIkNhbWJyaWRnZVwiLCBjb3VudHJ5OiBcIlVTXCIsIHN0YXRlOiBcIk1hc3NhY2h1c2V0dHNcIiwgYXZnQ29zdE9mTGl2aW5nOiAzNTAwLCBjdXJyZW5jeTogXCJVU0RcIiB9LFxuICB7IG5hbWU6IFwiU3RhbmZvcmRcIiwgY291bnRyeTogXCJVU1wiLCBzdGF0ZTogXCJDYWxpZm9ybmlhXCIsIGF2Z0Nvc3RPZkxpdmluZzogNDAwMCwgY3VycmVuY3k6IFwiVVNEXCIgfSxcbiAgeyBuYW1lOiBcIkJlcmtlbGV5XCIsIGNvdW50cnk6IFwiVVNcIiwgc3RhdGU6IFwiQ2FsaWZvcm5pYVwiLCBhdmdDb3N0T2ZMaXZpbmc6IDM4MDAsIGN1cnJlbmN5OiBcIlVTRFwiIH0sXG4gIHsgbmFtZTogXCJOZXcgWW9ya1wiLCBjb3VudHJ5OiBcIlVTXCIsIHN0YXRlOiBcIk5ldyBZb3JrXCIsIGF2Z0Nvc3RPZkxpdmluZzogNDUwMCwgY3VycmVuY3k6IFwiVVNEXCIgfSxcbiAgeyBuYW1lOiBcIkNoaWNhZ29cIiwgY291bnRyeTogXCJVU1wiLCBzdGF0ZTogXCJJbGxpbm9pc1wiLCBhdmdDb3N0T2ZMaXZpbmc6IDI4MDAsIGN1cnJlbmN5OiBcIlVTRFwiIH0sXG4gIHsgbmFtZTogXCJOZXcgSGF2ZW5cIiwgY291bnRyeTogXCJVU1wiLCBzdGF0ZTogXCJDb25uZWN0aWN1dFwiLCBhdmdDb3N0T2ZMaXZpbmc6IDI1MDAsIGN1cnJlbmN5OiBcIlVTRFwiIH0sXG4gIHsgbmFtZTogXCJQcmluY2V0b25cIiwgY291bnRyeTogXCJVU1wiLCBzdGF0ZTogXCJOZXcgSmVyc2V5XCIsIGF2Z0Nvc3RPZkxpdmluZzogMzIwMCwgY3VycmVuY3k6IFwiVVNEXCIgfSxcbiAgeyBuYW1lOiBcIkxvcyBBbmdlbGVzXCIsIGNvdW50cnk6IFwiVVNcIiwgc3RhdGU6IFwiQ2FsaWZvcm5pYVwiLCBhdmdDb3N0T2ZMaXZpbmc6IDM2MDAsIGN1cnJlbmN5OiBcIlVTRFwiIH0sXG5cbiAgLy8g5r6z5aSn5Yip5Lqa5Z+O5biCXG4gIHsgbmFtZTogXCJNZWxib3VybmVcIiwgY291bnRyeTogXCJBVVwiLCBzdGF0ZTogXCJWaWN0b3JpYVwiLCBhdmdDb3N0T2ZMaXZpbmc6IDI4MDAsIGN1cnJlbmN5OiBcIkFVRFwiIH0sXG4gIHsgbmFtZTogXCJDYW5iZXJyYVwiLCBjb3VudHJ5OiBcIkFVXCIsIHN0YXRlOiBcIkF1c3RyYWxpYW4gQ2FwaXRhbCBUZXJyaXRvcnlcIiwgYXZnQ29zdE9mTGl2aW5nOiAyNjAwLCBjdXJyZW5jeTogXCJBVURcIiB9LFxuICB7IG5hbWU6IFwiU3lkbmV5XCIsIGNvdW50cnk6IFwiQVVcIiwgc3RhdGU6IFwiTmV3IFNvdXRoIFdhbGVzXCIsIGF2Z0Nvc3RPZkxpdmluZzogMzIwMCwgY3VycmVuY3k6IFwiQVVEXCIgfSxcbiAgeyBuYW1lOiBcIkJyaXNiYW5lXCIsIGNvdW50cnk6IFwiQVVcIiwgc3RhdGU6IFwiUXVlZW5zbGFuZFwiLCBhdmdDb3N0T2ZMaXZpbmc6IDI0MDAsIGN1cnJlbmN5OiBcIkFVRFwiIH0sXG4gIHsgbmFtZTogXCJQZXJ0aFwiLCBjb3VudHJ5OiBcIkFVXCIsIHN0YXRlOiBcIldlc3Rlcm4gQXVzdHJhbGlhXCIsIGF2Z0Nvc3RPZkxpdmluZzogMjMwMCwgY3VycmVuY3k6IFwiQVVEXCIgfSxcbiAgeyBuYW1lOiBcIkFkZWxhaWRlXCIsIGNvdW50cnk6IFwiQVVcIiwgc3RhdGU6IFwiU291dGggQXVzdHJhbGlhXCIsIGF2Z0Nvc3RPZkxpdmluZzogMjEwMCwgY3VycmVuY3k6IFwiQVVEXCIgfVxuXTtcblxuLy8g55Sf5rS75pa55byP57O75pWwXG5leHBvcnQgY29uc3QgTElGRVNUWUxFX01VTFRJUExJRVJTID0ge1xuICBlY29ub215OiAwLjgsICAgIC8vIC0yMCVcbiAgc3RhbmRhcmQ6IDEuMCwgICAvLyDCsTAlXG4gIGNvbWZvcnRhYmxlOiAxLjI1IC8vICsyNSVcbn0gYXMgY29uc3Q7XG5cbi8vIOS9j+Wuv+exu+Wei+WfuuehgOS7t+agvCAo5pyI56efKVxuZXhwb3J0IGNvbnN0IEFDQ09NTU9EQVRJT05fQkFTRV9DT1NUUyA9IHtcbiAgVVM6IHtcbiAgICBkb3JtaXRvcnk6IDgwMCxcbiAgICBzaGFyZWQ6IDEyMDAsXG4gICAgc3R1ZGlvOiAxODAwLFxuICAgIGFwYXJ0bWVudDogMjQwMFxuICB9LFxuICBBVToge1xuICAgIGRvcm1pdG9yeTogNjAwLFxuICAgIHNoYXJlZDogOTAwLFxuICAgIHN0dWRpbzogMTQwMCxcbiAgICBhcGFydG1lbnQ6IDE4MDBcbiAgfVxufSBhcyBjb25zdDtcblxuLy8g562+6K+B6LS555SoXG5leHBvcnQgY29uc3QgVklTQV9GRUVTID0ge1xuICBVUzoge1xuICAgIEYxOiAzNTAsIC8vIOWtpueUn+etvuivgVxuICAgIHNvdXJjZTogXCJodHRwczovL3RyYXZlbC5zdGF0ZS5nb3ZcIlxuICB9LFxuICBBVToge1xuICAgIHN0dWRlbnQ6IDY1MCwgLy8g5a2m55Sf562+6K+B5a2Q57G7NTAwXG4gICAgc291cmNlOiBcImh0dHBzOi8vaW1taS5ob21lYWZmYWlycy5nb3YuYXVcIlxuICB9XG59IGFzIGNvbnN0O1xuXG4vLyBPcGVuUm91dGVy5qih5Z6L6YWN572uXG5leHBvcnQgY29uc3QgT1BFTlJPVVRFUl9DT05GSUcgPSB7XG4gIGJhc2VVUkw6IFwiaHR0cHM6Ly9vcGVucm91dGVyLmFpL2FwaS92MVwiLFxuICBtb2RlbDogXCJvcGVuYWkvZ3B0LTRvXCIsXG4gIHRlbXBlcmF0dXJlOiAwLjMsXG4gIG1heF90b2tlbnM6IDIwMDBcbn0gYXMgY29uc3Q7XG5cbi8vIOaQnOe0ouaooeWei+mFjee9rlxuZXhwb3J0IGNvbnN0IFNFQVJDSF9NT0RFTCA9IFwib3BlbmFpL2dwdC00by1zZWFyY2gtcHJldmlld1wiO1xuXG4vLyDmiqXlkYrnlJ/miJDmqKHlnovphY3nva5cbmV4cG9ydCBjb25zdCBSRVBPUlRfTU9ERUwgPSBcImFudGhyb3BpYy9jbGF1ZGUtMy41LXNvbm5ldFwiOyJdLCJuYW1lcyI6WyJVU19VTklWRVJTSVRJRVMiLCJuYW1lIiwiY291bnRyeSIsImNpdHkiLCJwcm9ncmFtcyIsIndlYnNpdGUiLCJBVV9VTklWRVJTSVRJRVMiLCJDSVRJRVMiLCJzdGF0ZSIsImF2Z0Nvc3RPZkxpdmluZyIsImN1cnJlbmN5IiwiTElGRVNUWUxFX01VTFRJUExJRVJTIiwiZWNvbm9teSIsInN0YW5kYXJkIiwiY29tZm9ydGFibGUiLCJBQ0NPTU1PREFUSU9OX0JBU0VfQ09TVFMiLCJVUyIsImRvcm1pdG9yeSIsInNoYXJlZCIsInN0dWRpbyIsImFwYXJ0bWVudCIsIkFVIiwiVklTQV9GRUVTIiwiRjEiLCJzb3VyY2UiLCJzdHVkZW50IiwiT1BFTlJPVVRFUl9DT05GSUciLCJiYXNlVVJMIiwibW9kZWwiLCJ0ZW1wZXJhdHVyZSIsIm1heF90b2tlbnMiLCJTRUFSQ0hfTU9ERUwiLCJSRVBPUlRfTU9ERUwiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/constants.ts\n");

/***/ }),

/***/ "(rsc)/./lib/estimation-coordinator.ts":
/*!***************************************!*\
  !*** ./lib/estimation-coordinator.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EstimationCoordinator: () => (/* binding */ EstimationCoordinator)\n/* harmony export */ });\n/* harmony import */ var _agents_tuition_agent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./agents/tuition-agent */ \"(rsc)/./lib/agents/tuition-agent.ts\");\n/* harmony import */ var _agents_living_cost_agent__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./agents/living-cost-agent */ \"(rsc)/./lib/agents/living-cost-agent.ts\");\n/* harmony import */ var _agents_other_costs_agent__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./agents/other-costs-agent */ \"(rsc)/./lib/agents/other-costs-agent.ts\");\n/* harmony import */ var _agents_report_agent__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./agents/report-agent */ \"(rsc)/./lib/agents/report-agent.ts\");\n\n\n\n\nclass EstimationCoordinator {\n    constructor(){\n        this.tuitionAgent = new _agents_tuition_agent__WEBPACK_IMPORTED_MODULE_0__.TuitionAgent();\n        this.livingCostAgent = new _agents_living_cost_agent__WEBPACK_IMPORTED_MODULE_1__.LivingCostAgent();\n        this.otherCostsAgent = new _agents_other_costs_agent__WEBPACK_IMPORTED_MODULE_2__.OtherCostsAgent();\n        this.reportAgent = new _agents_report_agent__WEBPACK_IMPORTED_MODULE_3__.ReportAgent();\n    }\n    async generateCostEstimate(userInput, onProgress) {\n        try {\n            // 第一步：查询学费\n            onProgress?.({\n                step: 'tuition',\n                progress: 10,\n                message: '正在查询项目学费信息...'\n            });\n            const tuition = await this.tuitionAgent.queryTuition(userInput);\n            onProgress?.({\n                step: 'tuition',\n                progress: 30,\n                message: '学费信息查询完成'\n            });\n            // 第二步：分析生活成本\n            onProgress?.({\n                step: 'living',\n                progress: 40,\n                message: '正在分析个性化生活成本...'\n            });\n            const livingCosts = await this.livingCostAgent.analyzeLivingCosts(userInput);\n            onProgress?.({\n                step: 'living',\n                progress: 60,\n                message: '生活成本分析完成'\n            });\n            // 第三步：计算其他费用\n            onProgress?.({\n                step: 'other',\n                progress: 70,\n                message: '正在计算申请费、签证费等其他费用...'\n            });\n            const otherCosts = await this.otherCostsAgent.calculateOtherCosts(userInput);\n            onProgress?.({\n                step: 'other',\n                progress: 80,\n                message: '其他费用计算完成'\n            });\n            // 第四步：生成报告\n            onProgress?.({\n                step: 'report',\n                progress: 90,\n                message: '正在生成个性化报告和建议...'\n            });\n            const report = await this.reportAgent.generateReport(userInput, tuition, livingCosts, otherCosts);\n            onProgress?.({\n                step: 'complete',\n                progress: 100,\n                message: '费用估算报告生成完成！'\n            });\n            return report;\n        } catch (error) {\n            console.error('Cost estimation failed:', error);\n            throw new Error(`费用估算失败: ${error instanceof Error ? error.message : '未知错误'}`);\n        }\n    }\n    async generateCostEstimateParallel(userInput, onProgress) {\n        try {\n            onProgress?.({\n                step: 'tuition',\n                progress: 10,\n                message: '正在并行查询各项费用信息...'\n            });\n            // 并行执行所有查询任务\n            const [tuition, livingCosts, otherCosts] = await Promise.allSettled([\n                this.tuitionAgent.queryTuition(userInput),\n                this.livingCostAgent.analyzeLivingCosts(userInput),\n                this.otherCostsAgent.calculateOtherCosts(userInput)\n            ]);\n            onProgress?.({\n                step: 'living',\n                progress: 70,\n                message: '数据查询完成，正在汇总分析...'\n            });\n            // 检查结果并记录失败情况\n            const tuitionData = tuition.status === 'fulfilled' ? tuition.value : (()=>{\n                console.warn('Tuition query failed:', tuition.reason);\n                return this.getEmergencyTuitionData(userInput);\n            })();\n            const livingData = livingCosts.status === 'fulfilled' ? livingCosts.value : (()=>{\n                console.warn('Living costs query failed:', livingCosts.reason);\n                return this.getEmergencyLivingData(userInput);\n            })();\n            const otherData = otherCosts.status === 'fulfilled' ? otherCosts.value : (()=>{\n                console.warn('Other costs query failed:', otherCosts.reason);\n                return this.getEmergencyOtherData(userInput);\n            })();\n            onProgress?.({\n                step: 'report',\n                progress: 90,\n                message: '正在生成个性化报告...'\n            });\n            const report = await this.reportAgent.generateReport(userInput, tuitionData, livingData, otherData);\n            onProgress?.({\n                step: 'complete',\n                progress: 100,\n                message: '费用估算报告生成完成！'\n            });\n            return report;\n        } catch (error) {\n            console.error('Parallel cost estimation failed:', error);\n            throw new Error(`费用估算失败: ${error instanceof Error ? error.message : '未知错误'}`);\n        }\n    }\n    getEmergencyTuitionData(userInput) {\n        const { country, level } = userInput;\n        const emergencyFees = {\n            'US': {\n                'undergraduate': 45000,\n                'graduate': 55000\n            },\n            'AU': {\n                'undergraduate': 40000,\n                'graduate': 45000\n            }\n        };\n        return {\n            amount: emergencyFees[country][level],\n            currency: country === 'US' ? 'USD' : 'AUD',\n            period: 'annual',\n            source: '紧急后备数据',\n            isEstimate: true,\n            lastUpdated: new Date().toISOString()\n        };\n    }\n    getEmergencyLivingData(userInput) {\n        const { country } = userInput;\n        const currency = country === 'US' ? 'USD' : 'AUD';\n        const baseAmount = country === 'US' ? 2500 : 2200;\n        return {\n            accommodation: {\n                amount: Math.round(baseAmount * 0.4),\n                type: userInput.accommodation,\n                range: {\n                    min: 800,\n                    max: 1400\n                }\n            },\n            food: {\n                amount: Math.round(baseAmount * 0.25),\n                range: {\n                    min: 400,\n                    max: 800\n                }\n            },\n            transportation: {\n                amount: Math.round(baseAmount * 0.1),\n                range: {\n                    min: 100,\n                    max: 300\n                }\n            },\n            utilities: {\n                amount: Math.round(baseAmount * 0.1),\n                range: {\n                    min: 80,\n                    max: 200\n                }\n            },\n            entertainment: {\n                amount: Math.round(baseAmount * 0.1),\n                range: {\n                    min: 150,\n                    max: 400\n                }\n            },\n            miscellaneous: {\n                amount: Math.round(baseAmount * 0.05),\n                range: {\n                    min: 100,\n                    max: 300\n                }\n            },\n            total: {\n                amount: baseAmount,\n                range: {\n                    min: Math.round(baseAmount * 0.8),\n                    max: Math.round(baseAmount * 1.3)\n                }\n            },\n            currency,\n            period: 'monthly',\n            sources: [\n                '紧急后备数据'\n            ]\n        };\n    }\n    getEmergencyOtherData(userInput) {\n        const { country } = userInput;\n        const currency = country === 'US' ? 'USD' : 'AUD';\n        return {\n            applicationFee: {\n                amount: country === 'US' ? 85 : 100,\n                source: '紧急后备数据'\n            },\n            visaFee: {\n                amount: country === 'US' ? 350 : 650,\n                source: '官方标准费用'\n            },\n            healthInsurance: {\n                amount: country === 'US' ? 2500 : 600,\n                source: '紧急后备数据'\n            },\n            currency\n        };\n    }\n    // 添加数据验证方法\n    validateUserInput(userInput) {\n        const errors = [];\n        if (!userInput.country) errors.push('国家不能为空');\n        if (!userInput.university) errors.push('大学不能为空');\n        if (!userInput.program) errors.push('专业不能为空');\n        if (!userInput.city) errors.push('城市不能为空');\n        if (!userInput.level) errors.push('学位层次不能为空');\n        if (!userInput.lifestyle) errors.push('生活方式不能为空');\n        if (!userInput.accommodation) errors.push('住宿偏好不能为空');\n        return {\n            isValid: errors.length === 0,\n            errors\n        };\n    }\n    // 添加费用对比功能\n    async compareWithSimilarPrograms(userInput, report) {\n        try {\n            // 可以实现与相似项目的费用对比\n            // 这里是一个简化的实现\n            return {\n                comparison: '数据收集中，暂无对比信息',\n                recommendation: '建议关注同地区相似专业的费用情况'\n            };\n        } catch (error) {\n            console.error('Comparison failed:', error);\n            return null;\n        }\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFPO1lBQ2RDLFFBQVFELEtBQUssQ0FBQyxzQkFBc0JBO1lBQ3BDLE9BQU87UUFDVDtJQUNGO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jb3N0LWVzdGltYXRvci8uL2xpYi9lc3RpbWF0aW9uLWNvb3JkaW5hdG9yLnRzPzI1NTQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVXNlcklucHV0LCBDb3N0RXN0aW1hdGVSZXBvcnQsIEVzdGltYXRpb25Qcm9ncmVzcyB9IGZyb20gJ0AvdHlwZXMnO1xuaW1wb3J0IHsgVHVpdGlvbkFnZW50IH0gZnJvbSAnLi9hZ2VudHMvdHVpdGlvbi1hZ2VudCc7XG5pbXBvcnQgeyBMaXZpbmdDb3N0QWdlbnQgfSBmcm9tICcuL2FnZW50cy9saXZpbmctY29zdC1hZ2VudCc7XG5pbXBvcnQgeyBPdGhlckNvc3RzQWdlbnQgfSBmcm9tICcuL2FnZW50cy9vdGhlci1jb3N0cy1hZ2VudCc7XG5pbXBvcnQgeyBSZXBvcnRBZ2VudCB9IGZyb20gJy4vYWdlbnRzL3JlcG9ydC1hZ2VudCc7XG5cbmV4cG9ydCB0eXBlIFByb2dyZXNzQ2FsbGJhY2sgPSAocHJvZ3Jlc3M6IEVzdGltYXRpb25Qcm9ncmVzcykgPT4gdm9pZDtcblxuZXhwb3J0IGNsYXNzIEVzdGltYXRpb25Db29yZGluYXRvciB7XG4gIHByaXZhdGUgdHVpdGlvbkFnZW50OiBUdWl0aW9uQWdlbnQ7XG4gIHByaXZhdGUgbGl2aW5nQ29zdEFnZW50OiBMaXZpbmdDb3N0QWdlbnQ7XG4gIHByaXZhdGUgb3RoZXJDb3N0c0FnZW50OiBPdGhlckNvc3RzQWdlbnQ7XG4gIHByaXZhdGUgcmVwb3J0QWdlbnQ6IFJlcG9ydEFnZW50O1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMudHVpdGlvbkFnZW50ID0gbmV3IFR1aXRpb25BZ2VudCgpO1xuICAgIHRoaXMubGl2aW5nQ29zdEFnZW50ID0gbmV3IExpdmluZ0Nvc3RBZ2VudCgpO1xuICAgIHRoaXMub3RoZXJDb3N0c0FnZW50ID0gbmV3IE90aGVyQ29zdHNBZ2VudCgpO1xuICAgIHRoaXMucmVwb3J0QWdlbnQgPSBuZXcgUmVwb3J0QWdlbnQoKTtcbiAgfVxuXG4gIGFzeW5jIGdlbmVyYXRlQ29zdEVzdGltYXRlKFxuICAgIHVzZXJJbnB1dDogVXNlcklucHV0LFxuICAgIG9uUHJvZ3Jlc3M/OiBQcm9ncmVzc0NhbGxiYWNrXG4gICk6IFByb21pc2U8Q29zdEVzdGltYXRlUmVwb3J0PiB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIOesrOS4gOatpe+8muafpeivouWtpui0uVxuICAgICAgb25Qcm9ncmVzcz8uKHtcbiAgICAgICAgc3RlcDogJ3R1aXRpb24nLFxuICAgICAgICBwcm9ncmVzczogMTAsXG4gICAgICAgIG1lc3NhZ2U6ICfmraPlnKjmn6Xor6Lpobnnm67lrabotLnkv6Hmga8uLi4nXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgdHVpdGlvbiA9IGF3YWl0IHRoaXMudHVpdGlvbkFnZW50LnF1ZXJ5VHVpdGlvbih1c2VySW5wdXQpO1xuXG4gICAgICBvblByb2dyZXNzPy4oe1xuICAgICAgICBzdGVwOiAndHVpdGlvbicsXG4gICAgICAgIHByb2dyZXNzOiAzMCxcbiAgICAgICAgbWVzc2FnZTogJ+Wtpui0ueS/oeaBr+afpeivouWujOaIkCdcbiAgICAgIH0pO1xuXG4gICAgICAvLyDnrKzkuozmraXvvJrliIbmnpDnlJ/mtLvmiJDmnKxcbiAgICAgIG9uUHJvZ3Jlc3M/Lih7XG4gICAgICAgIHN0ZXA6ICdsaXZpbmcnLFxuICAgICAgICBwcm9ncmVzczogNDAsXG4gICAgICAgIG1lc3NhZ2U6ICfmraPlnKjliIbmnpDkuKrmgKfljJbnlJ/mtLvmiJDmnKwuLi4nXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgbGl2aW5nQ29zdHMgPSBhd2FpdCB0aGlzLmxpdmluZ0Nvc3RBZ2VudC5hbmFseXplTGl2aW5nQ29zdHModXNlcklucHV0KTtcblxuICAgICAgb25Qcm9ncmVzcz8uKHtcbiAgICAgICAgc3RlcDogJ2xpdmluZycsXG4gICAgICAgIHByb2dyZXNzOiA2MCxcbiAgICAgICAgbWVzc2FnZTogJ+eUn+a0u+aIkOacrOWIhuaekOWujOaIkCdcbiAgICAgIH0pO1xuXG4gICAgICAvLyDnrKzkuInmraXvvJrorqHnrpflhbbku5botLnnlKhcbiAgICAgIG9uUHJvZ3Jlc3M/Lih7XG4gICAgICAgIHN0ZXA6ICdvdGhlcicsXG4gICAgICAgIHByb2dyZXNzOiA3MCxcbiAgICAgICAgbWVzc2FnZTogJ+ato+WcqOiuoeeul+eUs+ivt+i0ueOAgeetvuivgei0ueetieWFtuS7lui0ueeUqC4uLidcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBvdGhlckNvc3RzID0gYXdhaXQgdGhpcy5vdGhlckNvc3RzQWdlbnQuY2FsY3VsYXRlT3RoZXJDb3N0cyh1c2VySW5wdXQpO1xuXG4gICAgICBvblByb2dyZXNzPy4oe1xuICAgICAgICBzdGVwOiAnb3RoZXInLFxuICAgICAgICBwcm9ncmVzczogODAsXG4gICAgICAgIG1lc3NhZ2U6ICflhbbku5botLnnlKjorqHnrpflrozmiJAnXG4gICAgICB9KTtcblxuICAgICAgLy8g56ys5Zub5q2l77ya55Sf5oiQ5oql5ZGKXG4gICAgICBvblByb2dyZXNzPy4oe1xuICAgICAgICBzdGVwOiAncmVwb3J0JyxcbiAgICAgICAgcHJvZ3Jlc3M6IDkwLFxuICAgICAgICBtZXNzYWdlOiAn5q2j5Zyo55Sf5oiQ5Liq5oCn5YyW5oql5ZGK5ZKM5bu66K6uLi4uJ1xuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlcG9ydCA9IGF3YWl0IHRoaXMucmVwb3J0QWdlbnQuZ2VuZXJhdGVSZXBvcnQoXG4gICAgICAgIHVzZXJJbnB1dCxcbiAgICAgICAgdHVpdGlvbixcbiAgICAgICAgbGl2aW5nQ29zdHMsXG4gICAgICAgIG90aGVyQ29zdHNcbiAgICAgICk7XG5cbiAgICAgIG9uUHJvZ3Jlc3M/Lih7XG4gICAgICAgIHN0ZXA6ICdjb21wbGV0ZScsXG4gICAgICAgIHByb2dyZXNzOiAxMDAsXG4gICAgICAgIG1lc3NhZ2U6ICfotLnnlKjkvLDnrpfmiqXlkYrnlJ/miJDlrozmiJDvvIEnXG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIHJlcG9ydDtcblxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdDb3N0IGVzdGltYXRpb24gZmFpbGVkOicsIGVycm9yKTtcbiAgICAgIHRocm93IG5ldyBFcnJvcihg6LS555So5Lyw566X5aSx6LSlOiAke2Vycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ+acquefpemUmeivryd9YCk7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgZ2VuZXJhdGVDb3N0RXN0aW1hdGVQYXJhbGxlbChcbiAgICB1c2VySW5wdXQ6IFVzZXJJbnB1dCxcbiAgICBvblByb2dyZXNzPzogUHJvZ3Jlc3NDYWxsYmFja1xuICApOiBQcm9taXNlPENvc3RFc3RpbWF0ZVJlcG9ydD4ge1xuICAgIHRyeSB7XG4gICAgICBvblByb2dyZXNzPy4oe1xuICAgICAgICBzdGVwOiAndHVpdGlvbicsXG4gICAgICAgIHByb2dyZXNzOiAxMCxcbiAgICAgICAgbWVzc2FnZTogJ+ato+WcqOW5tuihjOafpeivouWQhOmhuei0ueeUqOS/oeaBry4uLidcbiAgICAgIH0pO1xuXG4gICAgICAvLyDlubbooYzmiafooYzmiYDmnInmn6Xor6Lku7vliqFcbiAgICAgIGNvbnN0IFt0dWl0aW9uLCBsaXZpbmdDb3N0cywgb3RoZXJDb3N0c10gPSBhd2FpdCBQcm9taXNlLmFsbFNldHRsZWQoW1xuICAgICAgICB0aGlzLnR1aXRpb25BZ2VudC5xdWVyeVR1aXRpb24odXNlcklucHV0KSxcbiAgICAgICAgdGhpcy5saXZpbmdDb3N0QWdlbnQuYW5hbHl6ZUxpdmluZ0Nvc3RzKHVzZXJJbnB1dCksXG4gICAgICAgIHRoaXMub3RoZXJDb3N0c0FnZW50LmNhbGN1bGF0ZU90aGVyQ29zdHModXNlcklucHV0KVxuICAgICAgXSk7XG5cbiAgICAgIG9uUHJvZ3Jlc3M/Lih7XG4gICAgICAgIHN0ZXA6ICdsaXZpbmcnLFxuICAgICAgICBwcm9ncmVzczogNzAsXG4gICAgICAgIG1lc3NhZ2U6ICfmlbDmja7mn6Xor6LlrozmiJDvvIzmraPlnKjmsYfmgLvliIbmnpAuLi4nXG4gICAgICB9KTtcblxuICAgICAgLy8g5qOA5p+l57uT5p6c5bm26K6w5b2V5aSx6LSl5oOF5Ya1XG4gICAgICBjb25zdCB0dWl0aW9uRGF0YSA9IHR1aXRpb24uc3RhdHVzID09PSAnZnVsZmlsbGVkJyA/IHR1aXRpb24udmFsdWUgOlxuICAgICAgICAoKCkgPT4ge1xuICAgICAgICAgIGNvbnNvbGUud2FybignVHVpdGlvbiBxdWVyeSBmYWlsZWQ6JywgdHVpdGlvbi5yZWFzb24pO1xuICAgICAgICAgIHJldHVybiB0aGlzLmdldEVtZXJnZW5jeVR1aXRpb25EYXRhKHVzZXJJbnB1dCk7XG4gICAgICAgIH0pKCk7XG5cbiAgICAgIGNvbnN0IGxpdmluZ0RhdGEgPSBsaXZpbmdDb3N0cy5zdGF0dXMgPT09ICdmdWxmaWxsZWQnID8gbGl2aW5nQ29zdHMudmFsdWUgOlxuICAgICAgICAoKCkgPT4ge1xuICAgICAgICAgIGNvbnNvbGUud2FybignTGl2aW5nIGNvc3RzIHF1ZXJ5IGZhaWxlZDonLCBsaXZpbmdDb3N0cy5yZWFzb24pO1xuICAgICAgICAgIHJldHVybiB0aGlzLmdldEVtZXJnZW5jeUxpdmluZ0RhdGEodXNlcklucHV0KTtcbiAgICAgICAgfSkoKTtcblxuICAgICAgY29uc3Qgb3RoZXJEYXRhID0gb3RoZXJDb3N0cy5zdGF0dXMgPT09ICdmdWxmaWxsZWQnID8gb3RoZXJDb3N0cy52YWx1ZSA6XG4gICAgICAgICgoKSA9PiB7XG4gICAgICAgICAgY29uc29sZS53YXJuKCdPdGhlciBjb3N0cyBxdWVyeSBmYWlsZWQ6Jywgb3RoZXJDb3N0cy5yZWFzb24pO1xuICAgICAgICAgIHJldHVybiB0aGlzLmdldEVtZXJnZW5jeU90aGVyRGF0YSh1c2VySW5wdXQpO1xuICAgICAgICB9KSgpO1xuXG4gICAgICBvblByb2dyZXNzPy4oe1xuICAgICAgICBzdGVwOiAncmVwb3J0JyxcbiAgICAgICAgcHJvZ3Jlc3M6IDkwLFxuICAgICAgICBtZXNzYWdlOiAn5q2j5Zyo55Sf5oiQ5Liq5oCn5YyW5oql5ZGKLi4uJ1xuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlcG9ydCA9IGF3YWl0IHRoaXMucmVwb3J0QWdlbnQuZ2VuZXJhdGVSZXBvcnQoXG4gICAgICAgIHVzZXJJbnB1dCxcbiAgICAgICAgdHVpdGlvbkRhdGEsXG4gICAgICAgIGxpdmluZ0RhdGEsXG4gICAgICAgIG90aGVyRGF0YVxuICAgICAgKTtcblxuICAgICAgb25Qcm9ncmVzcz8uKHtcbiAgICAgICAgc3RlcDogJ2NvbXBsZXRlJyxcbiAgICAgICAgcHJvZ3Jlc3M6IDEwMCxcbiAgICAgICAgbWVzc2FnZTogJ+i0ueeUqOS8sOeul+aKpeWRiueUn+aIkOWujOaIkO+8gSdcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gcmVwb3J0O1xuXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1BhcmFsbGVsIGNvc3QgZXN0aW1hdGlvbiBmYWlsZWQ6JywgZXJyb3IpO1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGDotLnnlKjkvLDnrpflpLHotKU6ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAn5pyq55+l6ZSZ6K+vJ31gKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGdldEVtZXJnZW5jeVR1aXRpb25EYXRhKHVzZXJJbnB1dDogVXNlcklucHV0KSB7XG4gICAgY29uc3QgeyBjb3VudHJ5LCBsZXZlbCB9ID0gdXNlcklucHV0O1xuICAgIGNvbnN0IGVtZXJnZW5jeUZlZXMgPSB7XG4gICAgICAnVVMnOiB7ICd1bmRlcmdyYWR1YXRlJzogNDUwMDAsICdncmFkdWF0ZSc6IDU1MDAwIH0sXG4gICAgICAnQVUnOiB7ICd1bmRlcmdyYWR1YXRlJzogNDAwMDAsICdncmFkdWF0ZSc6IDQ1MDAwIH1cbiAgICB9O1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIGFtb3VudDogKGVtZXJnZW5jeUZlZXMgYXMgYW55KVtjb3VudHJ5XVtsZXZlbF0sXG4gICAgICBjdXJyZW5jeTogY291bnRyeSA9PT0gJ1VTJyA/ICdVU0QnIGFzIGNvbnN0IDogJ0FVRCcgYXMgY29uc3QsXG4gICAgICBwZXJpb2Q6ICdhbm51YWwnIGFzIGNvbnN0LFxuICAgICAgc291cmNlOiAn57Sn5oCl5ZCO5aSH5pWw5o2uJyxcbiAgICAgIGlzRXN0aW1hdGU6IHRydWUsXG4gICAgICBsYXN0VXBkYXRlZDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgfTtcbiAgfVxuXG4gIHByaXZhdGUgZ2V0RW1lcmdlbmN5TGl2aW5nRGF0YSh1c2VySW5wdXQ6IFVzZXJJbnB1dCkge1xuICAgIGNvbnN0IHsgY291bnRyeSB9ID0gdXNlcklucHV0O1xuICAgIGNvbnN0IGN1cnJlbmN5ID0gY291bnRyeSA9PT0gJ1VTJyA/ICdVU0QnIGFzIGNvbnN0IDogJ0FVRCcgYXMgY29uc3Q7XG4gICAgY29uc3QgYmFzZUFtb3VudCA9IGNvdW50cnkgPT09ICdVUycgPyAyNTAwIDogMjIwMDtcblxuICAgIHJldHVybiB7XG4gICAgICBhY2NvbW1vZGF0aW9uOiB7IGFtb3VudDogTWF0aC5yb3VuZChiYXNlQW1vdW50ICogMC40KSwgdHlwZTogdXNlcklucHV0LmFjY29tbW9kYXRpb24sIHJhbmdlOiB7IG1pbjogODAwLCBtYXg6IDE0MDAgfSB9LFxuICAgICAgZm9vZDogeyBhbW91bnQ6IE1hdGgucm91bmQoYmFzZUFtb3VudCAqIDAuMjUpLCByYW5nZTogeyBtaW46IDQwMCwgbWF4OiA4MDAgfSB9LFxuICAgICAgdHJhbnNwb3J0YXRpb246IHsgYW1vdW50OiBNYXRoLnJvdW5kKGJhc2VBbW91bnQgKiAwLjEpLCByYW5nZTogeyBtaW46IDEwMCwgbWF4OiAzMDAgfSB9LFxuICAgICAgdXRpbGl0aWVzOiB7IGFtb3VudDogTWF0aC5yb3VuZChiYXNlQW1vdW50ICogMC4xKSwgcmFuZ2U6IHsgbWluOiA4MCwgbWF4OiAyMDAgfSB9LFxuICAgICAgZW50ZXJ0YWlubWVudDogeyBhbW91bnQ6IE1hdGgucm91bmQoYmFzZUFtb3VudCAqIDAuMSksIHJhbmdlOiB7IG1pbjogMTUwLCBtYXg6IDQwMCB9IH0sXG4gICAgICBtaXNjZWxsYW5lb3VzOiB7IGFtb3VudDogTWF0aC5yb3VuZChiYXNlQW1vdW50ICogMC4wNSksIHJhbmdlOiB7IG1pbjogMTAwLCBtYXg6IDMwMCB9IH0sXG4gICAgICB0b3RhbDogeyBhbW91bnQ6IGJhc2VBbW91bnQsIHJhbmdlOiB7IG1pbjogTWF0aC5yb3VuZChiYXNlQW1vdW50ICogMC44KSwgbWF4OiBNYXRoLnJvdW5kKGJhc2VBbW91bnQgKiAxLjMpIH0gfSxcbiAgICAgIGN1cnJlbmN5LFxuICAgICAgcGVyaW9kOiAnbW9udGhseScgYXMgY29uc3QsXG4gICAgICBzb3VyY2VzOiBbJ+e0p+aApeWQjuWkh+aVsOaNriddXG4gICAgfTtcbiAgfVxuXG4gIHByaXZhdGUgZ2V0RW1lcmdlbmN5T3RoZXJEYXRhKHVzZXJJbnB1dDogVXNlcklucHV0KSB7XG4gICAgY29uc3QgeyBjb3VudHJ5IH0gPSB1c2VySW5wdXQ7XG4gICAgY29uc3QgY3VycmVuY3kgPSBjb3VudHJ5ID09PSAnVVMnID8gJ1VTRCcgYXMgY29uc3QgOiAnQVVEJyBhcyBjb25zdDtcblxuICAgIHJldHVybiB7XG4gICAgICBhcHBsaWNhdGlvbkZlZTogeyBhbW91bnQ6IGNvdW50cnkgPT09ICdVUycgPyA4NSA6IDEwMCwgc291cmNlOiAn57Sn5oCl5ZCO5aSH5pWw5o2uJyB9LFxuICAgICAgdmlzYUZlZTogeyBhbW91bnQ6IGNvdW50cnkgPT09ICdVUycgPyAzNTAgOiA2NTAsIHNvdXJjZTogJ+WumOaWueagh+WHhui0ueeUqCcgfSxcbiAgICAgIGhlYWx0aEluc3VyYW5jZTogeyBhbW91bnQ6IGNvdW50cnkgPT09ICdVUycgPyAyNTAwIDogNjAwLCBzb3VyY2U6ICfntKfmgKXlkI7lpIfmlbDmja4nIH0sXG4gICAgICBjdXJyZW5jeVxuICAgIH07XG4gIH1cblxuICAvLyDmt7vliqDmlbDmja7pqozor4Hmlrnms5VcbiAgdmFsaWRhdGVVc2VySW5wdXQodXNlcklucHV0OiBVc2VySW5wdXQpOiB7IGlzVmFsaWQ6IGJvb2xlYW47IGVycm9yczogc3RyaW5nW10gfSB7XG4gICAgY29uc3QgZXJyb3JzOiBzdHJpbmdbXSA9IFtdO1xuXG4gICAgaWYgKCF1c2VySW5wdXQuY291bnRyeSkgZXJyb3JzLnB1c2goJ+WbveWutuS4jeiDveS4uuepuicpO1xuICAgIGlmICghdXNlcklucHV0LnVuaXZlcnNpdHkpIGVycm9ycy5wdXNoKCflpKflrabkuI3og73kuLrnqbonKTtcbiAgICBpZiAoIXVzZXJJbnB1dC5wcm9ncmFtKSBlcnJvcnMucHVzaCgn5LiT5Lia5LiN6IO95Li656m6Jyk7XG4gICAgaWYgKCF1c2VySW5wdXQuY2l0eSkgZXJyb3JzLnB1c2goJ+WfjuW4guS4jeiDveS4uuepuicpO1xuICAgIGlmICghdXNlcklucHV0LmxldmVsKSBlcnJvcnMucHVzaCgn5a2m5L2N5bGC5qyh5LiN6IO95Li656m6Jyk7XG4gICAgaWYgKCF1c2VySW5wdXQubGlmZXN0eWxlKSBlcnJvcnMucHVzaCgn55Sf5rS75pa55byP5LiN6IO95Li656m6Jyk7XG4gICAgaWYgKCF1c2VySW5wdXQuYWNjb21tb2RhdGlvbikgZXJyb3JzLnB1c2goJ+S9j+Wuv+WBj+WlveS4jeiDveS4uuepuicpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIGlzVmFsaWQ6IGVycm9ycy5sZW5ndGggPT09IDAsXG4gICAgICBlcnJvcnNcbiAgICB9O1xuICB9XG5cbiAgLy8g5re75Yqg6LS555So5a+55q+U5Yqf6IO9XG4gIGFzeW5jIGNvbXBhcmVXaXRoU2ltaWxhclByb2dyYW1zKFxuICAgIHVzZXJJbnB1dDogVXNlcklucHV0LFxuICAgIHJlcG9ydDogQ29zdEVzdGltYXRlUmVwb3J0XG4gICk6IFByb21pc2U8YW55PiB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIOWPr+S7peWunueOsOS4juebuOS8vOmhueebrueahOi0ueeUqOWvueavlFxuICAgICAgLy8g6L+Z6YeM5piv5LiA5Liq566A5YyW55qE5a6e546wXG4gICAgICByZXR1cm4ge1xuICAgICAgICBjb21wYXJpc29uOiAn5pWw5o2u5pS26ZuG5Lit77yM5pqC5peg5a+55q+U5L+h5oGvJyxcbiAgICAgICAgcmVjb21tZW5kYXRpb246ICflu7rorq7lhbPms6jlkIzlnLDljLrnm7jkvLzkuJPkuJrnmoTotLnnlKjmg4XlhrUnXG4gICAgICB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdDb21wYXJpc29uIGZhaWxlZDonLCBlcnJvcik7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cbn0iXSwibmFtZXMiOlsiVHVpdGlvbkFnZW50IiwiTGl2aW5nQ29zdEFnZW50IiwiT3RoZXJDb3N0c0FnZW50IiwiUmVwb3J0QWdlbnQiLCJFc3RpbWF0aW9uQ29vcmRpbmF0b3IiLCJjb25zdHJ1Y3RvciIsInR1aXRpb25BZ2VudCIsImxpdmluZ0Nvc3RBZ2VudCIsIm90aGVyQ29zdHNBZ2VudCIsInJlcG9ydEFnZW50IiwiZ2VuZXJhdGVDb3N0RXN0aW1hdGUiLCJ1c2VySW5wdXQiLCJvblByb2dyZXNzIiwic3RlcCIsInByb2dyZXNzIiwibWVzc2FnZSIsInR1aXRpb24iLCJxdWVyeVR1aXRpb24iLCJsaXZpbmdDb3N0cyIsImFuYWx5emVMaXZpbmdDb3N0cyIsIm90aGVyQ29zdHMiLCJjYWxjdWxhdGVPdGhlckNvc3RzIiwicmVwb3J0IiwiZ2VuZXJhdGVSZXBvcnQiLCJlcnJvciIsImNvbnNvbGUiLCJFcnJvciIsImdlbmVyYXRlQ29zdEVzdGltYXRlUGFyYWxsZWwiLCJQcm9taXNlIiwiYWxsU2V0dGxlZCIsInR1aXRpb25EYXRhIiwic3RhdHVzIiwidmFsdWUiLCJ3YXJuIiwicmVhc29uIiwiZ2V0RW1lcmdlbmN5VHVpdGlvbkRhdGEiLCJsaXZpbmdEYXRhIiwiZ2V0RW1lcmdlbmN5TGl2aW5nRGF0YSIsIm90aGVyRGF0YSIsImdldEVtZXJnZW5jeU90aGVyRGF0YSIsImNvdW50cnkiLCJsZXZlbCIsImVtZXJnZW5jeUZlZXMiLCJhbW91bnQiLCJjdXJyZW5jeSIsInBlcmlvZCIsInNvdXJjZSIsImlzRXN0aW1hdGUiLCJsYXN0VXBkYXRlZCIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsImJhc2VBbW91bnQiLCJhY2NvbW1vZGF0aW9uIiwiTWF0aCIsInJvdW5kIiwidHlwZSIsInJhbmdlIiwibWluIiwibWF4IiwiZm9vZCIsInRyYW5zcG9ydGF0aW9uIiwidXRpbGl0aWVzIiwiZW50ZXJ0YWlubWVudCIsIm1pc2NlbGxhbmVvdXMiLCJ0b3RhbCIsInNvdXJjZXMiLCJhcHBsaWNhdGlvbkZlZSIsInZpc2FGZWUiLCJoZWFsdGhJbnN1cmFuY2UiLCJ2YWxpZGF0ZVVzZXJJbnB1dCIsImVycm9ycyIsInB1c2giLCJ1bml2ZXJzaXR5IiwicHJvZ3JhbSIsImNpdHkiLCJsaWZlc3R5bGUiLCJpc1ZhbGlkIiwibGVuZ3RoIiwiY29tcGFyZVdpdGhTaW1pbGFyUHJvZ3JhbXMiLCJjb21wYXJpc29uIiwicmVjb21tZW5kYXRpb24iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/estimation-coordinator.ts\n");

/***/ }),

/***/ "(rsc)/./lib/openrouter.ts":
/*!***************************!*\
  !*** ./lib/openrouter.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   OpenRouterClient: () => (/* binding */ OpenRouterClient),\n/* harmony export */   openRouterClient: () => (/* binding */ openRouterClient)\n/* harmony export */ });\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./constants */ \"(rsc)/./lib/constants.ts\");\n\nclass OpenRouterClient {\n    constructor(){\n        this.apiKey = \"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\" || 0;\n        this.baseURL = _constants__WEBPACK_IMPORTED_MODULE_0__.OPENROUTER_CONFIG.baseURL;\n        if (!this.apiKey) {\n            throw new Error('OPENROUTER_API_KEY is not configured');\n        }\n    }\n    async chat(request) {\n        try {\n            const response = await fetch(`${this.baseURL}/chat/completions`, {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                    'Authorization': `Bearer ${this.apiKey}`,\n                    'X-Title': 'Smart Study Abroad Cost Estimator'\n                },\n                body: JSON.stringify({\n                    model: request.model || _constants__WEBPACK_IMPORTED_MODULE_0__.OPENROUTER_CONFIG.model,\n                    messages: request.messages,\n                    temperature: request.temperature || _constants__WEBPACK_IMPORTED_MODULE_0__.OPENROUTER_CONFIG.temperature,\n                    max_tokens: request.max_tokens || _constants__WEBPACK_IMPORTED_MODULE_0__.OPENROUTER_CONFIG.max_tokens\n                })\n            });\n            if (!response.ok) {\n                const errorText = await response.text();\n                throw new Error(`OpenRouter API error: ${response.status} - ${errorText}`);\n            }\n            const data = await response.json();\n            if (!data.choices || !data.choices[0] || !data.choices[0].message) {\n                throw new Error('Invalid response format from OpenRouter API');\n            }\n            return data.choices[0].message.content;\n        } catch (error) {\n            console.error('OpenRouter API error:', error);\n            throw new Error(`LLM request failed: ${error instanceof Error ? error.message : 'Unknown error'}`);\n        }\n    }\n    async searchWeb(query, model = _constants__WEBPACK_IMPORTED_MODULE_0__.OPENROUTER_CONFIG.model) {\n        try {\n            const messages = [\n                {\n                    role: 'system',\n                    content: `You are a web research assistant. Search for and provide accurate information about: ${query}.\n                   Provide specific data points, URLs, and sources when possible. Focus on official and authoritative sources.`\n                },\n                {\n                    role: 'user',\n                    content: `Please search for information about: ${query}`\n                }\n            ];\n            return await this.chat({\n                model: model,\n                messages,\n                temperature: 0.3,\n                max_tokens: 1500\n            });\n        } catch (error) {\n            console.error('Web search error:', error);\n            throw error;\n        }\n    }\n    async extractStructuredData(content, schema) {\n        try {\n            const messages = [\n                {\n                    role: 'system',\n                    content: `You are a data extraction specialist. Extract structured data from the provided content according to the specified schema.\n\nIMPORTANT: Return ONLY the JSON object without any markdown formatting, code blocks, or additional text.\nThe response should be valid JSON that can be directly parsed.\n\nExample of correct format:\n{\"field1\": \"value1\", \"field2\": 123}\n\nNOT:\n\\`\\`\\`json\n{\"field1\": \"value1\"}\n\\`\\`\\``\n                },\n                {\n                    role: 'user',\n                    content: `Extract data according to this schema: ${schema}\\n\\nFrom this content:\\n${content}`\n                }\n            ];\n            const response = await this.chat({\n                model: _constants__WEBPACK_IMPORTED_MODULE_0__.OPENROUTER_CONFIG.model,\n                messages,\n                temperature: 0.1,\n                max_tokens: 2000\n            });\n            // Clean response by removing markdown code blocks if present\n            const cleanedResponse = this.cleanJsonResponse(response);\n            try {\n                return JSON.parse(cleanedResponse);\n            } catch (parseError) {\n                console.error('Failed to parse JSON response:', cleanedResponse);\n                console.error('Original response:', response);\n                // Try to extract JSON from markdown-wrapped response as fallback\n                const fallbackJson = this.extractJsonFromMarkdown(response);\n                if (fallbackJson) {\n                    try {\n                        return JSON.parse(fallbackJson);\n                    } catch (fallbackError) {\n                        console.error('Fallback parsing also failed');\n                    }\n                }\n                throw new Error('Invalid JSON response from LLM');\n            }\n        } catch (error) {\n            console.error('Data extraction error:', error);\n            throw error;\n        }\n    }\n    cleanJsonResponse(response) {\n        // Remove common markdown formatting\n        return response.replace(/```json\\s*/g, '').replace(/```\\s*/g, '').replace(/^[\\s\\n]*/, '').replace(/[\\s\\n]*$/, '').trim();\n    }\n    extractJsonFromMarkdown(response) {\n        // Try to extract JSON from markdown code blocks\n        const jsonRegex = /```json\\s*([\\s\\S]*?)\\s*```/;\n        const match = response.match(jsonRegex);\n        if (match && match[1]) {\n            return match[1].trim();\n        }\n        // Try without the 'json' label\n        const generalCodeRegex = /```\\s*([\\s\\S]*?)\\s*```/;\n        const generalMatch = response.match(generalCodeRegex);\n        if (generalMatch && generalMatch[1]) {\n            const content = generalMatch[1].trim();\n            // Check if it looks like JSON\n            if (content.startsWith('{') && content.endsWith('}')) {\n                return content;\n            }\n        }\n        return null;\n    }\n}\nconst openRouterClient = new OpenRouterClient();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SyxDQUFDLEVBQUUsQ0FBQ0YsSUFBSTtRQUN0QjtRQUVBLCtCQUErQjtRQUMvQixNQUFNRyxtQkFBbUI7UUFDekIsTUFBTUMsZUFBZXZDLFNBQVNxQyxLQUFLLENBQUNDO1FBRXBDLElBQUlDLGdCQUFnQkEsWUFBWSxDQUFDLEVBQUUsRUFBRTtZQUNuQyxNQUFNcEIsVUFBVW9CLFlBQVksQ0FBQyxFQUFFLENBQUNKLElBQUk7WUFDcEMsOEJBQThCO1lBQzlCLElBQUloQixRQUFRcUIsVUFBVSxDQUFDLFFBQVFyQixRQUFRc0IsUUFBUSxDQUFDLE1BQU07Z0JBQ3BELE9BQU90QjtZQUNUO1FBQ0Y7UUFFQSxPQUFPO0lBQ1Q7QUFDRjtBQUVPLE1BQU11QixtQkFBbUIsSUFBSXBELG1CQUFtQiIsInNvdXJjZXMiOlsid2VicGFjazovL2Nvc3QtZXN0aW1hdG9yLy4vbGliL29wZW5yb3V0ZXIudHM/YTY4MyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBPUEVOUk9VVEVSX0NPTkZJRyB9IGZyb20gJy4vY29uc3RhbnRzJztcbmltcG9ydCB7IExMTVJlcXVlc3QgfSBmcm9tICdAL3R5cGVzJztcblxuZXhwb3J0IGNsYXNzIE9wZW5Sb3V0ZXJDbGllbnQge1xuICBwcml2YXRlIGFwaUtleTogc3RyaW5nO1xuICBwcml2YXRlIGJhc2VVUkw6IHN0cmluZztcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmFwaUtleSA9IHByb2Nlc3MuZW52Lk9QRU5ST1VURVJfQVBJX0tFWSB8fCAnJztcbiAgICB0aGlzLmJhc2VVUkwgPSBPUEVOUk9VVEVSX0NPTkZJRy5iYXNlVVJMO1xuXG4gICAgaWYgKCF0aGlzLmFwaUtleSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdPUEVOUk9VVEVSX0FQSV9LRVkgaXMgbm90IGNvbmZpZ3VyZWQnKTtcbiAgICB9XG4gIH1cblxuICBhc3luYyBjaGF0KHJlcXVlc3Q6IExMTVJlcXVlc3QpOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke3RoaXMuYmFzZVVSTH0vY2hhdC9jb21wbGV0aW9uc2AsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICdBdXRob3JpemF0aW9uJzogYEJlYXJlciAke3RoaXMuYXBpS2V5fWAsXG4gICAgICAgICAgJ1gtVGl0bGUnOiAnU21hcnQgU3R1ZHkgQWJyb2FkIENvc3QgRXN0aW1hdG9yJyxcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgIG1vZGVsOiByZXF1ZXN0Lm1vZGVsIHx8IE9QRU5ST1VURVJfQ09ORklHLm1vZGVsLFxuICAgICAgICAgIG1lc3NhZ2VzOiByZXF1ZXN0Lm1lc3NhZ2VzLFxuICAgICAgICAgIHRlbXBlcmF0dXJlOiByZXF1ZXN0LnRlbXBlcmF0dXJlIHx8IE9QRU5ST1VURVJfQ09ORklHLnRlbXBlcmF0dXJlLFxuICAgICAgICAgIG1heF90b2tlbnM6IHJlcXVlc3QubWF4X3Rva2VucyB8fCBPUEVOUk9VVEVSX0NPTkZJRy5tYXhfdG9rZW5zLFxuICAgICAgICB9KSxcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGNvbnN0IGVycm9yVGV4dCA9IGF3YWl0IHJlc3BvbnNlLnRleHQoKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBPcGVuUm91dGVyIEFQSSBlcnJvcjogJHtyZXNwb25zZS5zdGF0dXN9IC0gJHtlcnJvclRleHR9YCk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICAgIGlmICghZGF0YS5jaG9pY2VzIHx8ICFkYXRhLmNob2ljZXNbMF0gfHwgIWRhdGEuY2hvaWNlc1swXS5tZXNzYWdlKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCByZXNwb25zZSBmb3JtYXQgZnJvbSBPcGVuUm91dGVyIEFQSScpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZGF0YS5jaG9pY2VzWzBdLm1lc3NhZ2UuY29udGVudDtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignT3BlblJvdXRlciBBUEkgZXJyb3I6JywgZXJyb3IpO1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBMTE0gcmVxdWVzdCBmYWlsZWQ6ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcid9YCk7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgc2VhcmNoV2ViKHF1ZXJ5OiBzdHJpbmcsIG1vZGVsOiBzdHJpbmcgPSBPUEVOUk9VVEVSX0NPTkZJRy5tb2RlbCk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IG1lc3NhZ2VzID0gW1xuICAgICAgICB7XG4gICAgICAgICAgcm9sZTogJ3N5c3RlbScgYXMgY29uc3QsXG4gICAgICAgICAgY29udGVudDogYFlvdSBhcmUgYSB3ZWIgcmVzZWFyY2ggYXNzaXN0YW50LiBTZWFyY2ggZm9yIGFuZCBwcm92aWRlIGFjY3VyYXRlIGluZm9ybWF0aW9uIGFib3V0OiAke3F1ZXJ5fS5cbiAgICAgICAgICAgICAgICAgICBQcm92aWRlIHNwZWNpZmljIGRhdGEgcG9pbnRzLCBVUkxzLCBhbmQgc291cmNlcyB3aGVuIHBvc3NpYmxlLiBGb2N1cyBvbiBvZmZpY2lhbCBhbmQgYXV0aG9yaXRhdGl2ZSBzb3VyY2VzLmBcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIHJvbGU6ICd1c2VyJyBhcyBjb25zdCxcbiAgICAgICAgICBjb250ZW50OiBgUGxlYXNlIHNlYXJjaCBmb3IgaW5mb3JtYXRpb24gYWJvdXQ6ICR7cXVlcnl9YFxuICAgICAgICB9XG4gICAgICBdO1xuXG4gICAgICByZXR1cm4gYXdhaXQgdGhpcy5jaGF0KHtcbiAgICAgICAgbW9kZWw6IG1vZGVsLCAvLyDkvb/nlKjkvKDlhaXnmoTmqKHlnovlj4LmlbBcbiAgICAgICAgbWVzc2FnZXMsXG4gICAgICAgIHRlbXBlcmF0dXJlOiAwLjMsXG4gICAgICAgIG1heF90b2tlbnM6IDE1MDBcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdXZWIgc2VhcmNoIGVycm9yOicsIGVycm9yKTtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGV4dHJhY3RTdHJ1Y3R1cmVkRGF0YShjb250ZW50OiBzdHJpbmcsIHNjaGVtYTogc3RyaW5nKTogUHJvbWlzZTxhbnk+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgbWVzc2FnZXMgPSBbXG4gICAgICAgIHtcbiAgICAgICAgICByb2xlOiAnc3lzdGVtJyBhcyBjb25zdCxcbiAgICAgICAgICBjb250ZW50OiBgWW91IGFyZSBhIGRhdGEgZXh0cmFjdGlvbiBzcGVjaWFsaXN0LiBFeHRyYWN0IHN0cnVjdHVyZWQgZGF0YSBmcm9tIHRoZSBwcm92aWRlZCBjb250ZW50IGFjY29yZGluZyB0byB0aGUgc3BlY2lmaWVkIHNjaGVtYS5cblxuSU1QT1JUQU5UOiBSZXR1cm4gT05MWSB0aGUgSlNPTiBvYmplY3Qgd2l0aG91dCBhbnkgbWFya2Rvd24gZm9ybWF0dGluZywgY29kZSBibG9ja3MsIG9yIGFkZGl0aW9uYWwgdGV4dC5cblRoZSByZXNwb25zZSBzaG91bGQgYmUgdmFsaWQgSlNPTiB0aGF0IGNhbiBiZSBkaXJlY3RseSBwYXJzZWQuXG5cbkV4YW1wbGUgb2YgY29ycmVjdCBmb3JtYXQ6XG57XCJmaWVsZDFcIjogXCJ2YWx1ZTFcIiwgXCJmaWVsZDJcIjogMTIzfVxuXG5OT1Q6XG5cXGBcXGBcXGBqc29uXG57XCJmaWVsZDFcIjogXCJ2YWx1ZTFcIn1cblxcYFxcYFxcYGBcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIHJvbGU6ICd1c2VyJyBhcyBjb25zdCxcbiAgICAgICAgICBjb250ZW50OiBgRXh0cmFjdCBkYXRhIGFjY29yZGluZyB0byB0aGlzIHNjaGVtYTogJHtzY2hlbWF9XFxuXFxuRnJvbSB0aGlzIGNvbnRlbnQ6XFxuJHtjb250ZW50fWBcbiAgICAgICAgfVxuICAgICAgXTtcblxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmNoYXQoe1xuICAgICAgICBtb2RlbDogT1BFTlJPVVRFUl9DT05GSUcubW9kZWwsXG4gICAgICAgIG1lc3NhZ2VzLFxuICAgICAgICB0ZW1wZXJhdHVyZTogMC4xLFxuICAgICAgICBtYXhfdG9rZW5zOiAyMDAwXG4gICAgICB9KTtcblxuICAgICAgLy8gQ2xlYW4gcmVzcG9uc2UgYnkgcmVtb3ZpbmcgbWFya2Rvd24gY29kZSBibG9ja3MgaWYgcHJlc2VudFxuICAgICAgY29uc3QgY2xlYW5lZFJlc3BvbnNlID0gdGhpcy5jbGVhbkpzb25SZXNwb25zZShyZXNwb25zZSk7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBKU09OLnBhcnNlKGNsZWFuZWRSZXNwb25zZSk7XG4gICAgICB9IGNhdGNoIChwYXJzZUVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBwYXJzZSBKU09OIHJlc3BvbnNlOicsIGNsZWFuZWRSZXNwb25zZSk7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ09yaWdpbmFsIHJlc3BvbnNlOicsIHJlc3BvbnNlKTtcblxuICAgICAgICAvLyBUcnkgdG8gZXh0cmFjdCBKU09OIGZyb20gbWFya2Rvd24td3JhcHBlZCByZXNwb25zZSBhcyBmYWxsYmFja1xuICAgICAgICBjb25zdCBmYWxsYmFja0pzb24gPSB0aGlzLmV4dHJhY3RKc29uRnJvbU1hcmtkb3duKHJlc3BvbnNlKTtcbiAgICAgICAgaWYgKGZhbGxiYWNrSnNvbikge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShmYWxsYmFja0pzb24pO1xuICAgICAgICAgIH0gY2F0Y2ggKGZhbGxiYWNrRXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhbGxiYWNrIHBhcnNpbmcgYWxzbyBmYWlsZWQnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgSlNPTiByZXNwb25zZSBmcm9tIExMTScpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdEYXRhIGV4dHJhY3Rpb24gZXJyb3I6JywgZXJyb3IpO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBjbGVhbkpzb25SZXNwb25zZShyZXNwb25zZTogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAvLyBSZW1vdmUgY29tbW9uIG1hcmtkb3duIGZvcm1hdHRpbmdcbiAgICByZXR1cm4gcmVzcG9uc2VcbiAgICAgIC5yZXBsYWNlKC9gYGBqc29uXFxzKi9nLCAnJylcbiAgICAgIC5yZXBsYWNlKC9gYGBcXHMqL2csICcnKVxuICAgICAgLnJlcGxhY2UoL15bXFxzXFxuXSovLCAnJylcbiAgICAgIC5yZXBsYWNlKC9bXFxzXFxuXSokLywgJycpXG4gICAgICAudHJpbSgpO1xuICB9XG5cbiAgcHJpdmF0ZSBleHRyYWN0SnNvbkZyb21NYXJrZG93bihyZXNwb25zZTogc3RyaW5nKTogc3RyaW5nIHwgbnVsbCB7XG4gICAgLy8gVHJ5IHRvIGV4dHJhY3QgSlNPTiBmcm9tIG1hcmtkb3duIGNvZGUgYmxvY2tzXG4gICAgY29uc3QganNvblJlZ2V4ID0gL2BgYGpzb25cXHMqKFtcXHNcXFNdKj8pXFxzKmBgYC87XG4gICAgY29uc3QgbWF0Y2ggPSByZXNwb25zZS5tYXRjaChqc29uUmVnZXgpO1xuXG4gICAgaWYgKG1hdGNoICYmIG1hdGNoWzFdKSB7XG4gICAgICByZXR1cm4gbWF0Y2hbMV0udHJpbSgpO1xuICAgIH1cblxuICAgIC8vIFRyeSB3aXRob3V0IHRoZSAnanNvbicgbGFiZWxcbiAgICBjb25zdCBnZW5lcmFsQ29kZVJlZ2V4ID0gL2BgYFxccyooW1xcc1xcU10qPylcXHMqYGBgLztcbiAgICBjb25zdCBnZW5lcmFsTWF0Y2ggPSByZXNwb25zZS5tYXRjaChnZW5lcmFsQ29kZVJlZ2V4KTtcblxuICAgIGlmIChnZW5lcmFsTWF0Y2ggJiYgZ2VuZXJhbE1hdGNoWzFdKSB7XG4gICAgICBjb25zdCBjb250ZW50ID0gZ2VuZXJhbE1hdGNoWzFdLnRyaW0oKTtcbiAgICAgIC8vIENoZWNrIGlmIGl0IGxvb2tzIGxpa2UgSlNPTlxuICAgICAgaWYgKGNvbnRlbnQuc3RhcnRzV2l0aCgneycpICYmIGNvbnRlbnQuZW5kc1dpdGgoJ30nKSkge1xuICAgICAgICByZXR1cm4gY29udGVudDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuXG5leHBvcnQgY29uc3Qgb3BlblJvdXRlckNsaWVudCA9IG5ldyBPcGVuUm91dGVyQ2xpZW50KCk7Il0sIm5hbWVzIjpbIk9QRU5ST1VURVJfQ09ORklHIiwiT3BlblJvdXRlckNsaWVudCIsImNvbnN0cnVjdG9yIiwiYXBpS2V5IiwicHJvY2VzcyIsImVudiIsIk9QRU5ST1VURVJfQVBJX0tFWSIsImJhc2VVUkwiLCJFcnJvciIsImNoYXQiLCJyZXF1ZXN0IiwicmVzcG9uc2UiLCJmZXRjaCIsIm1ldGhvZCIsImhlYWRlcnMiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsIm1vZGVsIiwibWVzc2FnZXMiLCJ0ZW1wZXJhdHVyZSIsIm1heF90b2tlbnMiLCJvayIsImVycm9yVGV4dCIsInRleHQiLCJzdGF0dXMiLCJkYXRhIiwianNvbiIsImNob2ljZXMiLCJtZXNzYWdlIiwiY29udGVudCIsImVycm9yIiwiY29uc29sZSIsInNlYXJjaFdlYiIsInF1ZXJ5Iiwicm9sZSIsImV4dHJhY3RTdHJ1Y3R1cmVkRGF0YSIsInNjaGVtYSIsImNsZWFuZWRSZXNwb25zZSIsImNsZWFuSnNvblJlc3BvbnNlIiwicGFyc2UiLCJwYXJzZUVycm9yIiwiZmFsbGJhY2tKc29uIiwiZXh0cmFjdEpzb25Gcm9tTWFya2Rvd24iLCJmYWxsYmFja0Vycm9yIiwicmVwbGFjZSIsInRyaW0iLCJqc29uUmVnZXgiLCJtYXRjaCIsImdlbmVyYWxDb2RlUmVnZXgiLCJnZW5lcmFsTWF0Y2giLCJzdGFydHNXaXRoIiwiZW5kc1dpdGgiLCJvcGVuUm91dGVyQ2xpZW50Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/openrouter.ts\n");

/***/ }),

/***/ "(rsc)/./lib/safe-llm-client.ts":
/*!********************************!*\
  !*** ./lib/safe-llm-client.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SafeLLMClient: () => (/* binding */ SafeLLMClient),\n/* harmony export */   safeLLMClient: () => (/* binding */ safeLLMClient)\n/* harmony export */ });\n/* harmony import */ var _openrouter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./openrouter */ \"(rsc)/./lib/openrouter.ts\");\n\n/**\n * 安全的LLM客户端包装器\n * 提供更好的错误处理和降级策略\n */ class SafeLLMClient {\n    async safeExtractData(content, exampleSchema, fallbackData, description = '数据') {\n        for(let attempt = 1; attempt <= this.maxRetries; attempt++){\n            try {\n                console.log(`Attempting ${description} extraction (attempt ${attempt}/${this.maxRetries})`);\n                const result = await _openrouter__WEBPACK_IMPORTED_MODULE_0__.openRouterClient.extractStructuredData(content, exampleSchema);\n                if (this.validateResult(result, exampleSchema)) {\n                    console.log(`Successfully extracted ${description}`);\n                    return result;\n                } else {\n                    console.warn(`Invalid ${description} structure, retrying...`);\n                    if (attempt < this.maxRetries) {\n                        await this.delay(this.retryDelay);\n                        continue;\n                    }\n                }\n            } catch (error) {\n                console.error(`${description} extraction failed (attempt ${attempt}):`, error);\n                if (attempt < this.maxRetries) {\n                    await this.delay(this.retryDelay);\n                    continue;\n                }\n            }\n        }\n        console.log(`Using fallback data for ${description}`);\n        return fallbackData;\n    }\n    async safeSearch(query, fallbackContent = '数据暂时不可用', model = 'openai/gpt-4o') {\n        try {\n            console.log('Performing web search:', query);\n            const result = await _openrouter__WEBPACK_IMPORTED_MODULE_0__.openRouterClient.searchWeb(query, model);\n            return result || fallbackContent;\n        } catch (error) {\n            console.error('Web search failed:', error);\n            return fallbackContent;\n        }\n    }\n    validateResult(result, exampleSchema) {\n        if (!result || typeof result !== 'object') {\n            return false;\n        }\n        try {\n            // 从示例模式中提取必需字段\n            const schemaObj = JSON.parse(exampleSchema);\n            const requiredFields = Object.keys(schemaObj);\n            // 检查所有必需字段是否存在\n            for (const field of requiredFields){\n                if (!(field in result)) {\n                    console.warn(`Missing required field: ${field}`);\n                    return false;\n                }\n            }\n            return true;\n        } catch (error) {\n            console.error('Schema validation error:', error);\n            return false;\n        }\n    }\n    delay(ms) {\n        return new Promise((resolve)=>setTimeout(resolve, ms));\n    }\n    // 为特定数据类型提供预设的提取方法\n    async extractTuitionData(content, fallback) {\n        return this.safeExtractData(content, `{\n        \"tuition_amount\": 45000,\n        \"currency\": \"USD\",\n        \"period\": \"annual\",\n        \"source_url\": \"https://university.edu\",\n        \"is_estimate\": false,\n        \"confidence\": 0.8\n      }`, fallback, '学费数据');\n    }\n    async extractLivingCosts(content, fallback) {\n        return this.safeExtractData(content, `{\n        \"accommodation\": 1200,\n        \"food\": 400,\n        \"transportation\": 150,\n        \"utilities\": 120,\n        \"entertainment\": 200,\n        \"miscellaneous\": 150,\n        \"total\": 2220,\n        \"source_url\": \"https://numbeo.com\",\n        \"confidence\": 0.75\n      }`, fallback, '生活费用数据');\n    }\n    async extractApplicationFee(content, fallback) {\n        return this.safeExtractData(content, `{\n        \"application_fee\": 85,\n        \"source_url\": \"https://university.edu\",\n        \"confidence\": 0.8\n      }`, fallback, '申请费用数据');\n    }\n    async extractHealthInsurance(content, fallback) {\n        return this.safeExtractData(content, `{\n        \"insurance_fee\": 2500,\n        \"source_url\": \"https://insurance.com\",\n        \"confidence\": 0.7\n      }`, fallback, '健康保险费用数据');\n    }\n    constructor(){\n        this.maxRetries = 2;\n        this.retryDelay = 1000 // 1秒\n        ;\n    }\n}\nconst safeLLMClient = new SafeLLMClient();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUNGZ0MsVUFDQTtJQUVKO0lBRUEsTUFBTUMsbUJBQW1CakMsT0FBZSxFQUFFZ0MsUUFBYSxFQUFFO1FBQ3ZELE9BQU8sSUFBSSxDQUFDakMsZUFBZSxDQUN6QkMsU0FDQSxDQUFDOzs7Ozs7Ozs7O09BVUEsQ0FBQyxFQUNGZ0MsVUFDQTtJQUVKO0lBRUEsTUFBTUUsc0JBQXNCbEMsT0FBZSxFQUFFZ0MsUUFBYSxFQUFFO1FBQzFELE9BQU8sSUFBSSxDQUFDakMsZUFBZSxDQUN6QkMsU0FDQSxDQUFDOzs7O09BSUEsQ0FBQyxFQUNGZ0MsVUFDQTtJQUVKO0lBRUEsTUFBTUcsdUJBQXVCbkMsT0FBZSxFQUFFZ0MsUUFBYSxFQUFFO1FBQzNELE9BQU8sSUFBSSxDQUFDakMsZUFBZSxDQUN6QkMsU0FDQSxDQUFDOzs7O09BSUEsQ0FBQyxFQUNGZ0MsVUFDQTtJQUVKOzthQTNJUTNCLGFBQWE7YUFDYlEsYUFBYSxLQUFNLEtBQUs7OztBQTJJbEM7QUFFTyxNQUFNdUIsZ0JBQWdCLElBQUl0QyxnQkFBZ0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jb3N0LWVzdGltYXRvci8uL2xpYi9zYWZlLWxsbS1jbGllbnQudHM/ZjExOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBvcGVuUm91dGVyQ2xpZW50IH0gZnJvbSAnLi9vcGVucm91dGVyJztcblxuLyoqXG4gKiDlronlhajnmoRMTE3lrqLmiLfnq6/ljIXoo4XlmahcbiAqIOaPkOS+m+abtOWlveeahOmUmeivr+WkhOeQhuWSjOmZjee6p+etlueVpVxuICovXG5leHBvcnQgY2xhc3MgU2FmZUxMTUNsaWVudCB7XG4gIHByaXZhdGUgbWF4UmV0cmllcyA9IDI7XG4gIHByaXZhdGUgcmV0cnlEZWxheSA9IDEwMDA7IC8vIDHnp5JcblxuICBhc3luYyBzYWZlRXh0cmFjdERhdGE8VD4oXG4gICAgY29udGVudDogc3RyaW5nLFxuICAgIGV4YW1wbGVTY2hlbWE6IHN0cmluZyxcbiAgICBmYWxsYmFja0RhdGE6IFQsXG4gICAgZGVzY3JpcHRpb246IHN0cmluZyA9ICfmlbDmja4nXG4gICk6IFByb21pc2U8VD4ge1xuICAgIGZvciAobGV0IGF0dGVtcHQgPSAxOyBhdHRlbXB0IDw9IHRoaXMubWF4UmV0cmllczsgYXR0ZW1wdCsrKSB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zb2xlLmxvZyhgQXR0ZW1wdGluZyAke2Rlc2NyaXB0aW9ufSBleHRyYWN0aW9uIChhdHRlbXB0ICR7YXR0ZW1wdH0vJHt0aGlzLm1heFJldHJpZXN9KWApO1xuXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IG9wZW5Sb3V0ZXJDbGllbnQuZXh0cmFjdFN0cnVjdHVyZWREYXRhKGNvbnRlbnQsIGV4YW1wbGVTY2hlbWEpO1xuXG4gICAgICAgIGlmICh0aGlzLnZhbGlkYXRlUmVzdWx0KHJlc3VsdCwgZXhhbXBsZVNjaGVtYSkpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhgU3VjY2Vzc2Z1bGx5IGV4dHJhY3RlZCAke2Rlc2NyaXB0aW9ufWApO1xuICAgICAgICAgIHJldHVybiByZXN1bHQgYXMgVDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oYEludmFsaWQgJHtkZXNjcmlwdGlvbn0gc3RydWN0dXJlLCByZXRyeWluZy4uLmApO1xuICAgICAgICAgIGlmIChhdHRlbXB0IDwgdGhpcy5tYXhSZXRyaWVzKSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLmRlbGF5KHRoaXMucmV0cnlEZWxheSk7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYCR7ZGVzY3JpcHRpb259IGV4dHJhY3Rpb24gZmFpbGVkIChhdHRlbXB0ICR7YXR0ZW1wdH0pOmAsIGVycm9yKTtcblxuICAgICAgICBpZiAoYXR0ZW1wdCA8IHRoaXMubWF4UmV0cmllcykge1xuICAgICAgICAgIGF3YWl0IHRoaXMuZGVsYXkodGhpcy5yZXRyeURlbGF5KTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnNvbGUubG9nKGBVc2luZyBmYWxsYmFjayBkYXRhIGZvciAke2Rlc2NyaXB0aW9ufWApO1xuICAgIHJldHVybiBmYWxsYmFja0RhdGE7XG4gIH1cblxuICBhc3luYyBzYWZlU2VhcmNoKHF1ZXJ5OiBzdHJpbmcsIGZhbGxiYWNrQ29udGVudDogc3RyaW5nID0gJ+aVsOaNruaaguaXtuS4jeWPr+eUqCcsIG1vZGVsOiBzdHJpbmcgPSAnb3BlbmFpL2dwdC00bycpOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zb2xlLmxvZygnUGVyZm9ybWluZyB3ZWIgc2VhcmNoOicsIHF1ZXJ5KTtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IG9wZW5Sb3V0ZXJDbGllbnQuc2VhcmNoV2ViKHF1ZXJ5LCBtb2RlbCk7XG4gICAgICByZXR1cm4gcmVzdWx0IHx8IGZhbGxiYWNrQ29udGVudDtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignV2ViIHNlYXJjaCBmYWlsZWQ6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIGZhbGxiYWNrQ29udGVudDtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHZhbGlkYXRlUmVzdWx0KHJlc3VsdDogYW55LCBleGFtcGxlU2NoZW1hOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICBpZiAoIXJlc3VsdCB8fCB0eXBlb2YgcmVzdWx0ICE9PSAnb2JqZWN0Jykge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICAvLyDku47npLrkvovmqKHlvI/kuK3mj5Dlj5blv4XpnIDlrZfmrrVcbiAgICAgIGNvbnN0IHNjaGVtYU9iaiA9IEpTT04ucGFyc2UoZXhhbXBsZVNjaGVtYSk7XG4gICAgICBjb25zdCByZXF1aXJlZEZpZWxkcyA9IE9iamVjdC5rZXlzKHNjaGVtYU9iaik7XG5cbiAgICAgIC8vIOajgOafpeaJgOacieW/hemcgOWtl+auteaYr+WQpuWtmOWcqFxuICAgICAgZm9yIChjb25zdCBmaWVsZCBvZiByZXF1aXJlZEZpZWxkcykge1xuICAgICAgICBpZiAoIShmaWVsZCBpbiByZXN1bHQpKSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKGBNaXNzaW5nIHJlcXVpcmVkIGZpZWxkOiAke2ZpZWxkfWApO1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignU2NoZW1hIHZhbGlkYXRpb24gZXJyb3I6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgZGVsYXkobXM6IG51bWJlcik6IFByb21pc2U8dm9pZD4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgbXMpKTtcbiAgfVxuXG4gIC8vIOS4uueJueWumuaVsOaNruexu+Wei+aPkOS+m+mihOiuvueahOaPkOWPluaWueazlVxuICBhc3luYyBleHRyYWN0VHVpdGlvbkRhdGEoY29udGVudDogc3RyaW5nLCBmYWxsYmFjazogYW55KSB7XG4gICAgcmV0dXJuIHRoaXMuc2FmZUV4dHJhY3REYXRhKFxuICAgICAgY29udGVudCxcbiAgICAgIGB7XG4gICAgICAgIFwidHVpdGlvbl9hbW91bnRcIjogNDUwMDAsXG4gICAgICAgIFwiY3VycmVuY3lcIjogXCJVU0RcIixcbiAgICAgICAgXCJwZXJpb2RcIjogXCJhbm51YWxcIixcbiAgICAgICAgXCJzb3VyY2VfdXJsXCI6IFwiaHR0cHM6Ly91bml2ZXJzaXR5LmVkdVwiLFxuICAgICAgICBcImlzX2VzdGltYXRlXCI6IGZhbHNlLFxuICAgICAgICBcImNvbmZpZGVuY2VcIjogMC44XG4gICAgICB9YCxcbiAgICAgIGZhbGxiYWNrLFxuICAgICAgJ+Wtpui0ueaVsOaNridcbiAgICApO1xuICB9XG5cbiAgYXN5bmMgZXh0cmFjdExpdmluZ0Nvc3RzKGNvbnRlbnQ6IHN0cmluZywgZmFsbGJhY2s6IGFueSkge1xuICAgIHJldHVybiB0aGlzLnNhZmVFeHRyYWN0RGF0YShcbiAgICAgIGNvbnRlbnQsXG4gICAgICBge1xuICAgICAgICBcImFjY29tbW9kYXRpb25cIjogMTIwMCxcbiAgICAgICAgXCJmb29kXCI6IDQwMCxcbiAgICAgICAgXCJ0cmFuc3BvcnRhdGlvblwiOiAxNTAsXG4gICAgICAgIFwidXRpbGl0aWVzXCI6IDEyMCxcbiAgICAgICAgXCJlbnRlcnRhaW5tZW50XCI6IDIwMCxcbiAgICAgICAgXCJtaXNjZWxsYW5lb3VzXCI6IDE1MCxcbiAgICAgICAgXCJ0b3RhbFwiOiAyMjIwLFxuICAgICAgICBcInNvdXJjZV91cmxcIjogXCJodHRwczovL251bWJlby5jb21cIixcbiAgICAgICAgXCJjb25maWRlbmNlXCI6IDAuNzVcbiAgICAgIH1gLFxuICAgICAgZmFsbGJhY2ssXG4gICAgICAn55Sf5rS76LS555So5pWw5o2uJ1xuICAgICk7XG4gIH1cblxuICBhc3luYyBleHRyYWN0QXBwbGljYXRpb25GZWUoY29udGVudDogc3RyaW5nLCBmYWxsYmFjazogYW55KSB7XG4gICAgcmV0dXJuIHRoaXMuc2FmZUV4dHJhY3REYXRhKFxuICAgICAgY29udGVudCxcbiAgICAgIGB7XG4gICAgICAgIFwiYXBwbGljYXRpb25fZmVlXCI6IDg1LFxuICAgICAgICBcInNvdXJjZV91cmxcIjogXCJodHRwczovL3VuaXZlcnNpdHkuZWR1XCIsXG4gICAgICAgIFwiY29uZmlkZW5jZVwiOiAwLjhcbiAgICAgIH1gLFxuICAgICAgZmFsbGJhY2ssXG4gICAgICAn55Sz6K+36LS555So5pWw5o2uJ1xuICAgICk7XG4gIH1cblxuICBhc3luYyBleHRyYWN0SGVhbHRoSW5zdXJhbmNlKGNvbnRlbnQ6IHN0cmluZywgZmFsbGJhY2s6IGFueSkge1xuICAgIHJldHVybiB0aGlzLnNhZmVFeHRyYWN0RGF0YShcbiAgICAgIGNvbnRlbnQsXG4gICAgICBge1xuICAgICAgICBcImluc3VyYW5jZV9mZWVcIjogMjUwMCxcbiAgICAgICAgXCJzb3VyY2VfdXJsXCI6IFwiaHR0cHM6Ly9pbnN1cmFuY2UuY29tXCIsXG4gICAgICAgIFwiY29uZmlkZW5jZVwiOiAwLjdcbiAgICAgIH1gLFxuICAgICAgZmFsbGJhY2ssXG4gICAgICAn5YGl5bq35L+d6Zmp6LS555So5pWw5o2uJ1xuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IHNhZmVMTE1DbGllbnQgPSBuZXcgU2FmZUxMTUNsaWVudCgpOyJdLCJuYW1lcyI6WyJvcGVuUm91dGVyQ2xpZW50IiwiU2FmZUxMTUNsaWVudCIsInNhZmVFeHRyYWN0RGF0YSIsImNvbnRlbnQiLCJleGFtcGxlU2NoZW1hIiwiZmFsbGJhY2tEYXRhIiwiZGVzY3JpcHRpb24iLCJhdHRlbXB0IiwibWF4UmV0cmllcyIsImNvbnNvbGUiLCJsb2ciLCJyZXN1bHQiLCJleHRyYWN0U3RydWN0dXJlZERhdGEiLCJ2YWxpZGF0ZVJlc3VsdCIsIndhcm4iLCJkZWxheSIsInJldHJ5RGVsYXkiLCJlcnJvciIsInNhZmVTZWFyY2giLCJxdWVyeSIsImZhbGxiYWNrQ29udGVudCIsIm1vZGVsIiwic2VhcmNoV2ViIiwic2NoZW1hT2JqIiwiSlNPTiIsInBhcnNlIiwicmVxdWlyZWRGaWVsZHMiLCJPYmplY3QiLCJrZXlzIiwiZmllbGQiLCJtcyIsIlByb21pc2UiLCJyZXNvbHZlIiwic2V0VGltZW91dCIsImV4dHJhY3RUdWl0aW9uRGF0YSIsImZhbGxiYWNrIiwiZXh0cmFjdExpdmluZ0Nvc3RzIiwiZXh0cmFjdEFwcGxpY2F0aW9uRmVlIiwiZXh0cmFjdEhlYWx0aEluc3VyYW5jZSIsInNhZmVMTE1DbGllbnQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/safe-llm-client.ts\n");

/***/ }),

/***/ "(rsc)/./lib/utils.ts":
/*!**********************!*\
  !*** ./lib/utils.ts ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   adjustForLifestyle: () => (/* binding */ adjustForLifestyle),\n/* harmony export */   calculateAnnualCost: () => (/* binding */ calculateAnnualCost),\n/* harmony export */   calculateRange: () => (/* binding */ calculateRange),\n/* harmony export */   cn: () => (/* binding */ cn),\n/* harmony export */   delay: () => (/* binding */ delay),\n/* harmony export */   ensureUrlProtocol: () => (/* binding */ ensureUrlProtocol),\n/* harmony export */   extractDomain: () => (/* binding */ extractDomain),\n/* harmony export */   formatCurrency: () => (/* binding */ formatCurrency),\n/* harmony export */   formatCurrencyRange: () => (/* binding */ formatCurrencyRange),\n/* harmony export */   formatDate: () => (/* binding */ formatDate),\n/* harmony export */   generateId: () => (/* binding */ generateId),\n/* harmony export */   isValidEmail: () => (/* binding */ isValidEmail),\n/* harmony export */   isValidUniversityUrl: () => (/* binding */ isValidUniversityUrl)\n/* harmony export */ });\n/* harmony import */ var clsx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! clsx */ \"(rsc)/./node_modules/clsx/dist/clsx.mjs\");\n/* harmony import */ var tailwind_merge__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! tailwind-merge */ \"(rsc)/./node_modules/tailwind-merge/dist/bundle-mjs.mjs\");\n\n\nfunction cn(...inputs) {\n    return (0,tailwind_merge__WEBPACK_IMPORTED_MODULE_1__.twMerge)((0,clsx__WEBPACK_IMPORTED_MODULE_0__.clsx)(inputs));\n}\n// 格式化货币\nfunction formatCurrency(amount, currency) {\n    return new Intl.NumberFormat('en-US', {\n        style: 'currency',\n        currency: currency,\n        minimumFractionDigits: 0,\n        maximumFractionDigits: 0\n    }).format(amount);\n}\n// 格式化货币范围\nfunction formatCurrencyRange(min, max, currency) {\n    return `${formatCurrency(min, currency)} - ${formatCurrency(max, currency)}`;\n}\n// 计算范围\nfunction calculateRange(base, variance = 0.2) {\n    return {\n        min: Math.round(base * (1 - variance)),\n        max: Math.round(base * (1 + variance))\n    };\n}\n// 生成唯一ID\nfunction generateId() {\n    return Math.random().toString(36).substr(2, 9);\n}\n// 验证邮箱格式\nfunction isValidEmail(email) {\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n    return emailRegex.test(email);\n}\n// 延迟函数\nfunction delay(ms) {\n    return new Promise((resolve)=>setTimeout(resolve, ms));\n}\n// 计算年度总费用\nfunction calculateAnnualCost(tuitionAnnual, livingMonthly, otherCosts = 0) {\n    return tuitionAnnual + livingMonthly * 12 + otherCosts;\n}\n// 检查是否为有效的大学URL\nfunction isValidUniversityUrl(url) {\n    try {\n        const parsed = new URL(url);\n        return parsed.protocol === 'https:' && (parsed.hostname.includes('edu') || parsed.hostname.includes('university') || parsed.hostname.includes('college'));\n    } catch  {\n        return false;\n    }\n}\n// 从URL提取域名\nfunction extractDomain(url) {\n    try {\n        return new URL(url).hostname;\n    } catch  {\n        return url;\n    }\n}\n// 确保URL有协议前缀\nfunction ensureUrlProtocol(url) {\n    if (!url) return '';\n    try {\n        // 如果已经是完整URL，直接返回\n        new URL(url);\n        return url;\n    } catch  {\n        // 如果不是完整URL，添加https协议\n        if (!url.startsWith('http')) {\n            return `https://${url}`;\n        }\n        return url;\n    }\n}\n// 格式化日期\nfunction formatDate(date) {\n    return date.toLocaleDateString('en-US', {\n        year: 'numeric',\n        month: 'long',\n        day: 'numeric'\n    });\n}\n// 计算生活成本调整\nfunction adjustForLifestyle(baseCost, lifestyle) {\n    const multipliers = {\n        economy: 0.8,\n        standard: 1.0,\n        comfortable: 1.25\n    };\n    return Math.round(baseCost * multipliers[lifestyle]);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFLLENBQUNtQyxXQUFXRSxXQUFXLENBQUNELFVBQVU7QUFDckQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jb3N0LWVzdGltYXRvci8uL2xpYi91dGlscy50cz9mNzQ1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHR5cGUgQ2xhc3NWYWx1ZSwgY2xzeCB9IGZyb20gXCJjbHN4XCI7XG5pbXBvcnQgeyB0d01lcmdlIH0gZnJvbSBcInRhaWx3aW5kLW1lcmdlXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBjbiguLi5pbnB1dHM6IENsYXNzVmFsdWVbXSkge1xuICByZXR1cm4gdHdNZXJnZShjbHN4KGlucHV0cykpO1xufVxuXG4vLyDmoLzlvI/ljJbotKfluIFcbmV4cG9ydCBmdW5jdGlvbiBmb3JtYXRDdXJyZW5jeShhbW91bnQ6IG51bWJlciwgY3VycmVuY3k6ICdVU0QnIHwgJ0FVRCcpOiBzdHJpbmcge1xuICByZXR1cm4gbmV3IEludGwuTnVtYmVyRm9ybWF0KCdlbi1VUycsIHtcbiAgICBzdHlsZTogJ2N1cnJlbmN5JyxcbiAgICBjdXJyZW5jeTogY3VycmVuY3ksXG4gICAgbWluaW11bUZyYWN0aW9uRGlnaXRzOiAwLFxuICAgIG1heGltdW1GcmFjdGlvbkRpZ2l0czogMCxcbiAgfSkuZm9ybWF0KGFtb3VudCk7XG59XG5cbi8vIOagvOW8j+WMlui0p+W4geiMg+WbtFxuZXhwb3J0IGZ1bmN0aW9uIGZvcm1hdEN1cnJlbmN5UmFuZ2UobWluOiBudW1iZXIsIG1heDogbnVtYmVyLCBjdXJyZW5jeTogJ1VTRCcgfCAnQVVEJyk6IHN0cmluZyB7XG4gIHJldHVybiBgJHtmb3JtYXRDdXJyZW5jeShtaW4sIGN1cnJlbmN5KX0gLSAke2Zvcm1hdEN1cnJlbmN5KG1heCwgY3VycmVuY3kpfWA7XG59XG5cbi8vIOiuoeeul+iMg+WbtFxuZXhwb3J0IGZ1bmN0aW9uIGNhbGN1bGF0ZVJhbmdlKGJhc2U6IG51bWJlciwgdmFyaWFuY2U6IG51bWJlciA9IDAuMik6IHsgbWluOiBudW1iZXI7IG1heDogbnVtYmVyIH0ge1xuICByZXR1cm4ge1xuICAgIG1pbjogTWF0aC5yb3VuZChiYXNlICogKDEgLSB2YXJpYW5jZSkpLFxuICAgIG1heDogTWF0aC5yb3VuZChiYXNlICogKDEgKyB2YXJpYW5jZSkpXG4gIH07XG59XG5cbi8vIOeUn+aIkOWUr+S4gElEXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVJZCgpOiBzdHJpbmcge1xuICByZXR1cm4gTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIsIDkpO1xufVxuXG4vLyDpqozor4Hpgq7nrrHmoLzlvI9cbmV4cG9ydCBmdW5jdGlvbiBpc1ZhbGlkRW1haWwoZW1haWw6IHN0cmluZyk6IGJvb2xlYW4ge1xuICBjb25zdCBlbWFpbFJlZ2V4ID0gL15bXlxcc0BdK0BbXlxcc0BdK1xcLlteXFxzQF0rJC87XG4gIHJldHVybiBlbWFpbFJlZ2V4LnRlc3QoZW1haWwpO1xufVxuXG4vLyDlu7bov5/lh73mlbBcbmV4cG9ydCBmdW5jdGlvbiBkZWxheShtczogbnVtYmVyKTogUHJvbWlzZTx2b2lkPiB7XG4gIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgbXMpKTtcbn1cblxuLy8g6K6h566X5bm05bqm5oC76LS555SoXG5leHBvcnQgZnVuY3Rpb24gY2FsY3VsYXRlQW5udWFsQ29zdChcbiAgdHVpdGlvbkFubnVhbDogbnVtYmVyLFxuICBsaXZpbmdNb250aGx5OiBudW1iZXIsXG4gIG90aGVyQ29zdHM6IG51bWJlciA9IDBcbik6IG51bWJlciB7XG4gIHJldHVybiB0dWl0aW9uQW5udWFsICsgKGxpdmluZ01vbnRobHkgKiAxMikgKyBvdGhlckNvc3RzO1xufVxuXG4vLyDmo4Dmn6XmmK/lkKbkuLrmnInmlYjnmoTlpKflraZVUkxcbmV4cG9ydCBmdW5jdGlvbiBpc1ZhbGlkVW5pdmVyc2l0eVVybCh1cmw6IHN0cmluZyk6IGJvb2xlYW4ge1xuICB0cnkge1xuICAgIGNvbnN0IHBhcnNlZCA9IG5ldyBVUkwodXJsKTtcbiAgICByZXR1cm4gcGFyc2VkLnByb3RvY29sID09PSAnaHR0cHM6JyAmJlxuICAgICAgICAgICAocGFyc2VkLmhvc3RuYW1lLmluY2x1ZGVzKCdlZHUnKSB8fFxuICAgICAgICAgICAgcGFyc2VkLmhvc3RuYW1lLmluY2x1ZGVzKCd1bml2ZXJzaXR5JykgfHxcbiAgICAgICAgICAgIHBhcnNlZC5ob3N0bmFtZS5pbmNsdWRlcygnY29sbGVnZScpKTtcbiAgfSBjYXRjaCB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbi8vIOS7jlVSTOaPkOWPluWfn+WQjVxuZXhwb3J0IGZ1bmN0aW9uIGV4dHJhY3REb21haW4odXJsOiBzdHJpbmcpOiBzdHJpbmcge1xuICB0cnkge1xuICAgIHJldHVybiBuZXcgVVJMKHVybCkuaG9zdG5hbWU7XG4gIH0gY2F0Y2gge1xuICAgIHJldHVybiB1cmw7XG4gIH1cbn1cblxuLy8g56Gu5L+dVVJM5pyJ5Y2P6K6u5YmN57yAXG5leHBvcnQgZnVuY3Rpb24gZW5zdXJlVXJsUHJvdG9jb2wodXJsOiBzdHJpbmcpOiBzdHJpbmcge1xuICBpZiAoIXVybCkgcmV0dXJuICcnO1xuICBcbiAgdHJ5IHtcbiAgICAvLyDlpoLmnpzlt7Lnu4/mmK/lrozmlbRVUkzvvIznm7TmjqXov5Tlm55cbiAgICBuZXcgVVJMKHVybCk7XG4gICAgcmV0dXJuIHVybDtcbiAgfSBjYXRjaCB7XG4gICAgLy8g5aaC5p6c5LiN5piv5a6M5pW0VVJM77yM5re75YqgaHR0cHPljY/orq5cbiAgICBpZiAoIXVybC5zdGFydHNXaXRoKCdodHRwJykpIHtcbiAgICAgIHJldHVybiBgaHR0cHM6Ly8ke3VybH1gO1xuICAgIH1cbiAgICByZXR1cm4gdXJsO1xuICB9XG59XG5cbi8vIOagvOW8j+WMluaXpeacn1xuZXhwb3J0IGZ1bmN0aW9uIGZvcm1hdERhdGUoZGF0ZTogRGF0ZSk6IHN0cmluZyB7XG4gIHJldHVybiBkYXRlLnRvTG9jYWxlRGF0ZVN0cmluZygnZW4tVVMnLCB7XG4gICAgeWVhcjogJ251bWVyaWMnLFxuICAgIG1vbnRoOiAnbG9uZycsXG4gICAgZGF5OiAnbnVtZXJpYydcbiAgfSk7XG59XG5cbi8vIOiuoeeul+eUn+a0u+aIkOacrOiwg+aVtFxuZXhwb3J0IGZ1bmN0aW9uIGFkanVzdEZvckxpZmVzdHlsZShcbiAgYmFzZUNvc3Q6IG51bWJlcixcbiAgbGlmZXN0eWxlOiAnZWNvbm9teScgfCAnc3RhbmRhcmQnIHwgJ2NvbWZvcnRhYmxlJ1xuKTogbnVtYmVyIHtcbiAgY29uc3QgbXVsdGlwbGllcnMgPSB7XG4gICAgZWNvbm9teTogMC44LFxuICAgIHN0YW5kYXJkOiAxLjAsXG4gICAgY29tZm9ydGFibGU6IDEuMjVcbiAgfTtcbiAgcmV0dXJuIE1hdGgucm91bmQoYmFzZUNvc3QgKiBtdWx0aXBsaWVyc1tsaWZlc3R5bGVdKTtcbn0iXSwibmFtZXMiOlsiY2xzeCIsInR3TWVyZ2UiLCJjbiIsImlucHV0cyIsImZvcm1hdEN1cnJlbmN5IiwiYW1vdW50IiwiY3VycmVuY3kiLCJJbnRsIiwiTnVtYmVyRm9ybWF0Iiwic3R5bGUiLCJtaW5pbXVtRnJhY3Rpb25EaWdpdHMiLCJtYXhpbXVtRnJhY3Rpb25EaWdpdHMiLCJmb3JtYXQiLCJmb3JtYXRDdXJyZW5jeVJhbmdlIiwibWluIiwibWF4IiwiY2FsY3VsYXRlUmFuZ2UiLCJiYXNlIiwidmFyaWFuY2UiLCJNYXRoIiwicm91bmQiLCJnZW5lcmF0ZUlkIiwicmFuZG9tIiwidG9TdHJpbmciLCJzdWJzdHIiLCJpc1ZhbGlkRW1haWwiLCJlbWFpbCIsImVtYWlsUmVnZXgiLCJ0ZXN0IiwiZGVsYXkiLCJtcyIsIlByb21pc2UiLCJyZXNvbHZlIiwic2V0VGltZW91dCIsImNhbGN1bGF0ZUFubnVhbENvc3QiLCJ0dWl0aW9uQW5udWFsIiwibGl2aW5nTW9udGhseSIsIm90aGVyQ29zdHMiLCJpc1ZhbGlkVW5pdmVyc2l0eVVybCIsInVybCIsInBhcnNlZCIsIlVSTCIsInByb3RvY29sIiwiaG9zdG5hbWUiLCJpbmNsdWRlcyIsImV4dHJhY3REb21haW4iLCJlbnN1cmVVcmxQcm90b2NvbCIsInN0YXJ0c1dpdGgiLCJmb3JtYXREYXRlIiwiZGF0ZSIsInRvTG9jYWxlRGF0ZVN0cmluZyIsInllYXIiLCJtb250aCIsImRheSIsImFkanVzdEZvckxpZmVzdHlsZSIsImJhc2VDb3N0IiwibGlmZXN0eWxlIiwibXVsdGlwbGllcnMiLCJlY29ub215Iiwic3RhbmRhcmQiLCJjb21mb3J0YWJsZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/utils.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/tailwind-merge","vendor-chunks/clsx"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Festimate%2Froute&page=%2Fapi%2Festimate%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Festimate%2Froute.ts&appDir=D%3A%5CProject%5Ccost_copy_v2%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CProject%5Ccost_copy_v2&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();