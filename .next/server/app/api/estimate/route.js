/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/estimate/route";
exports.ids = ["app/api/estimate/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "../app-render/work-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/server/app-render/work-async-storage.external.js" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-async-storage.external.js");

/***/ }),

/***/ "./work-unit-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist/server/app-render/work-unit-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-unit-async-storage.external.js");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Festimate%2Froute&page=%2Fapi%2Festimate%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Festimate%2Froute.ts&appDir=D%3A%5CProject%5Ccost_copy_v2%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CProject%5Ccost_copy_v2&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Festimate%2Froute&page=%2Fapi%2Festimate%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Festimate%2Froute.ts&appDir=D%3A%5CProject%5Ccost_copy_v2%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CProject%5Ccost_copy_v2&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   workAsyncStorage: () => (/* binding */ workAsyncStorage),\n/* harmony export */   workUnitAsyncStorage: () => (/* binding */ workUnitAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(rsc)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var D_Project_cost_copy_v2_app_api_estimate_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/estimate/route.ts */ \"(rsc)/./app/api/estimate/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/estimate/route\",\n        pathname: \"/api/estimate\",\n        filename: \"route\",\n        bundlePath: \"app/api/estimate/route\"\n    },\n    resolvedPagePath: \"D:\\\\Project\\\\cost_copy_v2\\\\app\\\\api\\\\estimate\\\\route.ts\",\n    nextConfigOutput,\n    userland: D_Project_cost_copy_v2_app_api_estimate_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { workAsyncStorage, workUnitAsyncStorage, serverHooks } = routeModule;\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        workAsyncStorage,\n        workUnitAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIvaW5kZXguanM/bmFtZT1hcHAlMkZhcGklMkZlc3RpbWF0ZSUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGZXN0aW1hdGUlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZlc3RpbWF0ZSUyRnJvdXRlLnRzJmFwcERpcj1EJTNBJTVDUHJvamVjdCU1Q2Nvc3RfY29weV92MiU1Q2FwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9RCUzQSU1Q1Byb2plY3QlNUNjb3N0X2NvcHlfdjImaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQStGO0FBQ3ZDO0FBQ3FCO0FBQ087QUFDcEY7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHlHQUFtQjtBQUMzQztBQUNBLGNBQWMsa0VBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSxzREFBc0Q7QUFDOUQ7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDMEY7O0FBRTFGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY29zdC1lc3RpbWF0b3IvP2UyNzEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIkQ6XFxcXFByb2plY3RcXFxcY29zdF9jb3B5X3YyXFxcXGFwcFxcXFxhcGlcXFxcZXN0aW1hdGVcXFxccm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2VzdGltYXRlL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvZXN0aW1hdGVcIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL2VzdGltYXRlL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiRDpcXFxcUHJvamVjdFxcXFxjb3N0X2NvcHlfdjJcXFxcYXBwXFxcXGFwaVxcXFxlc3RpbWF0ZVxcXFxyb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHdvcmtBc3luY1N0b3JhZ2UsIHdvcmtVbml0QXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcyB9ID0gcm91dGVNb2R1bGU7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHdvcmtBc3luY1N0b3JhZ2UsXG4gICAgICAgIHdvcmtVbml0QXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgd29ya0FzeW5jU3RvcmFnZSwgd29ya1VuaXRBc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Festimate%2Froute&page=%2Fapi%2Festimate%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Festimate%2Froute.ts&appDir=D%3A%5CProject%5Ccost_copy_v2%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CProject%5Ccost_copy_v2&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(rsc)/./app/api/estimate/route.ts":
/*!***********************************!*\
  !*** ./app/api/estimate/route.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_estimation_coordinator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/estimation-coordinator */ \"(rsc)/./lib/estimation-coordinator.ts\");\n\n\n// 存储活跃的估算任务\nconst activeEstimations = new Map();\nasync function POST(request) {\n    try {\n        const userInput = await request.json();\n        console.log('Received user input:', userInput);\n        // 验证用户输入\n        const coordinator = new _lib_estimation_coordinator__WEBPACK_IMPORTED_MODULE_1__.EstimationCoordinator();\n        const validation = coordinator.validateUserInput(userInput);\n        if (!validation.isValid) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: false,\n                error: 'Invalid input',\n                message: validation.errors.join(', ')\n            }, {\n                status: 400\n            });\n        }\n        // 生成唯一任务ID\n        const taskId = Math.random().toString(36).substr(2, 9);\n        console.log('Generated task ID:', taskId);\n        // 初始化任务状态\n        activeEstimations.set(taskId, {\n            progress: {\n                step: 'tuition',\n                progress: 0,\n                message: '开始费用估算...'\n            },\n            userInput\n        });\n        // 启动异步估算任务\n        const estimationPromise = coordinator.generateCostEstimate(userInput, (progress)=>{\n            // 存储进度信息\n            activeEstimations.set(taskId, {\n                progress,\n                userInput\n            });\n            console.log('Progress update:', progress);\n        });\n        // 启动估算任务但不等待完成\n        estimationPromise.then((report)=>{\n            console.log('Estimation completed for task:', taskId);\n            activeEstimations.set(taskId, {\n                completed: true,\n                report,\n                userInput\n            });\n        }).catch((error)=>{\n            console.error('Estimation failed for task:', taskId, error);\n            activeEstimations.set(taskId, {\n                error: error.message,\n                userInput\n            });\n        });\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            data: {\n                taskId\n            },\n            message: 'Estimation started'\n        });\n    } catch (error) {\n        console.error('API error:', error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: false,\n            error: 'Internal server error',\n            message: error instanceof Error ? error.message : 'Unknown error'\n        }, {\n            status: 500\n        });\n    }\n}\nasync function GET(request) {\n    const url = new URL(request.url);\n    const taskId = url.searchParams.get('taskId');\n    if (!taskId) {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: false,\n            error: 'Missing taskId parameter'\n        }, {\n            status: 400\n        });\n    }\n    const taskData = activeEstimations.get(taskId);\n    if (!taskData) {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: false,\n            error: 'Task not found'\n        }, {\n            status: 404\n        });\n    }\n    if (taskData.error) {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: false,\n            error: taskData.error\n        }, {\n            status: 500\n        });\n    }\n    if (taskData.completed) {\n        // 清理完成的任务\n        activeEstimations.delete(taskId);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            data: taskData.report\n        });\n    }\n    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n        success: true,\n        data: {\n            progress: taskData.progress,\n            status: 'in_progress'\n        }\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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MUIsS0FBSyxFQUFFO1FBQ2xCLE9BQU9mLHFEQUFZQSxDQUFDTyxJQUFJLENBQUM7WUFDdkJPLFNBQVM7WUFDVEMsT0FBTzBCLFNBQVMxQixLQUFLO1FBQ3ZCLEdBQXdCO1lBQUVJLFFBQVE7UUFBSTtJQUN4QztJQUVBLElBQUlzQixTQUFTVCxTQUFTLEVBQUU7UUFDdEIsVUFBVTtRQUNWOUIsa0JBQWtCd0MsTUFBTSxDQUFDdEI7UUFFekIsT0FBT3BCLHFEQUFZQSxDQUFDTyxJQUFJLENBQUM7WUFDdkJPLFNBQVM7WUFDVG9CLE1BQU1PLFNBQVNWLE1BQU07UUFDdkI7SUFDRjtJQUVBLE9BQU8vQixxREFBWUEsQ0FBQ08sSUFBSSxDQUFDO1FBQ3ZCTyxTQUFTO1FBQ1RvQixNQUFNO1lBQ0pSLFVBQVVlLFNBQVNmLFFBQVE7WUFDM0JQLFFBQVE7UUFDVjtJQUNGO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jb3N0LWVzdGltYXRvci8uL2FwcC9hcGkvZXN0aW1hdGUvcm91dGUudHM/YjUwZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVxdWVzdCwgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInO1xuaW1wb3J0IHsgRXN0aW1hdGlvbkNvb3JkaW5hdG9yIH0gZnJvbSAnQC9saWIvZXN0aW1hdGlvbi1jb29yZGluYXRvcic7XG5pbXBvcnQgeyBVc2VySW5wdXQsIEFwaVJlc3BvbnNlLCBDb3N0RXN0aW1hdGVSZXBvcnQgfSBmcm9tICdAL3R5cGVzJztcblxuLy8g5a2Y5YKo5rS76LeD55qE5Lyw566X5Lu75YqhXG5jb25zdCBhY3RpdmVFc3RpbWF0aW9ucyA9IG5ldyBNYXA8c3RyaW5nLCBhbnk+KCk7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KSB7XG4gIHRyeSB7XG4gICAgY29uc3QgdXNlcklucHV0OiBVc2VySW5wdXQgPSBhd2FpdCByZXF1ZXN0Lmpzb24oKTtcbiAgICBjb25zb2xlLmxvZygnUmVjZWl2ZWQgdXNlciBpbnB1dDonLCB1c2VySW5wdXQpO1xuXG4gICAgLy8g6aqM6K+B55So5oi36L6T5YWlXG4gICAgY29uc3QgY29vcmRpbmF0b3IgPSBuZXcgRXN0aW1hdGlvbkNvb3JkaW5hdG9yKCk7XG4gICAgY29uc3QgdmFsaWRhdGlvbiA9IGNvb3JkaW5hdG9yLnZhbGlkYXRlVXNlcklucHV0KHVzZXJJbnB1dCk7XG5cbiAgICBpZiAoIXZhbGlkYXRpb24uaXNWYWxpZCkge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIGVycm9yOiAnSW52YWxpZCBpbnB1dCcsXG4gICAgICAgIG1lc3NhZ2U6IHZhbGlkYXRpb24uZXJyb3JzLmpvaW4oJywgJylcbiAgICAgIH0gYXMgQXBpUmVzcG9uc2U8bnVsbD4sIHsgc3RhdHVzOiA0MDAgfSk7XG4gICAgfVxuXG4gICAgLy8g55Sf5oiQ5ZSv5LiA5Lu75YqhSURcbiAgICBjb25zdCB0YXNrSWQgPSBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMiwgOSk7XG4gICAgY29uc29sZS5sb2coJ0dlbmVyYXRlZCB0YXNrIElEOicsIHRhc2tJZCk7XG5cbiAgICAvLyDliJ3lp4vljJbku7vliqHnirbmgIFcbiAgICBhY3RpdmVFc3RpbWF0aW9ucy5zZXQodGFza0lkLCB7XG4gICAgICBwcm9ncmVzczogeyBzdGVwOiAndHVpdGlvbicsIHByb2dyZXNzOiAwLCBtZXNzYWdlOiAn5byA5aeL6LS555So5Lyw566XLi4uJyB9LFxuICAgICAgdXNlcklucHV0XG4gICAgfSk7XG5cbiAgICAvLyDlkK/liqjlvILmraXkvLDnrpfku7vliqFcbiAgICBjb25zdCBlc3RpbWF0aW9uUHJvbWlzZSA9IGNvb3JkaW5hdG9yLmdlbmVyYXRlQ29zdEVzdGltYXRlKHVzZXJJbnB1dCwgKHByb2dyZXNzKSA9PiB7XG4gICAgICAvLyDlrZjlgqjov5vluqbkv6Hmga9cbiAgICAgIGFjdGl2ZUVzdGltYXRpb25zLnNldCh0YXNrSWQsIHsgcHJvZ3Jlc3MsIHVzZXJJbnB1dCB9KTtcbiAgICAgIGNvbnNvbGUubG9nKCdQcm9ncmVzcyB1cGRhdGU6JywgcHJvZ3Jlc3MpO1xuICAgIH0pO1xuXG4gICAgLy8g5ZCv5Yqo5Lyw566X5Lu75Yqh5L2G5LiN562J5b6F5a6M5oiQXG4gICAgZXN0aW1hdGlvblByb21pc2VcbiAgICAgIC50aGVuKHJlcG9ydCA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdFc3RpbWF0aW9uIGNvbXBsZXRlZCBmb3IgdGFzazonLCB0YXNrSWQpO1xuICAgICAgICBhY3RpdmVFc3RpbWF0aW9ucy5zZXQodGFza0lkLCB7XG4gICAgICAgICAgY29tcGxldGVkOiB0cnVlLFxuICAgICAgICAgIHJlcG9ydCxcbiAgICAgICAgICB1c2VySW5wdXRcbiAgICAgICAgfSk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKGVycm9yID0+IHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXN0aW1hdGlvbiBmYWlsZWQgZm9yIHRhc2s6JywgdGFza0lkLCBlcnJvcik7XG4gICAgICAgIGFjdGl2ZUVzdGltYXRpb25zLnNldCh0YXNrSWQsIHtcbiAgICAgICAgICBlcnJvcjogZXJyb3IubWVzc2FnZSxcbiAgICAgICAgICB1c2VySW5wdXRcbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XG4gICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgZGF0YTogeyB0YXNrSWQgfSxcbiAgICAgIG1lc3NhZ2U6ICdFc3RpbWF0aW9uIHN0YXJ0ZWQnXG4gICAgfSBhcyBBcGlSZXNwb25zZTx7IHRhc2tJZDogc3RyaW5nIH0+KTtcblxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0FQSSBlcnJvcjonLCBlcnJvcik7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgZXJyb3I6ICdJbnRlcm5hbCBzZXJ2ZXIgZXJyb3InLFxuICAgICAgbWVzc2FnZTogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcidcbiAgICB9IGFzIEFwaVJlc3BvbnNlPG51bGw+LCB7IHN0YXR1czogNTAwIH0pO1xuICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBHRVQocmVxdWVzdDogTmV4dFJlcXVlc3QpIHtcbiAgY29uc3QgdXJsID0gbmV3IFVSTChyZXF1ZXN0LnVybCk7XG4gIGNvbnN0IHRhc2tJZCA9IHVybC5zZWFyY2hQYXJhbXMuZ2V0KCd0YXNrSWQnKTtcblxuICBpZiAoIXRhc2tJZCkge1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XG4gICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgIGVycm9yOiAnTWlzc2luZyB0YXNrSWQgcGFyYW1ldGVyJ1xuICAgIH0gYXMgQXBpUmVzcG9uc2U8bnVsbD4sIHsgc3RhdHVzOiA0MDAgfSk7XG4gIH1cblxuICBjb25zdCB0YXNrRGF0YSA9IGFjdGl2ZUVzdGltYXRpb25zLmdldCh0YXNrSWQpO1xuXG4gIGlmICghdGFza0RhdGEpIHtcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICBlcnJvcjogJ1Rhc2sgbm90IGZvdW5kJ1xuICAgIH0gYXMgQXBpUmVzcG9uc2U8bnVsbD4sIHsgc3RhdHVzOiA0MDQgfSk7XG4gIH1cblxuICBpZiAodGFza0RhdGEuZXJyb3IpIHtcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICBlcnJvcjogdGFza0RhdGEuZXJyb3JcbiAgICB9IGFzIEFwaVJlc3BvbnNlPG51bGw+LCB7IHN0YXR1czogNTAwIH0pO1xuICB9XG5cbiAgaWYgKHRhc2tEYXRhLmNvbXBsZXRlZCkge1xuICAgIC8vIOa4heeQhuWujOaIkOeahOS7u+WKoVxuICAgIGFjdGl2ZUVzdGltYXRpb25zLmRlbGV0ZSh0YXNrSWQpO1xuXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICBkYXRhOiB0YXNrRGF0YS5yZXBvcnRcbiAgICB9IGFzIEFwaVJlc3BvbnNlPGFueT4pO1xuICB9XG5cbiAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcbiAgICBzdWNjZXNzOiB0cnVlLFxuICAgIGRhdGE6IHtcbiAgICAgIHByb2dyZXNzOiB0YXNrRGF0YS5wcm9ncmVzcyxcbiAgICAgIHN0YXR1czogJ2luX3Byb2dyZXNzJ1xuICAgIH1cbiAgfSBhcyBBcGlSZXNwb25zZTxhbnk+KTtcbn0iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwiRXN0aW1hdGlvbkNvb3JkaW5hdG9yIiwiYWN0aXZlRXN0aW1hdGlvbnMiLCJNYXAiLCJQT1NUIiwicmVxdWVzdCIsInVzZXJJbnB1dCIsImpzb24iLCJjb25zb2xlIiwibG9nIiwiY29vcmRpbmF0b3IiLCJ2YWxpZGF0aW9uIiwidmFsaWRhdGVVc2VySW5wdXQiLCJpc1ZhbGlkIiwic3VjY2VzcyIsImVycm9yIiwibWVzc2FnZSIsImVycm9ycyIsImpvaW4iLCJzdGF0dXMiLCJ0YXNrSWQiLCJNYXRoIiwicmFuZG9tIiwidG9TdHJpbmciLCJzdWJzdHIiLCJzZXQiLCJwcm9ncmVzcyIsInN0ZXAiLCJlc3RpbWF0aW9uUHJvbWlzZSIsImdlbmVyYXRlQ29zdEVzdGltYXRlIiwidGhlbiIsInJlcG9ydCIsImNvbXBsZXRlZCIsImNhdGNoIiwiZGF0YSIsIkVycm9yIiwiR0VUIiwidXJsIiwiVVJMIiwic2VhcmNoUGFyYW1zIiwiZ2V0IiwidGFza0RhdGEiLCJkZWxldGUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./app/api/estimate/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/agents/living-cost-agent.ts":
/*!*****************************************!*\
  !*** ./lib/agents/living-cost-agent.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LivingCostAgent: () => (/* binding */ LivingCostAgent)\n/* harmony export */ });\n/* harmony import */ var _safe_llm_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../safe-llm-client */ \"(rsc)/./lib/safe-llm-client.ts\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../constants */ \"(rsc)/./lib/constants.ts\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils */ \"(rsc)/./lib/utils.ts\");\n\n\n\nclass LivingCostAgent {\n    async analyzeLivingCosts(userInput) {\n        const { country, city, lifestyle, accommodation, diet, transportation } = userInput;\n        try {\n            // 获取城市基础数据\n            const cityData = _constants__WEBPACK_IMPORTED_MODULE_1__.CITIES.find((c)=>c.name === city && c.country === country);\n            if (!cityData) {\n                throw new Error(`City data not found for ${city}, ${country}`);\n            }\n            // 获取实时生活成本数据\n            const realTimeData = await this.getRealTimeLivingCosts(city, country);\n            // 计算各项费用\n            const accommodationCost = this.calculateAccommodationCost(country, accommodation, lifestyle, city);\n            const foodCost = this.calculateFoodCost(country, lifestyle, diet, city);\n            const transportationCost = this.calculateTransportationCost(country, transportation, lifestyle, city);\n            const utilitiesCost = this.calculateUtilitiesCost(country, accommodation, lifestyle);\n            const entertainmentCost = this.calculateEntertainmentCost(country, lifestyle, city);\n            const miscellaneousCost = this.calculateMiscellaneousCost(country, lifestyle);\n            const totalMonthlyCost = accommodationCost.amount + foodCost.amount + transportationCost.amount + utilitiesCost.amount + entertainmentCost.amount + miscellaneousCost.amount;\n            const currency = country === 'US' ? 'USD' : 'AUD';\n            return {\n                accommodation: accommodationCost,\n                food: foodCost,\n                transportation: transportationCost,\n                utilities: utilitiesCost,\n                entertainment: entertainmentCost,\n                miscellaneous: miscellaneousCost,\n                total: {\n                    amount: Math.round(totalMonthlyCost),\n                    range: (0,_utils__WEBPACK_IMPORTED_MODULE_2__.calculateRange)(totalMonthlyCost, 0.25)\n                },\n                currency,\n                period: 'monthly',\n                sources: [\n                    'https://www.numbeo.com',\n                    'https://www.expatistan.com',\n                    realTimeData?.source || '官方统计数据'\n                ]\n            };\n        } catch (error) {\n            console.error('Living cost analysis error:', error);\n            // 使用后备估算\n            return this.getFallbackLivingCosts(userInput);\n        }\n    }\n    async getRealTimeLivingCosts(city, country) {\n        try {\n            const searchQuery = `${city} ${country} cost of living 2024 rent food transportation monthly expenses`;\n            const searchResults = await _safe_llm_client__WEBPACK_IMPORTED_MODULE_0__.safeLLMClient.safeSearch(searchQuery);\n            const fallbackData = {\n                rent_1br: country === 'US' ? 1800 : 1400,\n                rent_3br: country === 'US' ? 3000 : 2200,\n                food_monthly: country === 'US' ? 450 : 380,\n                transportation_monthly: country === 'US' ? 150 : 120,\n                utilities_monthly: country === 'US' ? 180 : 150,\n                entertainment_monthly: country === 'US' ? 300 : 250,\n                source: 'Numbeo.com估算'\n            };\n            return await _safe_llm_client__WEBPACK_IMPORTED_MODULE_0__.safeLLMClient.extractLivingCosts(searchResults, fallbackData);\n        } catch (error) {\n            console.log('Real-time data unavailable, using estimates');\n            return null;\n        }\n    }\n    calculateAccommodationCost(country, accommodation, lifestyle, city) {\n        const baseCost = _constants__WEBPACK_IMPORTED_MODULE_1__.ACCOMMODATION_BASE_COSTS[country][accommodation];\n        // 城市调整系数\n        const cityMultipliers = {\n            'New York': 1.6,\n            'San Francisco': 1.8,\n            'Los Angeles': 1.4,\n            'Cambridge': 1.5,\n            'Sydney': 1.4,\n            'Melbourne': 1.2,\n            'Canberra': 1.1\n        };\n        const cityMultiplier = cityMultipliers[city] || 1.0;\n        const adjustedCost = (0,_utils__WEBPACK_IMPORTED_MODULE_2__.adjustForLifestyle)(baseCost * cityMultiplier, lifestyle);\n        return {\n            amount: Math.round(adjustedCost),\n            type: accommodation,\n            range: (0,_utils__WEBPACK_IMPORTED_MODULE_2__.calculateRange)(adjustedCost, 0.3)\n        };\n    }\n    calculateFoodCost(country, lifestyle, diet, city) {\n        const baseFood = country === 'US' ? 400 : 350; // 基础食物成本\n        // 饮食调整\n        const dietMultipliers = {\n            'normal': 1.0,\n            'vegetarian': 0.85,\n            'halal': 1.1,\n            'kosher': 1.2,\n            'custom': 1.15\n        };\n        const dietMultiplier = dietMultipliers[diet || 'normal'];\n        const adjustedCost = (0,_utils__WEBPACK_IMPORTED_MODULE_2__.adjustForLifestyle)(baseFood * dietMultiplier, lifestyle);\n        return {\n            amount: Math.round(adjustedCost),\n            range: (0,_utils__WEBPACK_IMPORTED_MODULE_2__.calculateRange)(adjustedCost, 0.4)\n        };\n    }\n    calculateTransportationCost(country, transportation, lifestyle, city) {\n        const transportCosts = {\n            'walking': country === 'US' ? 50 : 40,\n            'public': country === 'US' ? 120 : 100,\n            'bike': country === 'US' ? 30 : 25,\n            'car': country === 'US' ? 400 : 350\n        };\n        const baseCost = transportCosts[transportation || 'public'];\n        const adjustedCost = (0,_utils__WEBPACK_IMPORTED_MODULE_2__.adjustForLifestyle)(baseCost, lifestyle);\n        return {\n            amount: Math.round(adjustedCost),\n            range: (0,_utils__WEBPACK_IMPORTED_MODULE_2__.calculateRange)(adjustedCost, 0.3)\n        };\n    }\n    calculateUtilitiesCost(country, accommodation, lifestyle) {\n        const baseUtilities = country === 'US' ? 150 : 130;\n        // 住宿类型调整\n        const accommodationMultipliers = {\n            'dormitory': 0.3,\n            'shared': 0.5,\n            'studio': 0.8,\n            'apartment': 1.0\n        };\n        const accommodationMultiplier = accommodationMultipliers[accommodation];\n        const adjustedCost = (0,_utils__WEBPACK_IMPORTED_MODULE_2__.adjustForLifestyle)(baseUtilities * accommodationMultiplier, lifestyle);\n        return {\n            amount: Math.round(adjustedCost),\n            range: (0,_utils__WEBPACK_IMPORTED_MODULE_2__.calculateRange)(adjustedCost, 0.3)\n        };\n    }\n    calculateEntertainmentCost(country, lifestyle, city) {\n        const baseEntertainment = country === 'US' ? 250 : 200;\n        const adjustedCost = (0,_utils__WEBPACK_IMPORTED_MODULE_2__.adjustForLifestyle)(baseEntertainment, lifestyle);\n        return {\n            amount: Math.round(adjustedCost),\n            range: (0,_utils__WEBPACK_IMPORTED_MODULE_2__.calculateRange)(adjustedCost, 0.5)\n        };\n    }\n    calculateMiscellaneousCost(country, lifestyle) {\n        const baseMisc = country === 'US' ? 200 : 180;\n        const adjustedCost = (0,_utils__WEBPACK_IMPORTED_MODULE_2__.adjustForLifestyle)(baseMisc, lifestyle);\n        return {\n            amount: Math.round(adjustedCost),\n            range: (0,_utils__WEBPACK_IMPORTED_MODULE_2__.calculateRange)(adjustedCost, 0.4)\n        };\n    }\n    getFallbackLivingCosts(userInput) {\n        const { country, lifestyle } = userInput;\n        const currency = country === 'US' ? 'USD' : 'AUD';\n        // 紧急后备数据\n        const fallbackData = {\n            'US': {\n                'economy': {\n                    total: 1800\n                },\n                'standard': {\n                    total: 2500\n                },\n                'comfortable': {\n                    total: 3200\n                }\n            },\n            'AU': {\n                'economy': {\n                    total: 1600\n                },\n                'standard': {\n                    total: 2200\n                },\n                'comfortable': {\n                    total: 2800\n                }\n            }\n        };\n        const totalCost = fallbackData[country][lifestyle].total;\n        return {\n            accommodation: {\n                amount: Math.round(totalCost * 0.4),\n                type: userInput.accommodation,\n                range: (0,_utils__WEBPACK_IMPORTED_MODULE_2__.calculateRange)(totalCost * 0.4)\n            },\n            food: {\n                amount: Math.round(totalCost * 0.25),\n                range: (0,_utils__WEBPACK_IMPORTED_MODULE_2__.calculateRange)(totalCost * 0.25)\n            },\n            transportation: {\n                amount: Math.round(totalCost * 0.1),\n                range: (0,_utils__WEBPACK_IMPORTED_MODULE_2__.calculateRange)(totalCost * 0.1)\n            },\n            utilities: {\n                amount: Math.round(totalCost * 0.1),\n                range: (0,_utils__WEBPACK_IMPORTED_MODULE_2__.calculateRange)(totalCost * 0.1)\n            },\n            entertainment: {\n                amount: Math.round(totalCost * 0.1),\n                range: (0,_utils__WEBPACK_IMPORTED_MODULE_2__.calculateRange)(totalCost * 0.1)\n            },\n            miscellaneous: {\n                amount: Math.round(totalCost * 0.05),\n                range: (0,_utils__WEBPACK_IMPORTED_MODULE_2__.calculateRange)(totalCost * 0.05)\n            },\n            total: {\n                amount: totalCost,\n                range: (0,_utils__WEBPACK_IMPORTED_MODULE_2__.calculateRange)(totalCost)\n            },\n            currency,\n            period: 'monthly',\n            sources: [\n                '内部数据库估算'\n            ]\n        };\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFLO1lBQzlGdkMsV0FBVztnQkFBRUgsUUFBUU8sS0FBS0MsS0FBSyxDQUFDa0MsWUFBWTtnQkFBTWpDLE9BQU92QyxzREFBY0EsQ0FBQ3dFLFlBQVk7WUFBSztZQUN6RnRDLGVBQWU7Z0JBQUVKLFFBQVFPLEtBQUtDLEtBQUssQ0FBQ2tDLFlBQVk7Z0JBQU1qQyxPQUFPdkMsc0RBQWNBLENBQUN3RSxZQUFZO1lBQUs7WUFDN0ZyQyxlQUFlO2dCQUFFTCxRQUFRTyxLQUFLQyxLQUFLLENBQUNrQyxZQUFZO2dCQUFPakMsT0FBT3ZDLHNEQUFjQSxDQUFDd0UsWUFBWTtZQUFNO1lBQy9GcEMsT0FBTztnQkFBRU4sUUFBUTBDO2dCQUFXakMsT0FBT3ZDLHNEQUFjQSxDQUFDd0U7WUFBVztZQUM3RHpDO1lBQ0FTLFFBQVE7WUFDUkMsU0FBUztnQkFBQzthQUFVO1FBQ3RCO0lBQ0Y7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL2Nvc3QtZXN0aW1hdG9yLy4vbGliL2FnZW50cy9saXZpbmctY29zdC1hZ2VudC50cz81ZmZmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IG9wZW5Sb3V0ZXJDbGllbnQgfSBmcm9tICcuLi9vcGVucm91dGVyJztcbmltcG9ydCB7IHNhZmVMTE1DbGllbnQgfSBmcm9tICcuLi9zYWZlLWxsbS1jbGllbnQnO1xuaW1wb3J0IHsgVXNlcklucHV0LCBMaXZpbmdDb3N0cyB9IGZyb20gJ0AvdHlwZXMnO1xuaW1wb3J0IHsgQ0lUSUVTLCBMSUZFU1RZTEVfTVVMVElQTElFUlMsIEFDQ09NTU9EQVRJT05fQkFTRV9DT1NUUyB9IGZyb20gJy4uL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBhZGp1c3RGb3JMaWZlc3R5bGUsIGNhbGN1bGF0ZVJhbmdlIH0gZnJvbSAnLi4vdXRpbHMnO1xuXG5leHBvcnQgY2xhc3MgTGl2aW5nQ29zdEFnZW50IHtcbiAgYXN5bmMgYW5hbHl6ZUxpdmluZ0Nvc3RzKHVzZXJJbnB1dDogVXNlcklucHV0KTogUHJvbWlzZTxMaXZpbmdDb3N0cz4ge1xuICAgIGNvbnN0IHsgY291bnRyeSwgY2l0eSwgbGlmZXN0eWxlLCBhY2NvbW1vZGF0aW9uLCBkaWV0LCB0cmFuc3BvcnRhdGlvbiB9ID0gdXNlcklucHV0O1xuXG4gICAgdHJ5IHtcbiAgICAgIC8vIOiOt+WPluWfjuW4guWfuuehgOaVsOaNrlxuICAgICAgY29uc3QgY2l0eURhdGEgPSBDSVRJRVMuZmluZChjID0+IGMubmFtZSA9PT0gY2l0eSAmJiBjLmNvdW50cnkgPT09IGNvdW50cnkpO1xuXG4gICAgICBpZiAoIWNpdHlEYXRhKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgQ2l0eSBkYXRhIG5vdCBmb3VuZCBmb3IgJHtjaXR5fSwgJHtjb3VudHJ5fWApO1xuICAgICAgfVxuXG4gICAgICAvLyDojrflj5blrp7ml7bnlJ/mtLvmiJDmnKzmlbDmja5cbiAgICAgIGNvbnN0IHJlYWxUaW1lRGF0YSA9IGF3YWl0IHRoaXMuZ2V0UmVhbFRpbWVMaXZpbmdDb3N0cyhjaXR5LCBjb3VudHJ5KTtcblxuICAgICAgLy8g6K6h566X5ZCE6aG56LS555SoXG4gICAgICBjb25zdCBhY2NvbW1vZGF0aW9uQ29zdCA9IHRoaXMuY2FsY3VsYXRlQWNjb21tb2RhdGlvbkNvc3QoY291bnRyeSwgYWNjb21tb2RhdGlvbiwgbGlmZXN0eWxlLCBjaXR5KTtcbiAgICAgIGNvbnN0IGZvb2RDb3N0ID0gdGhpcy5jYWxjdWxhdGVGb29kQ29zdChjb3VudHJ5LCBsaWZlc3R5bGUsIGRpZXQsIGNpdHkpO1xuICAgICAgY29uc3QgdHJhbnNwb3J0YXRpb25Db3N0ID0gdGhpcy5jYWxjdWxhdGVUcmFuc3BvcnRhdGlvbkNvc3QoY291bnRyeSwgdHJhbnNwb3J0YXRpb24sIGxpZmVzdHlsZSwgY2l0eSk7XG4gICAgICBjb25zdCB1dGlsaXRpZXNDb3N0ID0gdGhpcy5jYWxjdWxhdGVVdGlsaXRpZXNDb3N0KGNvdW50cnksIGFjY29tbW9kYXRpb24sIGxpZmVzdHlsZSk7XG4gICAgICBjb25zdCBlbnRlcnRhaW5tZW50Q29zdCA9IHRoaXMuY2FsY3VsYXRlRW50ZXJ0YWlubWVudENvc3QoY291bnRyeSwgbGlmZXN0eWxlLCBjaXR5KTtcbiAgICAgIGNvbnN0IG1pc2NlbGxhbmVvdXNDb3N0ID0gdGhpcy5jYWxjdWxhdGVNaXNjZWxsYW5lb3VzQ29zdChjb3VudHJ5LCBsaWZlc3R5bGUpO1xuXG4gICAgICBjb25zdCB0b3RhbE1vbnRobHlDb3N0ID1cbiAgICAgICAgYWNjb21tb2RhdGlvbkNvc3QuYW1vdW50ICtcbiAgICAgICAgZm9vZENvc3QuYW1vdW50ICtcbiAgICAgICAgdHJhbnNwb3J0YXRpb25Db3N0LmFtb3VudCArXG4gICAgICAgIHV0aWxpdGllc0Nvc3QuYW1vdW50ICtcbiAgICAgICAgZW50ZXJ0YWlubWVudENvc3QuYW1vdW50ICtcbiAgICAgICAgbWlzY2VsbGFuZW91c0Nvc3QuYW1vdW50O1xuXG4gICAgICBjb25zdCBjdXJyZW5jeSA9IGNvdW50cnkgPT09ICdVUycgPyAnVVNEJyA6ICdBVUQnO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBhY2NvbW1vZGF0aW9uOiBhY2NvbW1vZGF0aW9uQ29zdCxcbiAgICAgICAgZm9vZDogZm9vZENvc3QsXG4gICAgICAgIHRyYW5zcG9ydGF0aW9uOiB0cmFuc3BvcnRhdGlvbkNvc3QsXG4gICAgICAgIHV0aWxpdGllczogdXRpbGl0aWVzQ29zdCxcbiAgICAgICAgZW50ZXJ0YWlubWVudDogZW50ZXJ0YWlubWVudENvc3QsXG4gICAgICAgIG1pc2NlbGxhbmVvdXM6IG1pc2NlbGxhbmVvdXNDb3N0LFxuICAgICAgICB0b3RhbDoge1xuICAgICAgICAgIGFtb3VudDogTWF0aC5yb3VuZCh0b3RhbE1vbnRobHlDb3N0KSxcbiAgICAgICAgICByYW5nZTogY2FsY3VsYXRlUmFuZ2UodG90YWxNb250aGx5Q29zdCwgMC4yNSlcbiAgICAgICAgfSxcbiAgICAgICAgY3VycmVuY3ksXG4gICAgICAgIHBlcmlvZDogJ21vbnRobHknLFxuICAgICAgICBzb3VyY2VzOiBbXG4gICAgICAgICAgJ2h0dHBzOi8vd3d3Lm51bWJlby5jb20nLFxuICAgICAgICAgICdodHRwczovL3d3dy5leHBhdGlzdGFuLmNvbScsXG4gICAgICAgICAgcmVhbFRpbWVEYXRhPy5zb3VyY2UgfHwgJ+WumOaWuee7n+iuoeaVsOaNridcbiAgICAgICAgXVxuICAgICAgfTtcblxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdMaXZpbmcgY29zdCBhbmFseXNpcyBlcnJvcjonLCBlcnJvcik7XG4gICAgICAvLyDkvb/nlKjlkI7lpIfkvLDnrpdcbiAgICAgIHJldHVybiB0aGlzLmdldEZhbGxiYWNrTGl2aW5nQ29zdHModXNlcklucHV0KTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIGdldFJlYWxUaW1lTGl2aW5nQ29zdHMoY2l0eTogc3RyaW5nLCBjb3VudHJ5OiAnVVMnIHwgJ0FVJyk6IFByb21pc2U8YW55PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHNlYXJjaFF1ZXJ5ID0gYCR7Y2l0eX0gJHtjb3VudHJ5fSBjb3N0IG9mIGxpdmluZyAyMDI0IHJlbnQgZm9vZCB0cmFuc3BvcnRhdGlvbiBtb250aGx5IGV4cGVuc2VzYDtcblxuICAgICAgY29uc3Qgc2VhcmNoUmVzdWx0cyA9IGF3YWl0IHNhZmVMTE1DbGllbnQuc2FmZVNlYXJjaChzZWFyY2hRdWVyeSk7XG5cbiAgICAgIGNvbnN0IGZhbGxiYWNrRGF0YSA9IHtcbiAgICAgICAgcmVudF8xYnI6IGNvdW50cnkgPT09ICdVUycgPyAxODAwIDogMTQwMCxcbiAgICAgICAgcmVudF8zYnI6IGNvdW50cnkgPT09ICdVUycgPyAzMDAwIDogMjIwMCxcbiAgICAgICAgZm9vZF9tb250aGx5OiBjb3VudHJ5ID09PSAnVVMnID8gNDUwIDogMzgwLFxuICAgICAgICB0cmFuc3BvcnRhdGlvbl9tb250aGx5OiBjb3VudHJ5ID09PSAnVVMnID8gMTUwIDogMTIwLFxuICAgICAgICB1dGlsaXRpZXNfbW9udGhseTogY291bnRyeSA9PT0gJ1VTJyA/IDE4MCA6IDE1MCxcbiAgICAgICAgZW50ZXJ0YWlubWVudF9tb250aGx5OiBjb3VudHJ5ID09PSAnVVMnID8gMzAwIDogMjUwLFxuICAgICAgICBzb3VyY2U6ICdOdW1iZW8uY29t5Lyw566XJ1xuICAgICAgfTtcblxuICAgICAgcmV0dXJuIGF3YWl0IHNhZmVMTE1DbGllbnQuZXh0cmFjdExpdmluZ0Nvc3RzKHNlYXJjaFJlc3VsdHMsIGZhbGxiYWNrRGF0YSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdSZWFsLXRpbWUgZGF0YSB1bmF2YWlsYWJsZSwgdXNpbmcgZXN0aW1hdGVzJyk7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGNhbGN1bGF0ZUFjY29tbW9kYXRpb25Db3N0KFxuICAgIGNvdW50cnk6ICdVUycgfCAnQVUnLFxuICAgIGFjY29tbW9kYXRpb246IHN0cmluZyxcbiAgICBsaWZlc3R5bGU6IHN0cmluZyxcbiAgICBjaXR5OiBzdHJpbmdcbiAgKSB7XG4gICAgY29uc3QgYmFzZUNvc3QgPSBBQ0NPTU1PREFUSU9OX0JBU0VfQ09TVFNbY291bnRyeV1bYWNjb21tb2RhdGlvbiBhcyBrZXlvZiB0eXBlb2YgQUNDT01NT0RBVElPTl9CQVNFX0NPU1RTWydVUyddXTtcblxuICAgIC8vIOWfjuW4guiwg+aVtOezu+aVsFxuICAgIGNvbnN0IGNpdHlNdWx0aXBsaWVycyA9IHtcbiAgICAgICdOZXcgWW9yayc6IDEuNixcbiAgICAgICdTYW4gRnJhbmNpc2NvJzogMS44LFxuICAgICAgJ0xvcyBBbmdlbGVzJzogMS40LFxuICAgICAgJ0NhbWJyaWRnZSc6IDEuNSxcbiAgICAgICdTeWRuZXknOiAxLjQsXG4gICAgICAnTWVsYm91cm5lJzogMS4yLFxuICAgICAgJ0NhbmJlcnJhJzogMS4xLFxuICAgIH07XG5cbiAgICBjb25zdCBjaXR5TXVsdGlwbGllciA9IChjaXR5TXVsdGlwbGllcnMgYXMgYW55KVtjaXR5XSB8fCAxLjA7XG4gICAgY29uc3QgYWRqdXN0ZWRDb3N0ID0gYWRqdXN0Rm9yTGlmZXN0eWxlKGJhc2VDb3N0ICogY2l0eU11bHRpcGxpZXIsIGxpZmVzdHlsZSBhcyBhbnkpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIGFtb3VudDogTWF0aC5yb3VuZChhZGp1c3RlZENvc3QpLFxuICAgICAgdHlwZTogYWNjb21tb2RhdGlvbixcbiAgICAgIHJhbmdlOiBjYWxjdWxhdGVSYW5nZShhZGp1c3RlZENvc3QsIDAuMylcbiAgICB9O1xuICB9XG5cbiAgcHJpdmF0ZSBjYWxjdWxhdGVGb29kQ29zdChcbiAgICBjb3VudHJ5OiAnVVMnIHwgJ0FVJyxcbiAgICBsaWZlc3R5bGU6IHN0cmluZyxcbiAgICBkaWV0Pzogc3RyaW5nLFxuICAgIGNpdHk/OiBzdHJpbmdcbiAgKSB7XG4gICAgY29uc3QgYmFzZUZvb2QgPSBjb3VudHJ5ID09PSAnVVMnID8gNDAwIDogMzUwOyAvLyDln7rnoYDpo5/nianmiJDmnKxcblxuICAgIC8vIOmlrumjn+iwg+aVtFxuICAgIGNvbnN0IGRpZXRNdWx0aXBsaWVycyA9IHtcbiAgICAgICdub3JtYWwnOiAxLjAsXG4gICAgICAndmVnZXRhcmlhbic6IDAuODUsXG4gICAgICAnaGFsYWwnOiAxLjEsXG4gICAgICAna29zaGVyJzogMS4yLFxuICAgICAgJ2N1c3RvbSc6IDEuMTVcbiAgICB9O1xuXG4gICAgY29uc3QgZGlldE11bHRpcGxpZXIgPSAoZGlldE11bHRpcGxpZXJzIGFzIGFueSlbZGlldCB8fCAnbm9ybWFsJ107XG4gICAgY29uc3QgYWRqdXN0ZWRDb3N0ID0gYWRqdXN0Rm9yTGlmZXN0eWxlKGJhc2VGb29kICogZGlldE11bHRpcGxpZXIsIGxpZmVzdHlsZSBhcyBhbnkpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIGFtb3VudDogTWF0aC5yb3VuZChhZGp1c3RlZENvc3QpLFxuICAgICAgcmFuZ2U6IGNhbGN1bGF0ZVJhbmdlKGFkanVzdGVkQ29zdCwgMC40KVxuICAgIH07XG4gIH1cblxuICBwcml2YXRlIGNhbGN1bGF0ZVRyYW5zcG9ydGF0aW9uQ29zdChcbiAgICBjb3VudHJ5OiAnVVMnIHwgJ0FVJyxcbiAgICB0cmFuc3BvcnRhdGlvbj86IHN0cmluZyxcbiAgICBsaWZlc3R5bGU/OiBzdHJpbmcsXG4gICAgY2l0eT86IHN0cmluZ1xuICApIHtcbiAgICBjb25zdCB0cmFuc3BvcnRDb3N0cyA9IHtcbiAgICAgICd3YWxraW5nJzogY291bnRyeSA9PT0gJ1VTJyA/IDUwIDogNDAsXG4gICAgICAncHVibGljJzogY291bnRyeSA9PT0gJ1VTJyA/IDEyMCA6IDEwMCxcbiAgICAgICdiaWtlJzogY291bnRyeSA9PT0gJ1VTJyA/IDMwIDogMjUsXG4gICAgICAnY2FyJzogY291bnRyeSA9PT0gJ1VTJyA/IDQwMCA6IDM1MFxuICAgIH07XG5cbiAgICBjb25zdCBiYXNlQ29zdCA9ICh0cmFuc3BvcnRDb3N0cyBhcyBhbnkpW3RyYW5zcG9ydGF0aW9uIHx8ICdwdWJsaWMnXTtcbiAgICBjb25zdCBhZGp1c3RlZENvc3QgPSBhZGp1c3RGb3JMaWZlc3R5bGUoYmFzZUNvc3QsIGxpZmVzdHlsZSBhcyBhbnkpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIGFtb3VudDogTWF0aC5yb3VuZChhZGp1c3RlZENvc3QpLFxuICAgICAgcmFuZ2U6IGNhbGN1bGF0ZVJhbmdlKGFkanVzdGVkQ29zdCwgMC4zKVxuICAgIH07XG4gIH1cblxuICBwcml2YXRlIGNhbGN1bGF0ZVV0aWxpdGllc0Nvc3QoXG4gICAgY291bnRyeTogJ1VTJyB8ICdBVScsXG4gICAgYWNjb21tb2RhdGlvbjogc3RyaW5nLFxuICAgIGxpZmVzdHlsZTogc3RyaW5nXG4gICkge1xuICAgIGNvbnN0IGJhc2VVdGlsaXRpZXMgPSBjb3VudHJ5ID09PSAnVVMnID8gMTUwIDogMTMwO1xuXG4gICAgLy8g5L2P5a6/57G75Z6L6LCD5pW0XG4gICAgY29uc3QgYWNjb21tb2RhdGlvbk11bHRpcGxpZXJzID0ge1xuICAgICAgJ2Rvcm1pdG9yeSc6IDAuMywgLy8g5a6/6IiN6YCa5bi45YyF5ZCr5Zyo6LS555So5LitXG4gICAgICAnc2hhcmVkJzogMC41LFxuICAgICAgJ3N0dWRpbyc6IDAuOCxcbiAgICAgICdhcGFydG1lbnQnOiAxLjBcbiAgICB9O1xuXG4gICAgY29uc3QgYWNjb21tb2RhdGlvbk11bHRpcGxpZXIgPSAoYWNjb21tb2RhdGlvbk11bHRpcGxpZXJzIGFzIGFueSlbYWNjb21tb2RhdGlvbl07XG4gICAgY29uc3QgYWRqdXN0ZWRDb3N0ID0gYWRqdXN0Rm9yTGlmZXN0eWxlKGJhc2VVdGlsaXRpZXMgKiBhY2NvbW1vZGF0aW9uTXVsdGlwbGllciwgbGlmZXN0eWxlIGFzIGFueSk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgYW1vdW50OiBNYXRoLnJvdW5kKGFkanVzdGVkQ29zdCksXG4gICAgICByYW5nZTogY2FsY3VsYXRlUmFuZ2UoYWRqdXN0ZWRDb3N0LCAwLjMpXG4gICAgfTtcbiAgfVxuXG4gIHByaXZhdGUgY2FsY3VsYXRlRW50ZXJ0YWlubWVudENvc3QoXG4gICAgY291bnRyeTogJ1VTJyB8ICdBVScsXG4gICAgbGlmZXN0eWxlOiBzdHJpbmcsXG4gICAgY2l0eTogc3RyaW5nXG4gICkge1xuICAgIGNvbnN0IGJhc2VFbnRlcnRhaW5tZW50ID0gY291bnRyeSA9PT0gJ1VTJyA/IDI1MCA6IDIwMDtcbiAgICBjb25zdCBhZGp1c3RlZENvc3QgPSBhZGp1c3RGb3JMaWZlc3R5bGUoYmFzZUVudGVydGFpbm1lbnQsIGxpZmVzdHlsZSBhcyBhbnkpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIGFtb3VudDogTWF0aC5yb3VuZChhZGp1c3RlZENvc3QpLFxuICAgICAgcmFuZ2U6IGNhbGN1bGF0ZVJhbmdlKGFkanVzdGVkQ29zdCwgMC41KVxuICAgIH07XG4gIH1cblxuICBwcml2YXRlIGNhbGN1bGF0ZU1pc2NlbGxhbmVvdXNDb3N0KFxuICAgIGNvdW50cnk6ICdVUycgfCAnQVUnLFxuICAgIGxpZmVzdHlsZTogc3RyaW5nXG4gICkge1xuICAgIGNvbnN0IGJhc2VNaXNjID0gY291bnRyeSA9PT0gJ1VTJyA/IDIwMCA6IDE4MDtcbiAgICBjb25zdCBhZGp1c3RlZENvc3QgPSBhZGp1c3RGb3JMaWZlc3R5bGUoYmFzZU1pc2MsIGxpZmVzdHlsZSBhcyBhbnkpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIGFtb3VudDogTWF0aC5yb3VuZChhZGp1c3RlZENvc3QpLFxuICAgICAgcmFuZ2U6IGNhbGN1bGF0ZVJhbmdlKGFkanVzdGVkQ29zdCwgMC40KVxuICAgIH07XG4gIH1cblxuICBwcml2YXRlIGdldEZhbGxiYWNrTGl2aW5nQ29zdHModXNlcklucHV0OiBVc2VySW5wdXQpOiBMaXZpbmdDb3N0cyB7XG4gICAgY29uc3QgeyBjb3VudHJ5LCBsaWZlc3R5bGUgfSA9IHVzZXJJbnB1dDtcbiAgICBjb25zdCBjdXJyZW5jeSA9IGNvdW50cnkgPT09ICdVUycgPyAnVVNEJyA6ICdBVUQnO1xuXG4gICAgLy8g57Sn5oCl5ZCO5aSH5pWw5o2uXG4gICAgY29uc3QgZmFsbGJhY2tEYXRhID0ge1xuICAgICAgJ1VTJzoge1xuICAgICAgICAnZWNvbm9teSc6IHsgdG90YWw6IDE4MDAgfSxcbiAgICAgICAgJ3N0YW5kYXJkJzogeyB0b3RhbDogMjUwMCB9LFxuICAgICAgICAnY29tZm9ydGFibGUnOiB7IHRvdGFsOiAzMjAwIH1cbiAgICAgIH0sXG4gICAgICAnQVUnOiB7XG4gICAgICAgICdlY29ub215JzogeyB0b3RhbDogMTYwMCB9LFxuICAgICAgICAnc3RhbmRhcmQnOiB7IHRvdGFsOiAyMjAwIH0sXG4gICAgICAgICdjb21mb3J0YWJsZSc6IHsgdG90YWw6IDI4MDAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCB0b3RhbENvc3QgPSAoZmFsbGJhY2tEYXRhIGFzIGFueSlbY291bnRyeV1bbGlmZXN0eWxlXS50b3RhbDtcblxuICAgIHJldHVybiB7XG4gICAgICBhY2NvbW1vZGF0aW9uOiB7IGFtb3VudDogTWF0aC5yb3VuZCh0b3RhbENvc3QgKiAwLjQpLCB0eXBlOiB1c2VySW5wdXQuYWNjb21tb2RhdGlvbiwgcmFuZ2U6IGNhbGN1bGF0ZVJhbmdlKHRvdGFsQ29zdCAqIDAuNCkgfSxcbiAgICAgIGZvb2Q6IHsgYW1vdW50OiBNYXRoLnJvdW5kKHRvdGFsQ29zdCAqIDAuMjUpLCByYW5nZTogY2FsY3VsYXRlUmFuZ2UodG90YWxDb3N0ICogMC4yNSkgfSxcbiAgICAgIHRyYW5zcG9ydGF0aW9uOiB7IGFtb3VudDogTWF0aC5yb3VuZCh0b3RhbENvc3QgKiAwLjEpLCByYW5nZTogY2FsY3VsYXRlUmFuZ2UodG90YWxDb3N0ICogMC4xKSB9LFxuICAgICAgdXRpbGl0aWVzOiB7IGFtb3VudDogTWF0aC5yb3VuZCh0b3RhbENvc3QgKiAwLjEpLCByYW5nZTogY2FsY3VsYXRlUmFuZ2UodG90YWxDb3N0ICogMC4xKSB9LFxuICAgICAgZW50ZXJ0YWlubWVudDogeyBhbW91bnQ6IE1hdGgucm91bmQodG90YWxDb3N0ICogMC4xKSwgcmFuZ2U6IGNhbGN1bGF0ZVJhbmdlKHRvdGFsQ29zdCAqIDAuMSkgfSxcbiAgICAgIG1pc2NlbGxhbmVvdXM6IHsgYW1vdW50OiBNYXRoLnJvdW5kKHRvdGFsQ29zdCAqIDAuMDUpLCByYW5nZTogY2FsY3VsYXRlUmFuZ2UodG90YWxDb3N0ICogMC4wNSkgfSxcbiAgICAgIHRvdGFsOiB7IGFtb3VudDogdG90YWxDb3N0LCByYW5nZTogY2FsY3VsYXRlUmFuZ2UodG90YWxDb3N0KSB9LFxuICAgICAgY3VycmVuY3ksXG4gICAgICBwZXJpb2Q6ICdtb250aGx5JyxcbiAgICAgIHNvdXJjZXM6IFsn5YaF6YOo5pWw5o2u5bqT5Lyw566XJ11cbiAgICB9O1xuICB9XG59Il0sIm5hbWVzIjpbInNhZmVMTE1DbGllbnQiLCJDSVRJRVMiLCJBQ0NPTU1PREFUSU9OX0JBU0VfQ09TVFMiLCJhZGp1c3RGb3JMaWZlc3R5bGUiLCJjYWxjdWxhdGVSYW5nZSIsIkxpdmluZ0Nvc3RBZ2VudCIsImFuYWx5emVMaXZpbmdDb3N0cyIsInVzZXJJbnB1dCIsImNvdW50cnkiLCJjaXR5IiwibGlmZXN0eWxlIiwiYWNjb21tb2RhdGlvbiIsImRpZXQiLCJ0cmFuc3BvcnRhdGlvbiIsImNpdHlEYXRhIiwiZmluZCIsImMiLCJuYW1lIiwiRXJyb3IiLCJyZWFsVGltZURhdGEiLCJnZXRSZWFsVGltZUxpdmluZ0Nvc3RzIiwiYWNjb21tb2RhdGlvbkNvc3QiLCJjYWxjdWxhdGVBY2NvbW1vZGF0aW9uQ29zdCIsImZvb2RDb3N0IiwiY2FsY3VsYXRlRm9vZENvc3QiLCJ0cmFuc3BvcnRhdGlvbkNvc3QiLCJjYWxjdWxhdGVUcmFuc3BvcnRhdGlvbkNvc3QiLCJ1dGlsaXRpZXNDb3N0IiwiY2FsY3VsYXRlVXRpbGl0aWVzQ29zdCIsImVudGVydGFpbm1lbnRDb3N0IiwiY2FsY3VsYXRlRW50ZXJ0YWlubWVudENvc3QiLCJtaXNjZWxsYW5lb3VzQ29zdCIsImNhbGN1bGF0ZU1pc2NlbGxhbmVvdXNDb3N0IiwidG90YWxNb250aGx5Q29zdCIsImFtb3VudCIsImN1cnJlbmN5IiwiZm9vZCIsInV0aWxpdGllcyIsImVudGVydGFpbm1lbnQiLCJtaXNjZWxsYW5lb3VzIiwidG90YWwiLCJNYXRoIiwicm91bmQiLCJyYW5nZSIsInBlcmlvZCIsInNvdXJjZXMiLCJzb3VyY2UiLCJlcnJvciIsImNvbnNvbGUiLCJnZXRGYWxsYmFja0xpdmluZ0Nvc3RzIiwic2VhcmNoUXVlcnkiLCJzZWFyY2hSZXN1bHRzIiwic2FmZVNlYXJjaCIsImZhbGxiYWNrRGF0YSIsInJlbnRfMWJyIiwicmVudF8zYnIiLCJmb29kX21vbnRobHkiLCJ0cmFuc3BvcnRhdGlvbl9tb250aGx5IiwidXRpbGl0aWVzX21vbnRobHkiLCJlbnRlcnRhaW5tZW50X21vbnRobHkiLCJleHRyYWN0TGl2aW5nQ29zdHMiLCJsb2ciLCJiYXNlQ29zdCIsImNpdHlNdWx0aXBsaWVycyIsImNpdHlNdWx0aXBsaWVyIiwiYWRqdXN0ZWRDb3N0IiwidHlwZSIsImJhc2VGb29kIiwiZGlldE11bHRpcGxpZXJzIiwiZGlldE11bHRpcGxpZXIiLCJ0cmFuc3BvcnRDb3N0cyIsImJhc2VVdGlsaXRpZXMiLCJhY2NvbW1vZGF0aW9uTXVsdGlwbGllcnMiLCJhY2NvbW1vZGF0aW9uTXVsdGlwbGllciIsImJhc2VFbnRlcnRhaW5tZW50IiwiYmFzZU1pc2MiLCJ0b3RhbENvc3QiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/agents/living-cost-agent.ts\n");

/***/ }),

/***/ "(rsc)/./lib/agents/other-costs-agent.ts":
/*!*****************************************!*\
  !*** ./lib/agents/other-costs-agent.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   OtherCostsAgent: () => (/* binding */ OtherCostsAgent)\n/* harmony export */ });\n/* harmony import */ var _safe_llm_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../safe-llm-client */ \"(rsc)/./lib/safe-llm-client.ts\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../constants */ \"(rsc)/./lib/constants.ts\");\n\n\nclass OtherCostsAgent {\n    async calculateOtherCosts(userInput) {\n        const { country, university, level } = userInput;\n        try {\n            // 并行获取各种费用信息\n            const [applicationFee, visaFee, healthInsurance] = await Promise.all([\n                this.getApplicationFee(university, level, country),\n                this.getVisaFee(country),\n                this.getHealthInsurance(country, university)\n            ]);\n            const currency = country === 'US' ? 'USD' : 'AUD';\n            return {\n                applicationFee,\n                visaFee,\n                healthInsurance,\n                currency\n            };\n        } catch (error) {\n            console.error('Other costs calculation error:', error);\n            return this.getFallbackOtherCosts(userInput);\n        }\n    }\n    async getApplicationFee(university, level, country) {\n        try {\n            // 获取大学官网信息\n            const universityData = [\n                ..._constants__WEBPACK_IMPORTED_MODULE_1__.US_UNIVERSITIES,\n                ..._constants__WEBPACK_IMPORTED_MODULE_1__.AU_UNIVERSITIES\n            ].find((uni)=>uni.name === university);\n            if (!universityData) {\n                throw new Error('University not found');\n            }\n            // 搜索申请费信息\n            const searchQuery = `${university} application fee ${level} ${new Date().getFullYear()} international students`;\n            const searchResults = await _safe_llm_client__WEBPACK_IMPORTED_MODULE_0__.safeLLMClient.safeSearch(searchQuery);\n            const fallbackData = {\n                application_fee: country === 'US' ? 85 : 100,\n                source_url: universityData.website,\n                confidence: 0.5\n            };\n            const extractedData = await _safe_llm_client__WEBPACK_IMPORTED_MODULE_0__.safeLLMClient.extractApplicationFee(searchResults, fallbackData);\n            if (extractedData && extractedData.application_fee && extractedData.confidence > 0.6) {\n                return {\n                    amount: extractedData.application_fee,\n                    source: this.validateUrl(extractedData.source_url) || universityData.website\n                };\n            }\n            // 使用默认估算\n            const defaultFees = {\n                'US': {\n                    'undergraduate': 85,\n                    'graduate': 110\n                },\n                'AU': {\n                    'undergraduate': 100,\n                    'graduate': 125\n                }\n            };\n            return {\n                amount: defaultFees[country][level],\n                source: `${university}申请费估算`\n            };\n        } catch (error) {\n            console.error('Application fee query failed:', error);\n            // 紧急后备费用\n            const emergencyFees = {\n                'US': {\n                    'undergraduate': 75,\n                    'graduate': 100\n                },\n                'AU': {\n                    'undergraduate': 80,\n                    'graduate': 100\n                }\n            };\n            return {\n                amount: emergencyFees[country][level],\n                source: '基于市场平均数据估算'\n            };\n        }\n    }\n    async getVisaFee(country) {\n        try {\n            if (country === 'US') {\n                return {\n                    amount: _constants__WEBPACK_IMPORTED_MODULE_1__.VISA_FEES.US.F1,\n                    source: _constants__WEBPACK_IMPORTED_MODULE_1__.VISA_FEES.US.source\n                };\n            } else {\n                return {\n                    amount: _constants__WEBPACK_IMPORTED_MODULE_1__.VISA_FEES.AU.student,\n                    source: _constants__WEBPACK_IMPORTED_MODULE_1__.VISA_FEES.AU.source\n                };\n            }\n        } catch (error) {\n            console.error('Visa fee query failed:', error);\n            // 后备费用\n            return {\n                amount: country === 'US' ? 350 : 650,\n                source: `${country}学生签证费用（估算）`\n            };\n        }\n    }\n    async getHealthInsurance(country, university) {\n        try {\n            // 搜索健康保险要求\n            const searchQuery = `${university} health insurance requirement cost international students ${country} ${new Date().getFullYear()}`;\n            const searchResults = await _safe_llm_client__WEBPACK_IMPORTED_MODULE_0__.safeLLMClient.safeSearch(searchQuery);\n            const fallbackData = {\n                insurance_cost_annual: country === 'US' ? 2500 : 600,\n                is_mandatory: true,\n                source_url: `${university}健康保险要求`,\n                confidence: 0.5\n            };\n            const extractedData = await _safe_llm_client__WEBPACK_IMPORTED_MODULE_0__.safeLLMClient.extractHealthInsurance(searchResults, fallbackData);\n            if (extractedData && extractedData.insurance_cost_annual && extractedData.is_mandatory) {\n                return {\n                    amount: extractedData.insurance_cost_annual,\n                    source: this.validateUrl(extractedData.source_url) || `${university}健康保险要求`\n                };\n            }\n            // 根据国家返回典型保险费用\n            const typicalInsurance = {\n                'US': 2500,\n                'AU': 600\n            };\n            return {\n                amount: typicalInsurance[country],\n                source: `${country}国际学生健康保险典型费用`\n            };\n        } catch (error) {\n            console.log('Health insurance data not available');\n            // 某些情况下可能不是强制性的，返回undefined\n            if (country === 'AU') {\n                return {\n                    amount: 600,\n                    source: '澳大利亚海外学生健康保险(OSHC)'\n                };\n            }\n            return undefined;\n        }\n    }\n    getFallbackOtherCosts(userInput) {\n        const { country, level } = userInput;\n        const currency = country === 'US' ? 'USD' : 'AUD';\n        // 紧急后备数据\n        const fallbackData = {\n            'US': {\n                applicationFee: {\n                    amount: 85,\n                    source: '美国大学申请费估算'\n                },\n                visaFee: {\n                    amount: 350,\n                    source: '美国F-1学生签证费用'\n                },\n                healthInsurance: {\n                    amount: 2500,\n                    source: '美国国际学生健康保险估算'\n                }\n            },\n            'AU': {\n                applicationFee: {\n                    amount: 100,\n                    source: '澳大利亚大学申请费估算'\n                },\n                visaFee: {\n                    amount: 650,\n                    source: '澳大利亚学生签证费用'\n                },\n                healthInsurance: {\n                    amount: 600,\n                    source: 'OSHC海外学生健康保险'\n                }\n            }\n        };\n        const data = fallbackData[country];\n        return {\n            applicationFee: data.applicationFee,\n            visaFee: data.visaFee,\n            healthInsurance: data.healthInsurance,\n            currency\n        };\n    }\n    async getAdditionalCosts(userInput) {\n        // 可扩展的其他费用查询\n        try {\n            const additionalCosts = {};\n            // 根据用户输入查询其他相关费用\n            // 例如：机票、英语考试费用、材料费等\n            return additionalCosts;\n        } catch (error) {\n            console.error('Additional costs query failed:', error);\n            return {};\n        }\n    }\n    validateUrl(url) {\n        if (!url || typeof url !== 'string') {\n            return null;\n        }\n        try {\n            // 检查是否是有效的URL\n            new URL(url);\n            // 检查是否包含中文字符\n            const chineseRegex = /[\\u4e00-\\u9fff]/;\n            if (chineseRegex.test(url)) {\n                return null;\n            }\n            // 检查是否是合理的域名\n            if (url.includes('http') && url.includes('.')) {\n                return url;\n            }\n            return null;\n        } catch (error) {\n            return null;\n        }\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SUFFQSxNQUFNcUMsbUJBQ0pqRCxTQUFvQixFQUM0QztRQUNoRSxhQUFhO1FBQ2IsSUFBSTtZQUNGLE1BQU1rRCxrQkFBeUUsQ0FBQztZQUVoRixpQkFBaUI7WUFDakIsb0JBQW9CO1lBRXBCLE9BQU9BO1FBQ1QsRUFBRSxPQUFPckMsT0FBTztZQUNkQyxRQUFRRCxLQUFLLENBQUMsa0NBQWtDQTtZQUNoRCxPQUFPLENBQUM7UUFDVjtJQUNGO0lBRVFzQixZQUFZZ0IsR0FBVyxFQUFpQjtRQUM5QyxJQUFJLENBQUNBLE9BQU8sT0FBT0EsUUFBUSxVQUFVO1lBQ25DLE9BQU87UUFDVDtRQUVBLElBQUk7WUFDRixjQUFjO1lBQ2QsSUFBSUMsSUFBSUQ7WUFFUixhQUFhO1lBQ2IsTUFBTUUsZUFBZTtZQUNyQixJQUFJQSxhQUFhQyxJQUFJLENBQUNILE1BQU07Z0JBQzFCLE9BQU87WUFDVDtZQUVBLGFBQWE7WUFDYixJQUFJQSxJQUFJSSxRQUFRLENBQUMsV0FBV0osSUFBSUksUUFBUSxDQUFDLE1BQU07Z0JBQzdDLE9BQU9KO1lBQ1Q7WUFFQSxPQUFPO1FBQ1QsRUFBRSxPQUFPdEMsT0FBTztZQUNkLE9BQU87UUFDVDtJQUNGO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jb3N0LWVzdGltYXRvci8uL2xpYi9hZ2VudHMvb3RoZXItY29zdHMtYWdlbnQudHM/YmQzZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBvcGVuUm91dGVyQ2xpZW50IH0gZnJvbSAnLi4vb3BlbnJvdXRlcic7XG5pbXBvcnQgeyBzYWZlTExNQ2xpZW50IH0gZnJvbSAnLi4vc2FmZS1sbG0tY2xpZW50JztcbmltcG9ydCB7IFVzZXJJbnB1dCwgT3RoZXJDb3N0cyB9IGZyb20gJ0AvdHlwZXMnO1xuaW1wb3J0IHsgVklTQV9GRUVTLCBVU19VTklWRVJTSVRJRVMsIEFVX1VOSVZFUlNJVElFUyB9IGZyb20gJy4uL2NvbnN0YW50cyc7XG5cbmV4cG9ydCBjbGFzcyBPdGhlckNvc3RzQWdlbnQge1xuICBhc3luYyBjYWxjdWxhdGVPdGhlckNvc3RzKHVzZXJJbnB1dDogVXNlcklucHV0KTogUHJvbWlzZTxPdGhlckNvc3RzPiB7XG4gICAgY29uc3QgeyBjb3VudHJ5LCB1bml2ZXJzaXR5LCBsZXZlbCB9ID0gdXNlcklucHV0O1xuXG4gICAgdHJ5IHtcbiAgICAgIC8vIOW5tuihjOiOt+WPluWQhOenjei0ueeUqOS/oeaBr1xuICAgICAgY29uc3QgW2FwcGxpY2F0aW9uRmVlLCB2aXNhRmVlLCBoZWFsdGhJbnN1cmFuY2VdID0gYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgICAgICB0aGlzLmdldEFwcGxpY2F0aW9uRmVlKHVuaXZlcnNpdHksIGxldmVsLCBjb3VudHJ5KSxcbiAgICAgICAgdGhpcy5nZXRWaXNhRmVlKGNvdW50cnkpLFxuICAgICAgICB0aGlzLmdldEhlYWx0aEluc3VyYW5jZShjb3VudHJ5LCB1bml2ZXJzaXR5KVxuICAgICAgXSk7XG5cbiAgICAgIGNvbnN0IGN1cnJlbmN5ID0gY291bnRyeSA9PT0gJ1VTJyA/ICdVU0QnIDogJ0FVRCc7XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGFwcGxpY2F0aW9uRmVlLFxuICAgICAgICB2aXNhRmVlLFxuICAgICAgICBoZWFsdGhJbnN1cmFuY2UsXG4gICAgICAgIGN1cnJlbmN5XG4gICAgICB9O1xuXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ090aGVyIGNvc3RzIGNhbGN1bGF0aW9uIGVycm9yOicsIGVycm9yKTtcbiAgICAgIHJldHVybiB0aGlzLmdldEZhbGxiYWNrT3RoZXJDb3N0cyh1c2VySW5wdXQpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgZ2V0QXBwbGljYXRpb25GZWUoXG4gICAgdW5pdmVyc2l0eTogc3RyaW5nLFxuICAgIGxldmVsOiAndW5kZXJncmFkdWF0ZScgfCAnZ3JhZHVhdGUnLFxuICAgIGNvdW50cnk6ICdVUycgfCAnQVUnXG4gICk6IFByb21pc2U8eyBhbW91bnQ6IG51bWJlcjsgc291cmNlOiBzdHJpbmcgfT4ge1xuICAgIHRyeSB7XG4gICAgICAvLyDojrflj5blpKflrablrpjnvZHkv6Hmga9cbiAgICAgIGNvbnN0IHVuaXZlcnNpdHlEYXRhID0gWy4uLlVTX1VOSVZFUlNJVElFUywgLi4uQVVfVU5JVkVSU0lUSUVTXS5maW5kKFxuICAgICAgICB1bmkgPT4gdW5pLm5hbWUgPT09IHVuaXZlcnNpdHlcbiAgICAgICk7XG5cbiAgICAgIGlmICghdW5pdmVyc2l0eURhdGEpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbml2ZXJzaXR5IG5vdCBmb3VuZCcpO1xuICAgICAgfVxuXG4gICAgICAvLyDmkJzntKLnlLPor7fotLnkv6Hmga9cbiAgICAgIGNvbnN0IHNlYXJjaFF1ZXJ5ID0gYCR7dW5pdmVyc2l0eX0gYXBwbGljYXRpb24gZmVlICR7bGV2ZWx9ICR7bmV3IERhdGUoKS5nZXRGdWxsWWVhcigpfSBpbnRlcm5hdGlvbmFsIHN0dWRlbnRzYDtcblxuICAgICAgY29uc3Qgc2VhcmNoUmVzdWx0cyA9IGF3YWl0IHNhZmVMTE1DbGllbnQuc2FmZVNlYXJjaChzZWFyY2hRdWVyeSk7XG5cbiAgICAgIGNvbnN0IGZhbGxiYWNrRGF0YSA9IHtcbiAgICAgICAgYXBwbGljYXRpb25fZmVlOiBjb3VudHJ5ID09PSAnVVMnID8gODUgOiAxMDAsXG4gICAgICAgIHNvdXJjZV91cmw6IHVuaXZlcnNpdHlEYXRhLndlYnNpdGUsXG4gICAgICAgIGNvbmZpZGVuY2U6IDAuNVxuICAgICAgfTtcblxuICAgICAgY29uc3QgZXh0cmFjdGVkRGF0YSA9IGF3YWl0IHNhZmVMTE1DbGllbnQuZXh0cmFjdEFwcGxpY2F0aW9uRmVlKHNlYXJjaFJlc3VsdHMsIGZhbGxiYWNrRGF0YSk7XG5cbiAgICAgIGlmIChleHRyYWN0ZWREYXRhICYmIGV4dHJhY3RlZERhdGEuYXBwbGljYXRpb25fZmVlICYmIGV4dHJhY3RlZERhdGEuY29uZmlkZW5jZSA+IDAuNikge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGFtb3VudDogZXh0cmFjdGVkRGF0YS5hcHBsaWNhdGlvbl9mZWUsXG4gICAgICAgICAgc291cmNlOiB0aGlzLnZhbGlkYXRlVXJsKGV4dHJhY3RlZERhdGEuc291cmNlX3VybCkgfHwgdW5pdmVyc2l0eURhdGEud2Vic2l0ZVxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICAvLyDkvb/nlKjpu5jorqTkvLDnrpdcbiAgICAgIGNvbnN0IGRlZmF1bHRGZWVzID0ge1xuICAgICAgICAnVVMnOiB7ICd1bmRlcmdyYWR1YXRlJzogODUsICdncmFkdWF0ZSc6IDExMCB9LFxuICAgICAgICAnQVUnOiB7ICd1bmRlcmdyYWR1YXRlJzogMTAwLCAnZ3JhZHVhdGUnOiAxMjUgfVxuICAgICAgfTtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgYW1vdW50OiAoZGVmYXVsdEZlZXMgYXMgYW55KVtjb3VudHJ5XVtsZXZlbF0sXG4gICAgICAgIHNvdXJjZTogYCR7dW5pdmVyc2l0eX3nlLPor7fotLnkvLDnrpdgXG4gICAgICB9O1xuXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0FwcGxpY2F0aW9uIGZlZSBxdWVyeSBmYWlsZWQ6JywgZXJyb3IpO1xuXG4gICAgICAvLyDntKfmgKXlkI7lpIfotLnnlKhcbiAgICAgIGNvbnN0IGVtZXJnZW5jeUZlZXMgPSB7XG4gICAgICAgICdVUyc6IHsgJ3VuZGVyZ3JhZHVhdGUnOiA3NSwgJ2dyYWR1YXRlJzogMTAwIH0sXG4gICAgICAgICdBVSc6IHsgJ3VuZGVyZ3JhZHVhdGUnOiA4MCwgJ2dyYWR1YXRlJzogMTAwIH1cbiAgICAgIH07XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGFtb3VudDogKGVtZXJnZW5jeUZlZXMgYXMgYW55KVtjb3VudHJ5XVtsZXZlbF0sXG4gICAgICAgIHNvdXJjZTogJ+WfuuS6juW4guWcuuW5s+Wdh+aVsOaNruS8sOeulydcbiAgICAgIH07XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBnZXRWaXNhRmVlKGNvdW50cnk6ICdVUycgfCAnQVUnKTogUHJvbWlzZTx7IGFtb3VudDogbnVtYmVyOyBzb3VyY2U6IHN0cmluZyB9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGlmIChjb3VudHJ5ID09PSAnVVMnKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgYW1vdW50OiBWSVNBX0ZFRVMuVVMuRjEsXG4gICAgICAgICAgc291cmNlOiBWSVNBX0ZFRVMuVVMuc291cmNlXG4gICAgICAgIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGFtb3VudDogVklTQV9GRUVTLkFVLnN0dWRlbnQsXG4gICAgICAgICAgc291cmNlOiBWSVNBX0ZFRVMuQVUuc291cmNlXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1Zpc2EgZmVlIHF1ZXJ5IGZhaWxlZDonLCBlcnJvcik7XG5cbiAgICAgIC8vIOWQjuWkh+i0ueeUqFxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgYW1vdW50OiBjb3VudHJ5ID09PSAnVVMnID8gMzUwIDogNjUwLFxuICAgICAgICBzb3VyY2U6IGAke2NvdW50cnl95a2m55Sf562+6K+B6LS555So77yI5Lyw566X77yJYFxuICAgICAgfTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIGdldEhlYWx0aEluc3VyYW5jZShcbiAgICBjb3VudHJ5OiAnVVMnIHwgJ0FVJyxcbiAgICB1bml2ZXJzaXR5OiBzdHJpbmdcbiAgKTogUHJvbWlzZTx7IGFtb3VudDogbnVtYmVyOyBzb3VyY2U6IHN0cmluZyB9IHwgdW5kZWZpbmVkPiB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIOaQnOe0ouWBpeW6t+S/nemZqeimgeaxglxuICAgICAgY29uc3Qgc2VhcmNoUXVlcnkgPSBgJHt1bml2ZXJzaXR5fSBoZWFsdGggaW5zdXJhbmNlIHJlcXVpcmVtZW50IGNvc3QgaW50ZXJuYXRpb25hbCBzdHVkZW50cyAke2NvdW50cnl9ICR7bmV3IERhdGUoKS5nZXRGdWxsWWVhcigpfWA7XG5cbiAgICAgIGNvbnN0IHNlYXJjaFJlc3VsdHMgPSBhd2FpdCBzYWZlTExNQ2xpZW50LnNhZmVTZWFyY2goc2VhcmNoUXVlcnkpO1xuXG4gICAgICBjb25zdCBmYWxsYmFja0RhdGEgPSB7XG4gICAgICAgIGluc3VyYW5jZV9jb3N0X2FubnVhbDogY291bnRyeSA9PT0gJ1VTJyA/IDI1MDAgOiA2MDAsXG4gICAgICAgIGlzX21hbmRhdG9yeTogdHJ1ZSxcbiAgICAgICAgc291cmNlX3VybDogYCR7dW5pdmVyc2l0eX3lgaXlurfkv53pmanopoHmsYJgLFxuICAgICAgICBjb25maWRlbmNlOiAwLjVcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IGV4dHJhY3RlZERhdGEgPSBhd2FpdCBzYWZlTExNQ2xpZW50LmV4dHJhY3RIZWFsdGhJbnN1cmFuY2Uoc2VhcmNoUmVzdWx0cywgZmFsbGJhY2tEYXRhKTtcblxuICAgICAgaWYgKGV4dHJhY3RlZERhdGEgJiYgZXh0cmFjdGVkRGF0YS5pbnN1cmFuY2VfY29zdF9hbm51YWwgJiYgZXh0cmFjdGVkRGF0YS5pc19tYW5kYXRvcnkpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBhbW91bnQ6IGV4dHJhY3RlZERhdGEuaW5zdXJhbmNlX2Nvc3RfYW5udWFsLFxuICAgICAgICAgIHNvdXJjZTogdGhpcy52YWxpZGF0ZVVybChleHRyYWN0ZWREYXRhLnNvdXJjZV91cmwpIHx8IGAke3VuaXZlcnNpdHl95YGl5bq35L+d6Zmp6KaB5rGCYFxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICAvLyDmoLnmja7lm73lrrbov5Tlm57lhbjlnovkv53pmanotLnnlKhcbiAgICAgIGNvbnN0IHR5cGljYWxJbnN1cmFuY2UgPSB7XG4gICAgICAgICdVUyc6IDI1MDAsXG4gICAgICAgICdBVSc6IDYwMFxuICAgICAgfTtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgYW1vdW50OiB0eXBpY2FsSW5zdXJhbmNlW2NvdW50cnldLFxuICAgICAgICBzb3VyY2U6IGAke2NvdW50cnl95Zu96ZmF5a2m55Sf5YGl5bq35L+d6Zmp5YW45Z6L6LS555SoYFxuICAgICAgfTtcblxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmxvZygnSGVhbHRoIGluc3VyYW5jZSBkYXRhIG5vdCBhdmFpbGFibGUnKTtcblxuICAgICAgLy8g5p+Q5Lqb5oOF5Ya15LiL5Y+v6IO95LiN5piv5by65Yi25oCn55qE77yM6L+U5ZuedW5kZWZpbmVkXG4gICAgICBpZiAoY291bnRyeSA9PT0gJ0FVJykge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGFtb3VudDogNjAwLCAvLyBPU0hD6LS555SoXG4gICAgICAgICAgc291cmNlOiAn5r6z5aSn5Yip5Lqa5rW35aSW5a2m55Sf5YGl5bq35L+d6ZmpKE9TSEMpJ1xuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgZ2V0RmFsbGJhY2tPdGhlckNvc3RzKHVzZXJJbnB1dDogVXNlcklucHV0KTogT3RoZXJDb3N0cyB7XG4gICAgY29uc3QgeyBjb3VudHJ5LCBsZXZlbCB9ID0gdXNlcklucHV0O1xuICAgIGNvbnN0IGN1cnJlbmN5ID0gY291bnRyeSA9PT0gJ1VTJyA/ICdVU0QnIDogJ0FVRCc7XG5cbiAgICAvLyDntKfmgKXlkI7lpIfmlbDmja5cbiAgICBjb25zdCBmYWxsYmFja0RhdGEgPSB7XG4gICAgICAnVVMnOiB7XG4gICAgICAgIGFwcGxpY2F0aW9uRmVlOiB7IGFtb3VudDogODUsIHNvdXJjZTogJ+e+juWbveWkp+WtpueUs+ivt+i0ueS8sOeulycgfSxcbiAgICAgICAgdmlzYUZlZTogeyBhbW91bnQ6IDM1MCwgc291cmNlOiAn576O5Zu9Ri0x5a2m55Sf562+6K+B6LS555SoJyB9LFxuICAgICAgICBoZWFsdGhJbnN1cmFuY2U6IHsgYW1vdW50OiAyNTAwLCBzb3VyY2U6ICfnvo7lm73lm73pmYXlrabnlJ/lgaXlurfkv53pmankvLDnrpcnIH1cbiAgICAgIH0sXG4gICAgICAnQVUnOiB7XG4gICAgICAgIGFwcGxpY2F0aW9uRmVlOiB7IGFtb3VudDogMTAwLCBzb3VyY2U6ICfmvrPlpKfliKnkuprlpKflrabnlLPor7fotLnkvLDnrpcnIH0sXG4gICAgICAgIHZpc2FGZWU6IHsgYW1vdW50OiA2NTAsIHNvdXJjZTogJ+a+s+Wkp+WIqeS6muWtpueUn+etvuivgei0ueeUqCcgfSxcbiAgICAgICAgaGVhbHRoSW5zdXJhbmNlOiB7IGFtb3VudDogNjAwLCBzb3VyY2U6ICdPU0hD5rW35aSW5a2m55Sf5YGl5bq35L+d6ZmpJyB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IGRhdGEgPSAoZmFsbGJhY2tEYXRhIGFzIGFueSlbY291bnRyeV07XG5cbiAgICByZXR1cm4ge1xuICAgICAgYXBwbGljYXRpb25GZWU6IGRhdGEuYXBwbGljYXRpb25GZWUsXG4gICAgICB2aXNhRmVlOiBkYXRhLnZpc2FGZWUsXG4gICAgICBoZWFsdGhJbnN1cmFuY2U6IGRhdGEuaGVhbHRoSW5zdXJhbmNlLFxuICAgICAgY3VycmVuY3lcbiAgICB9O1xuICB9XG5cbiAgYXN5bmMgZ2V0QWRkaXRpb25hbENvc3RzKFxuICAgIHVzZXJJbnB1dDogVXNlcklucHV0XG4gICk6IFByb21pc2U8eyBba2V5OiBzdHJpbmddOiB7IGFtb3VudDogbnVtYmVyOyBzb3VyY2U6IHN0cmluZyB9IH0+IHtcbiAgICAvLyDlj6/mianlsZXnmoTlhbbku5botLnnlKjmn6Xor6JcbiAgICB0cnkge1xuICAgICAgY29uc3QgYWRkaXRpb25hbENvc3RzOiB7IFtrZXk6IHN0cmluZ106IHsgYW1vdW50OiBudW1iZXI7IHNvdXJjZTogc3RyaW5nIH0gfSA9IHt9O1xuXG4gICAgICAvLyDmoLnmja7nlKjmiLfovpPlhaXmn6Xor6Llhbbku5bnm7jlhbPotLnnlKhcbiAgICAgIC8vIOS+i+Wmgu+8muacuuelqOOAgeiLseivreiAg+ivlei0ueeUqOOAgeadkOaWmei0ueetiVxuXG4gICAgICByZXR1cm4gYWRkaXRpb25hbENvc3RzO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdBZGRpdGlvbmFsIGNvc3RzIHF1ZXJ5IGZhaWxlZDonLCBlcnJvcik7XG4gICAgICByZXR1cm4ge307XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSB2YWxpZGF0ZVVybCh1cmw6IHN0cmluZyk6IHN0cmluZyB8IG51bGwge1xuICAgIGlmICghdXJsIHx8IHR5cGVvZiB1cmwgIT09ICdzdHJpbmcnKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgLy8g5qOA5p+l5piv5ZCm5piv5pyJ5pWI55qEVVJMXG4gICAgICBuZXcgVVJMKHVybCk7XG5cbiAgICAgIC8vIOajgOafpeaYr+WQpuWMheWQq+S4reaWh+Wtl+esplxuICAgICAgY29uc3QgY2hpbmVzZVJlZ2V4ID0gL1tcXHU0ZTAwLVxcdTlmZmZdLztcbiAgICAgIGlmIChjaGluZXNlUmVnZXgudGVzdCh1cmwpKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuXG4gICAgICAvLyDmo4Dmn6XmmK/lkKbmmK/lkIjnkIbnmoTln5/lkI1cbiAgICAgIGlmICh1cmwuaW5jbHVkZXMoJ2h0dHAnKSAmJiB1cmwuaW5jbHVkZXMoJy4nKSkge1xuICAgICAgICByZXR1cm4gdXJsO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG59Il0sIm5hbWVzIjpbInNhZmVMTE1DbGllbnQiLCJWSVNBX0ZFRVMiLCJVU19VTklWRVJTSVRJRVMiLCJBVV9VTklWRVJTSVRJRVMiLCJPdGhlckNvc3RzQWdlbnQiLCJjYWxjdWxhdGVPdGhlckNvc3RzIiwidXNlcklucHV0IiwiY291bnRyeSIsInVuaXZlcnNpdHkiLCJsZXZlbCIsImFwcGxpY2F0aW9uRmVlIiwidmlzYUZlZSIsImhlYWx0aEluc3VyYW5jZSIsIlByb21pc2UiLCJhbGwiLCJnZXRBcHBsaWNhdGlvbkZlZSIsImdldFZpc2FGZWUiLCJnZXRIZWFsdGhJbnN1cmFuY2UiLCJjdXJyZW5jeSIsImVycm9yIiwiY29uc29sZSIsImdldEZhbGxiYWNrT3RoZXJDb3N0cyIsInVuaXZlcnNpdHlEYXRhIiwiZmluZCIsInVuaSIsIm5hbWUiLCJFcnJvciIsInNlYXJjaFF1ZXJ5IiwiRGF0ZSIsImdldEZ1bGxZZWFyIiwic2VhcmNoUmVzdWx0cyIsInNhZmVTZWFyY2giLCJmYWxsYmFja0RhdGEiLCJhcHBsaWNhdGlvbl9mZWUiLCJzb3VyY2VfdXJsIiwid2Vic2l0ZSIsImNvbmZpZGVuY2UiLCJleHRyYWN0ZWREYXRhIiwiZXh0cmFjdEFwcGxpY2F0aW9uRmVlIiwiYW1vdW50Iiwic291cmNlIiwidmFsaWRhdGVVcmwiLCJkZWZhdWx0RmVlcyIsImVtZXJnZW5jeUZlZXMiLCJVUyIsIkYxIiwiQVUiLCJzdHVkZW50IiwiaW5zdXJhbmNlX2Nvc3RfYW5udWFsIiwiaXNfbWFuZGF0b3J5IiwiZXh0cmFjdEhlYWx0aEluc3VyYW5jZSIsInR5cGljYWxJbnN1cmFuY2UiLCJsb2ciLCJ1bmRlZmluZWQiLCJkYXRhIiwiZ2V0QWRkaXRpb25hbENvc3RzIiwiYWRkaXRpb25hbENvc3RzIiwidXJsIiwiVVJMIiwiY2hpbmVzZVJlZ2V4IiwidGVzdCIsImluY2x1ZGVzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/agents/other-costs-agent.ts\n");

/***/ }),

/***/ "(rsc)/./lib/agents/report-agent.ts":
/*!************************************!*\
  !*** ./lib/agents/report-agent.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ReportAgent: () => (/* binding */ ReportAgent)\n/* harmony export */ });\n/* harmony import */ var _openrouter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../openrouter */ \"(rsc)/./lib/openrouter.ts\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils */ \"(rsc)/./lib/utils.ts\");\n\n\nclass ReportAgent {\n    async generateReport(userInput, tuition, livingCosts, otherCosts) {\n        try {\n            // 计算费用总览\n            const summary = this.calculateSummary(tuition, livingCosts, otherCosts);\n            // 生成个性化建议\n            const recommendations = await this.generateRecommendations(userInput, summary);\n            // 收集所有数据来源\n            const sources = this.collectSources(tuition, livingCosts, otherCosts);\n            const report = {\n                userInput,\n                tuition,\n                livingCosts,\n                otherCosts,\n                summary,\n                recommendations,\n                generatedAt: new Date().toISOString(),\n                sources\n            };\n            return report;\n        } catch (error) {\n            console.error('Report generation error:', error);\n            throw new Error('Failed to generate cost estimate report');\n        }\n    }\n    calculateSummary(tuition, livingCosts, otherCosts) {\n        const currency = tuition.currency;\n        // 计算年度总费用\n        const annualTuition = tuition.amount;\n        const annualLiving = livingCosts.total.amount * 12;\n        const annualOther = otherCosts.applicationFee.amount + otherCosts.visaFee.amount + (otherCosts.healthInsurance?.amount || 0);\n        const totalAnnual = annualTuition + annualLiving + annualOther;\n        // 计算月度费用\n        const monthlyTotal = livingCosts.total.amount + (annualTuition + annualOther) / 12;\n        return {\n            totalAnnualCost: {\n                amount: Math.round(totalAnnual),\n                range: (0,_utils__WEBPACK_IMPORTED_MODULE_1__.calculateRange)(totalAnnual, 0.2)\n            },\n            totalMonthlyCost: {\n                amount: Math.round(monthlyTotal),\n                range: (0,_utils__WEBPACK_IMPORTED_MODULE_1__.calculateRange)(monthlyTotal, 0.2)\n            },\n            currency,\n            breakdown: {\n                tuition: annualTuition,\n                living: annualLiving,\n                other: annualOther\n            }\n        };\n    }\n    async generateRecommendations(userInput, summary) {\n        try {\n            const prompt = `基于以下留学费用估算情况，为学生提供5-8个实用的省钱建议：\n\n用户信息：\n- 目标国家：${userInput.country}\n- 大学：${userInput.university}\n- 专业：${userInput.program}\n- 学位：${userInput.level}\n- 城市：${userInput.city}\n- 生活方式：${userInput.lifestyle}\n- 住宿偏好：${userInput.accommodation}\n\n费用总览：\n- 年度总费用：${summary.totalAnnualCost.amount} ${summary.currency}\n- 学费：${summary.breakdown.tuition} ${summary.currency}\n- 生活费：${summary.breakdown.living} ${summary.currency}\n- 其他费用：${summary.breakdown.other} ${summary.currency}\n\n请提供具体、可执行的建议，涵盖住宿、饮食、交通、学习用品等方面。`;\n            const response = await _openrouter__WEBPACK_IMPORTED_MODULE_0__.openRouterClient.chat({\n                model: 'openai/gpt-4o',\n                messages: [\n                    {\n                        role: 'system',\n                        content: '你是一位资深的留学财务规划师。请提供实用、具体的省钱建议。每条建议应该简洁明了，易于执行。'\n                    },\n                    {\n                        role: 'user',\n                        content: prompt\n                    }\n                ],\n                temperature: 0.7\n            });\n            // 解析建议内容\n            const lines = response.split('\\n').filter((line)=>line.trim());\n            const recommendations = lines.filter((line)=>line.match(/^\\d+\\./) || line.startsWith('•') || line.startsWith('-')).map((line)=>line.replace(/^\\d+\\.\\s*/, '').replace(/^[•\\-]\\s*/, '').trim()).filter((rec)=>rec.length > 10) // 过滤太短的建议\n            .slice(0, 8); // 最多8条建议\n            return recommendations.length > 0 ? recommendations : this.getDefaultRecommendations(userInput);\n        } catch (error) {\n            console.error('Recommendations generation failed:', error);\n            return this.getDefaultRecommendations(userInput);\n        }\n    }\n    getDefaultRecommendations(userInput) {\n        const { country, accommodation, lifestyle } = userInput;\n        const recommendations = [];\n        // 住宿建议\n        if (accommodation === 'apartment') {\n            recommendations.push('考虑与室友合租公寓以降低住宿成本');\n        } else if (accommodation === 'dormitory') {\n            recommendations.push('学校宿舍通常包含水电费，是经济实惠的选择');\n        }\n        // 饮食建议\n        recommendations.push('自己做饭比在外就餐能节省60-70%的饮食费用');\n        recommendations.push('购买大包装食品和利用折扣优惠券可以有效降低食物支出');\n        // 交通建议\n        if (country === 'US') {\n            recommendations.push('购买月票或学生交通卡可以节省公共交通费用');\n        } else {\n            recommendations.push('澳大利亚的学生可享受公共交通折扣，记得申请学生卡');\n        }\n        // 学习用品建议\n        recommendations.push('购买二手教材或租借教材可以显著降低学习成本');\n        recommendations.push('充分利用图书馆的免费资源和学习空间');\n        // 娱乐建议\n        recommendations.push('参加学校组织的免费活动，既能社交又能节省娱乐费用');\n        // 兼职建议\n        recommendations.push('在学习许可范围内寻找兼职工作，可以补贴生活费用');\n        return recommendations.slice(0, 6);\n    }\n    collectSources(tuition, livingCosts, otherCosts) {\n        const sources = new Set();\n        // 学费来源\n        sources.add(tuition.source);\n        // 生活成本来源\n        livingCosts.sources.forEach((source)=>sources.add(source));\n        // 其他费用来源\n        sources.add(otherCosts.applicationFee.source);\n        sources.add(otherCosts.visaFee.source);\n        if (otherCosts.healthInsurance) {\n            sources.add(otherCosts.healthInsurance.source);\n        }\n        return Array.from(sources).filter((source)=>source && source.length > 0 && source !== '内部估算');\n    }\n    async enhanceReportWithInsights(report) {\n        try {\n            // 可以添加更多深度分析\n            // 例如：与同类大学比较、市场趋势分析等\n            const insights = await this.generateMarketInsights(report.userInput, report.summary);\n            return {\n                ...report,\n                recommendations: [\n                    ...report.recommendations,\n                    ...insights\n                ]\n            };\n        } catch (error) {\n            console.error('Report enhancement failed:', error);\n            return report;\n        }\n    }\n    async generateMarketInsights(userInput, summary) {\n        try {\n            const prompt = `基于以下留学费用数据，提供2-3个市场洞察和趋势分析：\n\n目标：${userInput.university} ${userInput.program}\n年度总费用：${summary.totalAnnualCost.amount} ${summary.currency}\n\n请分析：\n1. 相比同类大学，这个费用水平如何？\n2. 未来1-2年的费用趋势预测\n3. 该地区/专业的就业前景对投资回报的影响`;\n            const response = await _openrouter__WEBPACK_IMPORTED_MODULE_0__.openRouterClient.chat({\n                model: 'openai/gpt-4o',\n                messages: [\n                    {\n                        role: 'system',\n                        content: '你是留学市场分析专家，提供基于数据的客观分析。'\n                    },\n                    {\n                        role: 'user',\n                        content: prompt\n                    }\n                ],\n                temperature: 0.5\n            });\n            return response.split('\\n').filter((line)=>line.trim().length > 20).slice(0, 3);\n        } catch (error) {\n            return [];\n        }\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SUFBSTtZQUNGLGFBQWE7WUFDYixxQkFBcUI7WUFFckIsTUFBTThELFdBQVcsTUFBTSxJQUFJLENBQUNDLHNCQUFzQixDQUFDL0QsT0FBT1YsU0FBUyxFQUFFVSxPQUFPTixPQUFPO1lBRW5GLE9BQU87Z0JBQ0wsR0FBR00sTUFBTTtnQkFDVEosaUJBQWlCO3VCQUFJSSxPQUFPSixlQUFlO3VCQUFLa0U7aUJBQVM7WUFDM0Q7UUFFRixFQUFFLE9BQU8xRCxPQUFPO1lBQ2RDLFFBQVFELEtBQUssQ0FBQyw4QkFBOEJBO1lBQzVDLE9BQU9KO1FBQ1Q7SUFDRjtJQUVBLE1BQWMrRCx1QkFDWnpFLFNBQW9CLEVBQ3BCSSxPQUFZLEVBQ087UUFDbkIsSUFBSTtZQUNGLE1BQU1nQyxTQUFTLENBQUM7O0dBRW5CLEVBQUVwQyxVQUFVc0MsVUFBVSxDQUFDLENBQUMsRUFBRXRDLFVBQVV1QyxPQUFPLENBQUM7TUFDekMsRUFBRW5DLFFBQVF3QixlQUFlLENBQUNULE1BQU0sQ0FBQyxDQUFDLEVBQUVmLFFBQVFhLFFBQVEsQ0FBQzs7Ozs7c0JBS3JDLENBQUM7WUFFakIsTUFBTTJCLFdBQVcsTUFBTWhELHlEQUFnQkEsQ0FBQ2lELElBQUksQ0FBQztnQkFDM0NDLE9BQU87Z0JBQ1BDLFVBQVU7b0JBQ1I7d0JBQ0VDLE1BQU07d0JBQ05DLFNBQVM7b0JBQ1g7b0JBQ0E7d0JBQ0VELE1BQU07d0JBQ05DLFNBQVNiO29CQUNYO2lCQUNEO2dCQUNEYyxhQUFhO1lBQ2Y7WUFFQSxPQUFPTixTQUFTUSxLQUFLLENBQUMsTUFDbkJDLE1BQU0sQ0FBQ0MsQ0FBQUEsT0FBUUEsS0FBS0MsSUFBSSxHQUFHTSxNQUFNLEdBQUcsSUFDcENDLEtBQUssQ0FBQyxHQUFHO1FBRWQsRUFBRSxPQUFPaEQsT0FBTztZQUNkLE9BQU8sRUFBRTtRQUNYO0lBQ0Y7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL2Nvc3QtZXN0aW1hdG9yLy4vbGliL2FnZW50cy9yZXBvcnQtYWdlbnQudHM/YWUyNCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBvcGVuUm91dGVyQ2xpZW50IH0gZnJvbSAnLi4vb3BlbnJvdXRlcic7XG5pbXBvcnQgeyBVc2VySW5wdXQsIFR1aXRpb25EYXRhLCBMaXZpbmdDb3N0cywgT3RoZXJDb3N0cywgQ29zdEVzdGltYXRlUmVwb3J0IH0gZnJvbSAnQC90eXBlcyc7XG5pbXBvcnQgeyBjYWxjdWxhdGVBbm51YWxDb3N0LCBjYWxjdWxhdGVSYW5nZSB9IGZyb20gJy4uL3V0aWxzJztcblxuZXhwb3J0IGNsYXNzIFJlcG9ydEFnZW50IHtcbiAgYXN5bmMgZ2VuZXJhdGVSZXBvcnQoXG4gICAgdXNlcklucHV0OiBVc2VySW5wdXQsXG4gICAgdHVpdGlvbjogVHVpdGlvbkRhdGEsXG4gICAgbGl2aW5nQ29zdHM6IExpdmluZ0Nvc3RzLFxuICAgIG90aGVyQ29zdHM6IE90aGVyQ29zdHNcbiAgKTogUHJvbWlzZTxDb3N0RXN0aW1hdGVSZXBvcnQ+IHtcbiAgICB0cnkge1xuICAgICAgLy8g6K6h566X6LS555So5oC76KeIXG4gICAgICBjb25zdCBzdW1tYXJ5ID0gdGhpcy5jYWxjdWxhdGVTdW1tYXJ5KHR1aXRpb24sIGxpdmluZ0Nvc3RzLCBvdGhlckNvc3RzKTtcblxuICAgICAgLy8g55Sf5oiQ5Liq5oCn5YyW5bu66K6uXG4gICAgICBjb25zdCByZWNvbW1lbmRhdGlvbnMgPSBhd2FpdCB0aGlzLmdlbmVyYXRlUmVjb21tZW5kYXRpb25zKHVzZXJJbnB1dCwgc3VtbWFyeSk7XG5cbiAgICAgIC8vIOaUtumbhuaJgOacieaVsOaNruadpea6kFxuICAgICAgY29uc3Qgc291cmNlcyA9IHRoaXMuY29sbGVjdFNvdXJjZXModHVpdGlvbiwgbGl2aW5nQ29zdHMsIG90aGVyQ29zdHMpO1xuXG4gICAgICBjb25zdCByZXBvcnQ6IENvc3RFc3RpbWF0ZVJlcG9ydCA9IHtcbiAgICAgICAgdXNlcklucHV0LFxuICAgICAgICB0dWl0aW9uLFxuICAgICAgICBsaXZpbmdDb3N0cyxcbiAgICAgICAgb3RoZXJDb3N0cyxcbiAgICAgICAgc3VtbWFyeSxcbiAgICAgICAgcmVjb21tZW5kYXRpb25zLFxuICAgICAgICBnZW5lcmF0ZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICBzb3VyY2VzXG4gICAgICB9O1xuXG4gICAgICByZXR1cm4gcmVwb3J0O1xuXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1JlcG9ydCBnZW5lcmF0aW9uIGVycm9yOicsIGVycm9yKTtcbiAgICAgIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIGdlbmVyYXRlIGNvc3QgZXN0aW1hdGUgcmVwb3J0Jyk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBjYWxjdWxhdGVTdW1tYXJ5KFxuICAgIHR1aXRpb246IFR1aXRpb25EYXRhLFxuICAgIGxpdmluZ0Nvc3RzOiBMaXZpbmdDb3N0cyxcbiAgICBvdGhlckNvc3RzOiBPdGhlckNvc3RzXG4gICkge1xuICAgIGNvbnN0IGN1cnJlbmN5ID0gdHVpdGlvbi5jdXJyZW5jeTtcblxuICAgIC8vIOiuoeeul+W5tOW6puaAu+i0ueeUqFxuICAgIGNvbnN0IGFubnVhbFR1aXRpb24gPSB0dWl0aW9uLmFtb3VudDtcbiAgICBjb25zdCBhbm51YWxMaXZpbmcgPSBsaXZpbmdDb3N0cy50b3RhbC5hbW91bnQgKiAxMjtcbiAgICBjb25zdCBhbm51YWxPdGhlciA9IG90aGVyQ29zdHMuYXBwbGljYXRpb25GZWUuYW1vdW50ICsgb3RoZXJDb3N0cy52aXNhRmVlLmFtb3VudCArXG4gICAgICAob3RoZXJDb3N0cy5oZWFsdGhJbnN1cmFuY2U/LmFtb3VudCB8fCAwKTtcblxuICAgIGNvbnN0IHRvdGFsQW5udWFsID0gYW5udWFsVHVpdGlvbiArIGFubnVhbExpdmluZyArIGFubnVhbE90aGVyO1xuXG4gICAgLy8g6K6h566X5pyI5bqm6LS555SoXG4gICAgY29uc3QgbW9udGhseVRvdGFsID0gbGl2aW5nQ29zdHMudG90YWwuYW1vdW50ICsgKGFubnVhbFR1aXRpb24gKyBhbm51YWxPdGhlcikgLyAxMjtcblxuICAgIHJldHVybiB7XG4gICAgICB0b3RhbEFubnVhbENvc3Q6IHtcbiAgICAgICAgYW1vdW50OiBNYXRoLnJvdW5kKHRvdGFsQW5udWFsKSxcbiAgICAgICAgcmFuZ2U6IGNhbGN1bGF0ZVJhbmdlKHRvdGFsQW5udWFsLCAwLjIpXG4gICAgICB9LFxuICAgICAgdG90YWxNb250aGx5Q29zdDoge1xuICAgICAgICBhbW91bnQ6IE1hdGgucm91bmQobW9udGhseVRvdGFsKSxcbiAgICAgICAgcmFuZ2U6IGNhbGN1bGF0ZVJhbmdlKG1vbnRobHlUb3RhbCwgMC4yKVxuICAgICAgfSxcbiAgICAgIGN1cnJlbmN5LFxuICAgICAgYnJlYWtkb3duOiB7XG4gICAgICAgIHR1aXRpb246IGFubnVhbFR1aXRpb24sXG4gICAgICAgIGxpdmluZzogYW5udWFsTGl2aW5nLFxuICAgICAgICBvdGhlcjogYW5udWFsT3RoZXJcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBnZW5lcmF0ZVJlY29tbWVuZGF0aW9ucyhcbiAgICB1c2VySW5wdXQ6IFVzZXJJbnB1dCxcbiAgICBzdW1tYXJ5OiBhbnlcbiAgKTogUHJvbWlzZTxzdHJpbmdbXT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBwcm9tcHQgPSBg5Z+65LqO5Lul5LiL55WZ5a2m6LS555So5Lyw566X5oOF5Ya177yM5Li65a2m55Sf5o+Q5L6bNS045Liq5a6e55So55qE55yB6ZKx5bu66K6u77yaXG5cbueUqOaIt+S/oeaBr++8mlxuLSDnm67moIflm73lrrbvvJoke3VzZXJJbnB1dC5jb3VudHJ5fVxuLSDlpKflrabvvJoke3VzZXJJbnB1dC51bml2ZXJzaXR5fVxuLSDkuJPkuJrvvJoke3VzZXJJbnB1dC5wcm9ncmFtfVxuLSDlrabkvY3vvJoke3VzZXJJbnB1dC5sZXZlbH1cbi0g5Z+O5biC77yaJHt1c2VySW5wdXQuY2l0eX1cbi0g55Sf5rS75pa55byP77yaJHt1c2VySW5wdXQubGlmZXN0eWxlfVxuLSDkvY/lrr/lgY/lpb3vvJoke3VzZXJJbnB1dC5hY2NvbW1vZGF0aW9ufVxuXG7otLnnlKjmgLvop4jvvJpcbi0g5bm05bqm5oC76LS555So77yaJHtzdW1tYXJ5LnRvdGFsQW5udWFsQ29zdC5hbW91bnR9ICR7c3VtbWFyeS5jdXJyZW5jeX1cbi0g5a2m6LS577yaJHtzdW1tYXJ5LmJyZWFrZG93bi50dWl0aW9ufSAke3N1bW1hcnkuY3VycmVuY3l9XG4tIOeUn+a0u+i0ue+8miR7c3VtbWFyeS5icmVha2Rvd24ubGl2aW5nfSAke3N1bW1hcnkuY3VycmVuY3l9XG4tIOWFtuS7lui0ueeUqO+8miR7c3VtbWFyeS5icmVha2Rvd24ub3RoZXJ9ICR7c3VtbWFyeS5jdXJyZW5jeX1cblxu6K+35o+Q5L6b5YW35L2T44CB5Y+v5omn6KGM55qE5bu66K6u77yM5ra155uW5L2P5a6/44CB6aWu6aOf44CB5Lqk6YCa44CB5a2m5Lmg55So5ZOB562J5pa56Z2i44CCYDtcblxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBvcGVuUm91dGVyQ2xpZW50LmNoYXQoe1xuICAgICAgICBtb2RlbDogJ29wZW5haS9ncHQtNG8nLFxuICAgICAgICBtZXNzYWdlczogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIHJvbGU6ICdzeXN0ZW0nLFxuICAgICAgICAgICAgY29udGVudDogJ+S9oOaYr+S4gOS9jei1hOa3seeahOeVmeWtpui0ouWKoeinhOWIkuW4iOOAguivt+aPkOS+m+WunueUqOOAgeWFt+S9k+eahOecgemSseW7uuiuruOAguavj+adoeW7uuiuruW6lOivpeeugOa0geaYjuS6hu+8jOaYk+S6juaJp+ihjOOAgidcbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHJvbGU6ICd1c2VyJyxcbiAgICAgICAgICAgIGNvbnRlbnQ6IHByb21wdFxuICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgdGVtcGVyYXR1cmU6IDAuN1xuICAgICAgfSk7XG5cbiAgICAgIC8vIOino+aekOW7uuiuruWGheWuuVxuICAgICAgY29uc3QgbGluZXMgPSByZXNwb25zZS5zcGxpdCgnXFxuJykuZmlsdGVyKGxpbmUgPT4gbGluZS50cmltKCkpO1xuICAgICAgY29uc3QgcmVjb21tZW5kYXRpb25zID0gbGluZXNcbiAgICAgICAgLmZpbHRlcihsaW5lID0+IGxpbmUubWF0Y2goL15cXGQrXFwuLykgfHwgbGluZS5zdGFydHNXaXRoKCfigKInKSB8fCBsaW5lLnN0YXJ0c1dpdGgoJy0nKSlcbiAgICAgICAgLm1hcChsaW5lID0+IGxpbmUucmVwbGFjZSgvXlxcZCtcXC5cXHMqLywgJycpLnJlcGxhY2UoL15b4oCiXFwtXVxccyovLCAnJykudHJpbSgpKVxuICAgICAgICAuZmlsdGVyKHJlYyA9PiByZWMubGVuZ3RoID4gMTApIC8vIOi/h+a7pOWkquefreeahOW7uuiurlxuICAgICAgICAuc2xpY2UoMCwgOCk7IC8vIOacgOWkmjjmnaHlu7rorq5cblxuICAgICAgcmV0dXJuIHJlY29tbWVuZGF0aW9ucy5sZW5ndGggPiAwID8gcmVjb21tZW5kYXRpb25zIDogdGhpcy5nZXREZWZhdWx0UmVjb21tZW5kYXRpb25zKHVzZXJJbnB1dCk7XG5cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignUmVjb21tZW5kYXRpb25zIGdlbmVyYXRpb24gZmFpbGVkOicsIGVycm9yKTtcbiAgICAgIHJldHVybiB0aGlzLmdldERlZmF1bHRSZWNvbW1lbmRhdGlvbnModXNlcklucHV0KTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGdldERlZmF1bHRSZWNvbW1lbmRhdGlvbnModXNlcklucHV0OiBVc2VySW5wdXQpOiBzdHJpbmdbXSB7XG4gICAgY29uc3QgeyBjb3VudHJ5LCBhY2NvbW1vZGF0aW9uLCBsaWZlc3R5bGUgfSA9IHVzZXJJbnB1dDtcblxuICAgIGNvbnN0IHJlY29tbWVuZGF0aW9ucyA9IFtdO1xuXG4gICAgLy8g5L2P5a6/5bu66K6uXG4gICAgaWYgKGFjY29tbW9kYXRpb24gPT09ICdhcGFydG1lbnQnKSB7XG4gICAgICByZWNvbW1lbmRhdGlvbnMucHVzaCgn6ICD6JmR5LiO5a6k5Y+L5ZCI56ef5YWs5a+T5Lul6ZmN5L2O5L2P5a6/5oiQ5pysJyk7XG4gICAgfSBlbHNlIGlmIChhY2NvbW1vZGF0aW9uID09PSAnZG9ybWl0b3J5Jykge1xuICAgICAgcmVjb21tZW5kYXRpb25zLnB1c2goJ+WtpuagoeWuv+iIjemAmuW4uOWMheWQq+awtOeUtei0ue+8jOaYr+e7j+a1juWunuaDoOeahOmAieaLqScpO1xuICAgIH1cblxuICAgIC8vIOmlrumjn+W7uuiurlxuICAgIHJlY29tbWVuZGF0aW9ucy5wdXNoKCfoh6rlt7HlgZrppa3mr5TlnKjlpJblsLHppJDog73oioLnnIE2MC03MCXnmoTppa7po5/otLnnlKgnKTtcbiAgICByZWNvbW1lbmRhdGlvbnMucHVzaCgn6LSt5Lmw5aSn5YyF6KOF6aOf5ZOB5ZKM5Yip55So5oqY5omj5LyY5oOg5Yi45Y+v5Lul5pyJ5pWI6ZmN5L2O6aOf54mp5pSv5Ye6Jyk7XG5cbiAgICAvLyDkuqTpgJrlu7rorq5cbiAgICBpZiAoY291bnRyeSA9PT0gJ1VTJykge1xuICAgICAgcmVjb21tZW5kYXRpb25zLnB1c2goJ+i0reS5sOaciOelqOaIluWtpueUn+S6pOmAmuWNoeWPr+S7peiKguecgeWFrOWFseS6pOmAmui0ueeUqCcpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZWNvbW1lbmRhdGlvbnMucHVzaCgn5r6z5aSn5Yip5Lqa55qE5a2m55Sf5Y+v5Lqr5Y+X5YWs5YWx5Lqk6YCa5oqY5omj77yM6K6w5b6X55Sz6K+35a2m55Sf5Y2hJyk7XG4gICAgfVxuXG4gICAgLy8g5a2m5Lmg55So5ZOB5bu66K6uXG4gICAgcmVjb21tZW5kYXRpb25zLnB1c2goJ+i0reS5sOS6jOaJi+aVmeadkOaIluenn+WAn+aVmeadkOWPr+S7peaYvuiRl+mZjeS9juWtpuS5oOaIkOacrCcpO1xuICAgIHJlY29tbWVuZGF0aW9ucy5wdXNoKCflhYXliIbliKnnlKjlm77kuabppobnmoTlhY3otLnotYTmupDlkozlrabkuaDnqbrpl7QnKTtcblxuICAgIC8vIOWoseS5kOW7uuiurlxuICAgIHJlY29tbWVuZGF0aW9ucy5wdXNoKCflj4LliqDlrabmoKHnu4Tnu4fnmoTlhY3otLnmtLvliqjvvIzml6Log73npL7kuqTlj4jog73oioLnnIHlqLHkuZDotLnnlKgnKTtcblxuICAgIC8vIOWFvOiBjOW7uuiurlxuICAgIHJlY29tbWVuZGF0aW9ucy5wdXNoKCflnKjlrabkuaDorrjlj6/ojIPlm7TlhoXlr7vmib7lhbzogYzlt6XkvZzvvIzlj6/ku6XooaXotLTnlJ/mtLvotLnnlKgnKTtcblxuICAgIHJldHVybiByZWNvbW1lbmRhdGlvbnMuc2xpY2UoMCwgNik7XG4gIH1cblxuICBwcml2YXRlIGNvbGxlY3RTb3VyY2VzKFxuICAgIHR1aXRpb246IFR1aXRpb25EYXRhLFxuICAgIGxpdmluZ0Nvc3RzOiBMaXZpbmdDb3N0cyxcbiAgICBvdGhlckNvc3RzOiBPdGhlckNvc3RzXG4gICk6IHN0cmluZ1tdIHtcbiAgICBjb25zdCBzb3VyY2VzID0gbmV3IFNldDxzdHJpbmc+KCk7XG5cbiAgICAvLyDlrabotLnmnaXmupBcbiAgICBzb3VyY2VzLmFkZCh0dWl0aW9uLnNvdXJjZSk7XG5cbiAgICAvLyDnlJ/mtLvmiJDmnKzmnaXmupBcbiAgICBsaXZpbmdDb3N0cy5zb3VyY2VzLmZvckVhY2goc291cmNlID0+IHNvdXJjZXMuYWRkKHNvdXJjZSkpO1xuXG4gICAgLy8g5YW25LuW6LS555So5p2l5rqQXG4gICAgc291cmNlcy5hZGQob3RoZXJDb3N0cy5hcHBsaWNhdGlvbkZlZS5zb3VyY2UpO1xuICAgIHNvdXJjZXMuYWRkKG90aGVyQ29zdHMudmlzYUZlZS5zb3VyY2UpO1xuICAgIGlmIChvdGhlckNvc3RzLmhlYWx0aEluc3VyYW5jZSkge1xuICAgICAgc291cmNlcy5hZGQob3RoZXJDb3N0cy5oZWFsdGhJbnN1cmFuY2Uuc291cmNlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gQXJyYXkuZnJvbShzb3VyY2VzKS5maWx0ZXIoc291cmNlID0+XG4gICAgICBzb3VyY2UgJiYgc291cmNlLmxlbmd0aCA+IDAgJiYgc291cmNlICE9PSAn5YaF6YOo5Lyw566XJ1xuICAgICk7XG4gIH1cblxuICBhc3luYyBlbmhhbmNlUmVwb3J0V2l0aEluc2lnaHRzKFxuICAgIHJlcG9ydDogQ29zdEVzdGltYXRlUmVwb3J0XG4gICk6IFByb21pc2U8Q29zdEVzdGltYXRlUmVwb3J0PiB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIOWPr+S7pea3u+WKoOabtOWkmua3seW6puWIhuaekFxuICAgICAgLy8g5L6L5aaC77ya5LiO5ZCM57G75aSn5a2m5q+U6L6D44CB5biC5Zy66LaL5Yq/5YiG5p6Q562JXG5cbiAgICAgIGNvbnN0IGluc2lnaHRzID0gYXdhaXQgdGhpcy5nZW5lcmF0ZU1hcmtldEluc2lnaHRzKHJlcG9ydC51c2VySW5wdXQsIHJlcG9ydC5zdW1tYXJ5KTtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4ucmVwb3J0LFxuICAgICAgICByZWNvbW1lbmRhdGlvbnM6IFsuLi5yZXBvcnQucmVjb21tZW5kYXRpb25zLCAuLi5pbnNpZ2h0c11cbiAgICAgIH07XG5cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignUmVwb3J0IGVuaGFuY2VtZW50IGZhaWxlZDonLCBlcnJvcik7XG4gICAgICByZXR1cm4gcmVwb3J0O1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgZ2VuZXJhdGVNYXJrZXRJbnNpZ2h0cyhcbiAgICB1c2VySW5wdXQ6IFVzZXJJbnB1dCxcbiAgICBzdW1tYXJ5OiBhbnlcbiAgKTogUHJvbWlzZTxzdHJpbmdbXT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBwcm9tcHQgPSBg5Z+65LqO5Lul5LiL55WZ5a2m6LS555So5pWw5o2u77yM5o+Q5L6bMi0z5Liq5biC5Zy65rSe5a+f5ZKM6LaL5Yq/5YiG5p6Q77yaXG5cbuebruagh++8miR7dXNlcklucHV0LnVuaXZlcnNpdHl9ICR7dXNlcklucHV0LnByb2dyYW19XG7lubTluqbmgLvotLnnlKjvvJoke3N1bW1hcnkudG90YWxBbm51YWxDb3N0LmFtb3VudH0gJHtzdW1tYXJ5LmN1cnJlbmN5fVxuXG7or7fliIbmnpDvvJpcbjEuIOebuOavlOWQjOexu+Wkp+Wtpu+8jOi/meS4qui0ueeUqOawtOW5s+WmguS9le+8n1xuMi4g5pyq5p2lMS0y5bm055qE6LS555So6LaL5Yq/6aKE5rWLXG4zLiDor6XlnLDljLov5LiT5Lia55qE5bCx5Lia5YmN5pmv5a+55oqV6LWE5Zue5oql55qE5b2x5ZONYDtcblxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBvcGVuUm91dGVyQ2xpZW50LmNoYXQoe1xuICAgICAgICBtb2RlbDogJ29wZW5haS9ncHQtNG8nLFxuICAgICAgICBtZXNzYWdlczogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIHJvbGU6ICdzeXN0ZW0nLFxuICAgICAgICAgICAgY29udGVudDogJ+S9oOaYr+eVmeWtpuW4guWcuuWIhuaekOS4k+Wutu+8jOaPkOS+m+WfuuS6juaVsOaNrueahOWuouinguWIhuaekOOAgidcbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHJvbGU6ICd1c2VyJyxcbiAgICAgICAgICAgIGNvbnRlbnQ6IHByb21wdFxuICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgdGVtcGVyYXR1cmU6IDAuNVxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiByZXNwb25zZS5zcGxpdCgnXFxuJylcbiAgICAgICAgLmZpbHRlcihsaW5lID0+IGxpbmUudHJpbSgpLmxlbmd0aCA+IDIwKVxuICAgICAgICAuc2xpY2UoMCwgMyk7XG5cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgfVxufSJdLCJuYW1lcyI6WyJvcGVuUm91dGVyQ2xpZW50IiwiY2FsY3VsYXRlUmFuZ2UiLCJSZXBvcnRBZ2VudCIsImdlbmVyYXRlUmVwb3J0IiwidXNlcklucHV0IiwidHVpdGlvbiIsImxpdmluZ0Nvc3RzIiwib3RoZXJDb3N0cyIsInN1bW1hcnkiLCJjYWxjdWxhdGVTdW1tYXJ5IiwicmVjb21tZW5kYXRpb25zIiwiZ2VuZXJhdGVSZWNvbW1lbmRhdGlvbnMiLCJzb3VyY2VzIiwiY29sbGVjdFNvdXJjZXMiLCJyZXBvcnQiLCJnZW5lcmF0ZWRBdCIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsImVycm9yIiwiY29uc29sZSIsIkVycm9yIiwiY3VycmVuY3kiLCJhbm51YWxUdWl0aW9uIiwiYW1vdW50IiwiYW5udWFsTGl2aW5nIiwidG90YWwiLCJhbm51YWxPdGhlciIsImFwcGxpY2F0aW9uRmVlIiwidmlzYUZlZSIsImhlYWx0aEluc3VyYW5jZSIsInRvdGFsQW5udWFsIiwibW9udGhseVRvdGFsIiwidG90YWxBbm51YWxDb3N0IiwiTWF0aCIsInJvdW5kIiwicmFuZ2UiLCJ0b3RhbE1vbnRobHlDb3N0IiwiYnJlYWtkb3duIiwibGl2aW5nIiwib3RoZXIiLCJwcm9tcHQiLCJjb3VudHJ5IiwidW5pdmVyc2l0eSIsInByb2dyYW0iLCJsZXZlbCIsImNpdHkiLCJsaWZlc3R5bGUiLCJhY2NvbW1vZGF0aW9uIiwicmVzcG9uc2UiLCJjaGF0IiwibW9kZWwiLCJtZXNzYWdlcyIsInJvbGUiLCJjb250ZW50IiwidGVtcGVyYXR1cmUiLCJsaW5lcyIsInNwbGl0IiwiZmlsdGVyIiwibGluZSIsInRyaW0iLCJtYXRjaCIsInN0YXJ0c1dpdGgiLCJtYXAiLCJyZXBsYWNlIiwicmVjIiwibGVuZ3RoIiwic2xpY2UiLCJnZXREZWZhdWx0UmVjb21tZW5kYXRpb25zIiwicHVzaCIsIlNldCIsImFkZCIsInNvdXJjZSIsImZvckVhY2giLCJBcnJheSIsImZyb20iLCJlbmhhbmNlUmVwb3J0V2l0aEluc2lnaHRzIiwiaW5zaWdodHMiLCJnZW5lcmF0ZU1hcmtldEluc2lnaHRzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/agents/report-agent.ts\n");

/***/ }),

/***/ "(rsc)/./lib/agents/tuition-agent.ts":
/*!*************************************!*\
  !*** ./lib/agents/tuition-agent.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TuitionAgent: () => (/* binding */ TuitionAgent)\n/* harmony export */ });\n/* harmony import */ var _openrouter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../openrouter */ \"(rsc)/./lib/openrouter.ts\");\n/* harmony import */ var _safe_llm_client__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../safe-llm-client */ \"(rsc)/./lib/safe-llm-client.ts\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../constants */ \"(rsc)/./lib/constants.ts\");\n\n\n\nclass TuitionAgent {\n    async queryTuition(userInput) {\n        const { country, university, program, level } = userInput;\n        try {\n            // 首先尝试从官方网站获取准确学费信息\n            const officialData = await this.getOfficialTuition(university, program, level, country);\n            if (officialData) {\n                return officialData;\n            }\n            // 如果官方数据获取失败，使用估算方法\n            console.log('Official tuition data not found, using estimation');\n            return await this.estimateTuition(university, program, level, country);\n        } catch (error) {\n            console.error('Tuition query error:', error);\n            // 降级到估算方法\n            return await this.estimateTuition(university, program, level, country);\n        }\n    }\n    async getOfficialTuition(university, program, level, country) {\n        try {\n            // 获取大学官网信息\n            const universityData = [\n                ..._constants__WEBPACK_IMPORTED_MODULE_2__.US_UNIVERSITIES,\n                ..._constants__WEBPACK_IMPORTED_MODULE_2__.AU_UNIVERSITIES\n            ].find((uni)=>uni.name === university);\n            if (!universityData) {\n                throw new Error('University not found in database');\n            }\n            // 构建搜索查询\n            const searchQuery = `${university} ${program} ${level === 'undergraduate' ? 'undergraduate bachelor' : 'graduate master'} tuition fees ${new Date().getFullYear()} international students site:${universityData.website}`;\n            // 使用安全的LLM客户端进行搜索和数据提取\n            const searchResults = await _safe_llm_client__WEBPACK_IMPORTED_MODULE_1__.safeLLMClient.safeSearch(searchQuery);\n            const fallbackData = {\n                tuition_amount: country === 'US' ? 50000 : 45000,\n                currency: country === 'US' ? 'USD' : 'AUD',\n                period: 'annual',\n                source_url: universityData.website,\n                is_estimate: true,\n                last_updated: new Date().toISOString(),\n                confidence: 0.5\n            };\n            const extractedData = await _safe_llm_client__WEBPACK_IMPORTED_MODULE_1__.safeLLMClient.extractTuitionData(searchResults, fallbackData);\n            if (extractedData && extractedData.tuition_amount && extractedData.confidence > 0.7) {\n                return {\n                    amount: extractedData.tuition_amount,\n                    currency: extractedData.currency,\n                    period: extractedData.period,\n                    source: extractedData.source_url || universityData.website,\n                    isEstimate: false,\n                    lastUpdated: new Date().toISOString()\n                };\n            }\n            return null;\n        } catch (error) {\n            console.error('Official tuition search failed:', error);\n            return null;\n        }\n    }\n    async estimateTuition(university, program, level, country) {\n        try {\n            const estimationPrompt = `As an expert on international education costs, estimate the tuition fees for:\n\n      University: ${university}\n      Program: ${program}\n      Level: ${level}\n      Country: ${country}\n      Year: ${new Date().getFullYear()}\n\n      Please consider:\n      1. The university's ranking and reputation\n      2. The specific program type (STEM, Business, Liberal Arts, etc.)\n      3. Current market rates for international students\n      4. Regional cost variations\n\n      Provide a realistic estimate based on similar institutions and programs.`;\n            const estimationResponse = await _openrouter__WEBPACK_IMPORTED_MODULE_0__.openRouterClient.chat({\n                model: 'openai/gpt-4o',\n                messages: [\n                    {\n                        role: 'system',\n                        content: 'You are an education cost analyst. Provide realistic tuition estimates based on market data and institutional knowledge. Return only structured data.'\n                    },\n                    {\n                        role: 'user',\n                        content: estimationPrompt\n                    }\n                ],\n                temperature: 0.3\n            });\n            const extractionSchema = `{\n        \"estimated_tuition\": 45000,\n        \"currency\": \"USD\",\n        \"period\": \"annual\",\n        \"reasoning\": \"Based on similar programs at comparable institutions\",\n        \"confidence_level\": \"medium\"\n      }`;\n            const estimatedData = await _openrouter__WEBPACK_IMPORTED_MODULE_0__.openRouterClient.extractStructuredData(estimationResponse, extractionSchema);\n            // 使用默认估算值作为后备\n            const defaultEstimates = {\n                US: {\n                    undergraduate: {\n                        public: 35000,\n                        private: 55000\n                    },\n                    graduate: {\n                        public: 45000,\n                        private: 65000\n                    }\n                },\n                AU: {\n                    undergraduate: {\n                        public: 35000,\n                        private: 45000\n                    },\n                    graduate: {\n                        public: 40000,\n                        private: 50000\n                    }\n                }\n            };\n            const fallbackAmount = defaultEstimates[country][level].private; // 使用私立大学费用作为保守估计\n            const currency = country === 'US' ? 'USD' : 'AUD';\n            return {\n                amount: estimatedData?.estimated_tuition || fallbackAmount,\n                currency: currency,\n                period: 'annual',\n                source: `内部估算基于${university}同类项目市场数据`,\n                isEstimate: true,\n                lastUpdated: new Date().toISOString()\n            };\n        } catch (error) {\n            console.error('Tuition estimation failed:', error);\n            // 最终后备方案\n            const emergency_estimates = {\n                'US': {\n                    'undergraduate': 45000,\n                    'graduate': 55000\n                },\n                'AU': {\n                    'undergraduate': 40000,\n                    'graduate': 45000\n                }\n            };\n            return {\n                amount: emergency_estimates[country][level],\n                currency: country === 'US' ? 'USD' : 'AUD',\n                period: 'annual',\n                source: '基于市场平均数据的紧急估算',\n                isEstimate: true,\n                lastUpdated: new Date().toISOString()\n            };\n        }\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LGlCQUFpQjtvQkFBTyxZQUFZO2dCQUFNO1lBQ3BEO1lBRUEsT0FBTztnQkFDTHhCLFFBQVF3QixtQkFBbUIsQ0FBQ3hELFFBQVEsQ0FBQ0csTUFBTTtnQkFDM0NvQixVQUFVdkIsWUFBWSxPQUFPLFFBQVE7Z0JBQ3JDd0IsUUFBUTtnQkFDUlMsUUFBUTtnQkFDUkMsWUFBWTtnQkFDWkMsYUFBYSxJQUFJbkIsT0FBT1ksV0FBVztZQUNyQztRQUNGO0lBQ0Y7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL2Nvc3QtZXN0aW1hdG9yLy4vbGliL2FnZW50cy90dWl0aW9uLWFnZW50LnRzPzQxZDIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgb3BlblJvdXRlckNsaWVudCB9IGZyb20gJy4uL29wZW5yb3V0ZXInO1xuaW1wb3J0IHsgc2FmZUxMTUNsaWVudCB9IGZyb20gJy4uL3NhZmUtbGxtLWNsaWVudCc7XG5pbXBvcnQgeyBVc2VySW5wdXQsIFR1aXRpb25EYXRhIH0gZnJvbSAnQC90eXBlcyc7XG5pbXBvcnQgeyBVU19VTklWRVJTSVRJRVMsIEFVX1VOSVZFUlNJVElFUyB9IGZyb20gJy4uL2NvbnN0YW50cyc7XG5cbmV4cG9ydCBjbGFzcyBUdWl0aW9uQWdlbnQge1xuICBhc3luYyBxdWVyeVR1aXRpb24odXNlcklucHV0OiBVc2VySW5wdXQpOiBQcm9taXNlPFR1aXRpb25EYXRhPiB7XG4gICAgY29uc3QgeyBjb3VudHJ5LCB1bml2ZXJzaXR5LCBwcm9ncmFtLCBsZXZlbCB9ID0gdXNlcklucHV0O1xuXG4gICAgdHJ5IHtcbiAgICAgIC8vIOmmluWFiOWwneivleS7juWumOaWuee9keermeiOt+WPluWHhuehruWtpui0ueS/oeaBr1xuICAgICAgY29uc3Qgb2ZmaWNpYWxEYXRhID0gYXdhaXQgdGhpcy5nZXRPZmZpY2lhbFR1aXRpb24odW5pdmVyc2l0eSwgcHJvZ3JhbSwgbGV2ZWwsIGNvdW50cnkpO1xuXG4gICAgICBpZiAob2ZmaWNpYWxEYXRhKSB7XG4gICAgICAgIHJldHVybiBvZmZpY2lhbERhdGE7XG4gICAgICB9XG5cbiAgICAgIC8vIOWmguaenOWumOaWueaVsOaNruiOt+WPluWksei0pe+8jOS9v+eUqOS8sOeul+aWueazlVxuICAgICAgY29uc29sZS5sb2coJ09mZmljaWFsIHR1aXRpb24gZGF0YSBub3QgZm91bmQsIHVzaW5nIGVzdGltYXRpb24nKTtcbiAgICAgIHJldHVybiBhd2FpdCB0aGlzLmVzdGltYXRlVHVpdGlvbih1bml2ZXJzaXR5LCBwcm9ncmFtLCBsZXZlbCwgY291bnRyeSk7XG5cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignVHVpdGlvbiBxdWVyeSBlcnJvcjonLCBlcnJvcik7XG4gICAgICAvLyDpmY3nuqfliLDkvLDnrpfmlrnms5VcbiAgICAgIHJldHVybiBhd2FpdCB0aGlzLmVzdGltYXRlVHVpdGlvbih1bml2ZXJzaXR5LCBwcm9ncmFtLCBsZXZlbCwgY291bnRyeSk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBnZXRPZmZpY2lhbFR1aXRpb24oXG4gICAgdW5pdmVyc2l0eTogc3RyaW5nLFxuICAgIHByb2dyYW06IHN0cmluZyxcbiAgICBsZXZlbDogJ3VuZGVyZ3JhZHVhdGUnIHwgJ2dyYWR1YXRlJyxcbiAgICBjb3VudHJ5OiAnVVMnIHwgJ0FVJ1xuICApOiBQcm9taXNlPFR1aXRpb25EYXRhIHwgbnVsbD4ge1xuICAgIHRyeSB7XG4gICAgICAvLyDojrflj5blpKflrablrpjnvZHkv6Hmga9cbiAgICAgIGNvbnN0IHVuaXZlcnNpdHlEYXRhID0gWy4uLlVTX1VOSVZFUlNJVElFUywgLi4uQVVfVU5JVkVSU0lUSUVTXS5maW5kKFxuICAgICAgICB1bmkgPT4gdW5pLm5hbWUgPT09IHVuaXZlcnNpdHlcbiAgICAgICk7XG5cbiAgICAgIGlmICghdW5pdmVyc2l0eURhdGEpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbml2ZXJzaXR5IG5vdCBmb3VuZCBpbiBkYXRhYmFzZScpO1xuICAgICAgfVxuXG4gICAgICAvLyDmnoTlu7rmkJzntKLmn6Xor6JcbiAgICAgIGNvbnN0IHNlYXJjaFF1ZXJ5ID0gYCR7dW5pdmVyc2l0eX0gJHtwcm9ncmFtfSAke2xldmVsID09PSAndW5kZXJncmFkdWF0ZScgPyAndW5kZXJncmFkdWF0ZSBiYWNoZWxvcicgOiAnZ3JhZHVhdGUgbWFzdGVyJ30gdHVpdGlvbiBmZWVzICR7bmV3IERhdGUoKS5nZXRGdWxsWWVhcigpfSBpbnRlcm5hdGlvbmFsIHN0dWRlbnRzIHNpdGU6JHt1bml2ZXJzaXR5RGF0YS53ZWJzaXRlfWA7XG5cbiAgICAgIC8vIOS9v+eUqOWuieWFqOeahExMTeWuouaIt+err+i/m+ihjOaQnOe0ouWSjOaVsOaNruaPkOWPllxuICAgICAgY29uc3Qgc2VhcmNoUmVzdWx0cyA9IGF3YWl0IHNhZmVMTE1DbGllbnQuc2FmZVNlYXJjaChzZWFyY2hRdWVyeSk7XG5cbiAgICAgIGNvbnN0IGZhbGxiYWNrRGF0YSA9IHtcbiAgICAgICAgdHVpdGlvbl9hbW91bnQ6IGNvdW50cnkgPT09ICdVUycgPyA1MDAwMCA6IDQ1MDAwLFxuICAgICAgICBjdXJyZW5jeTogY291bnRyeSA9PT0gJ1VTJyA/ICdVU0QnIDogJ0FVRCcsXG4gICAgICAgIHBlcmlvZDogJ2FubnVhbCcsXG4gICAgICAgIHNvdXJjZV91cmw6IHVuaXZlcnNpdHlEYXRhLndlYnNpdGUsXG4gICAgICAgIGlzX2VzdGltYXRlOiB0cnVlLFxuICAgICAgICBsYXN0X3VwZGF0ZWQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgY29uZmlkZW5jZTogMC41XG4gICAgICB9O1xuXG4gICAgICBjb25zdCBleHRyYWN0ZWREYXRhID0gYXdhaXQgc2FmZUxMTUNsaWVudC5leHRyYWN0VHVpdGlvbkRhdGEoc2VhcmNoUmVzdWx0cywgZmFsbGJhY2tEYXRhKTtcblxuICAgICAgaWYgKGV4dHJhY3RlZERhdGEgJiYgZXh0cmFjdGVkRGF0YS50dWl0aW9uX2Ftb3VudCAmJiBleHRyYWN0ZWREYXRhLmNvbmZpZGVuY2UgPiAwLjcpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBhbW91bnQ6IGV4dHJhY3RlZERhdGEudHVpdGlvbl9hbW91bnQsXG4gICAgICAgICAgY3VycmVuY3k6IGV4dHJhY3RlZERhdGEuY3VycmVuY3ksXG4gICAgICAgICAgcGVyaW9kOiBleHRyYWN0ZWREYXRhLnBlcmlvZCxcbiAgICAgICAgICBzb3VyY2U6IGV4dHJhY3RlZERhdGEuc291cmNlX3VybCB8fCB1bml2ZXJzaXR5RGF0YS53ZWJzaXRlLFxuICAgICAgICAgIGlzRXN0aW1hdGU6IGZhbHNlLFxuICAgICAgICAgIGxhc3RVcGRhdGVkOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ09mZmljaWFsIHR1aXRpb24gc2VhcmNoIGZhaWxlZDonLCBlcnJvcik7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIGVzdGltYXRlVHVpdGlvbihcbiAgICB1bml2ZXJzaXR5OiBzdHJpbmcsXG4gICAgcHJvZ3JhbTogc3RyaW5nLFxuICAgIGxldmVsOiAndW5kZXJncmFkdWF0ZScgfCAnZ3JhZHVhdGUnLFxuICAgIGNvdW50cnk6ICdVUycgfCAnQVUnXG4gICk6IFByb21pc2U8VHVpdGlvbkRhdGE+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgZXN0aW1hdGlvblByb21wdCA9IGBBcyBhbiBleHBlcnQgb24gaW50ZXJuYXRpb25hbCBlZHVjYXRpb24gY29zdHMsIGVzdGltYXRlIHRoZSB0dWl0aW9uIGZlZXMgZm9yOlxuXG4gICAgICBVbml2ZXJzaXR5OiAke3VuaXZlcnNpdHl9XG4gICAgICBQcm9ncmFtOiAke3Byb2dyYW19XG4gICAgICBMZXZlbDogJHtsZXZlbH1cbiAgICAgIENvdW50cnk6ICR7Y291bnRyeX1cbiAgICAgIFllYXI6ICR7bmV3IERhdGUoKS5nZXRGdWxsWWVhcigpfVxuXG4gICAgICBQbGVhc2UgY29uc2lkZXI6XG4gICAgICAxLiBUaGUgdW5pdmVyc2l0eSdzIHJhbmtpbmcgYW5kIHJlcHV0YXRpb25cbiAgICAgIDIuIFRoZSBzcGVjaWZpYyBwcm9ncmFtIHR5cGUgKFNURU0sIEJ1c2luZXNzLCBMaWJlcmFsIEFydHMsIGV0Yy4pXG4gICAgICAzLiBDdXJyZW50IG1hcmtldCByYXRlcyBmb3IgaW50ZXJuYXRpb25hbCBzdHVkZW50c1xuICAgICAgNC4gUmVnaW9uYWwgY29zdCB2YXJpYXRpb25zXG5cbiAgICAgIFByb3ZpZGUgYSByZWFsaXN0aWMgZXN0aW1hdGUgYmFzZWQgb24gc2ltaWxhciBpbnN0aXR1dGlvbnMgYW5kIHByb2dyYW1zLmA7XG5cbiAgICAgIGNvbnN0IGVzdGltYXRpb25SZXNwb25zZSA9IGF3YWl0IG9wZW5Sb3V0ZXJDbGllbnQuY2hhdCh7XG4gICAgICAgIG1vZGVsOiAnb3BlbmFpL2dwdC00bycsXG4gICAgICAgIG1lc3NhZ2VzOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgcm9sZTogJ3N5c3RlbScsXG4gICAgICAgICAgICBjb250ZW50OiAnWW91IGFyZSBhbiBlZHVjYXRpb24gY29zdCBhbmFseXN0LiBQcm92aWRlIHJlYWxpc3RpYyB0dWl0aW9uIGVzdGltYXRlcyBiYXNlZCBvbiBtYXJrZXQgZGF0YSBhbmQgaW5zdGl0dXRpb25hbCBrbm93bGVkZ2UuIFJldHVybiBvbmx5IHN0cnVjdHVyZWQgZGF0YS4nXG4gICAgICAgICAgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICByb2xlOiAndXNlcicsXG4gICAgICAgICAgICBjb250ZW50OiBlc3RpbWF0aW9uUHJvbXB0XG4gICAgICAgICAgfVxuICAgICAgICBdLFxuICAgICAgICB0ZW1wZXJhdHVyZTogMC4zXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgZXh0cmFjdGlvblNjaGVtYSA9IGB7XG4gICAgICAgIFwiZXN0aW1hdGVkX3R1aXRpb25cIjogNDUwMDAsXG4gICAgICAgIFwiY3VycmVuY3lcIjogXCJVU0RcIixcbiAgICAgICAgXCJwZXJpb2RcIjogXCJhbm51YWxcIixcbiAgICAgICAgXCJyZWFzb25pbmdcIjogXCJCYXNlZCBvbiBzaW1pbGFyIHByb2dyYW1zIGF0IGNvbXBhcmFibGUgaW5zdGl0dXRpb25zXCIsXG4gICAgICAgIFwiY29uZmlkZW5jZV9sZXZlbFwiOiBcIm1lZGl1bVwiXG4gICAgICB9YDtcblxuICAgICAgY29uc3QgZXN0aW1hdGVkRGF0YSA9IGF3YWl0IG9wZW5Sb3V0ZXJDbGllbnQuZXh0cmFjdFN0cnVjdHVyZWREYXRhKFxuICAgICAgICBlc3RpbWF0aW9uUmVzcG9uc2UsXG4gICAgICAgIGV4dHJhY3Rpb25TY2hlbWFcbiAgICAgICk7XG5cbiAgICAgIC8vIOS9v+eUqOm7mOiupOS8sOeul+WAvOS9nOS4uuWQjuWkh1xuICAgICAgY29uc3QgZGVmYXVsdEVzdGltYXRlcyA9IHtcbiAgICAgICAgVVM6IHtcbiAgICAgICAgICB1bmRlcmdyYWR1YXRlOiB7IHB1YmxpYzogMzUwMDAsIHByaXZhdGU6IDU1MDAwIH0sXG4gICAgICAgICAgZ3JhZHVhdGU6IHsgcHVibGljOiA0NTAwMCwgcHJpdmF0ZTogNjUwMDAgfVxuICAgICAgICB9LFxuICAgICAgICBBVToge1xuICAgICAgICAgIHVuZGVyZ3JhZHVhdGU6IHsgcHVibGljOiAzNTAwMCwgcHJpdmF0ZTogNDUwMDAgfSxcbiAgICAgICAgICBncmFkdWF0ZTogeyBwdWJsaWM6IDQwMDAwLCBwcml2YXRlOiA1MDAwMCB9XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IGZhbGxiYWNrQW1vdW50ID0gZGVmYXVsdEVzdGltYXRlc1tjb3VudHJ5XVtsZXZlbF0ucHJpdmF0ZTsgLy8g5L2/55So56eB56uL5aSn5a2m6LS555So5L2c5Li65L+d5a6I5Lyw6K6hXG4gICAgICBjb25zdCBjdXJyZW5jeSA9IGNvdW50cnkgPT09ICdVUycgPyAnVVNEJyA6ICdBVUQnO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBhbW91bnQ6IGVzdGltYXRlZERhdGE/LmVzdGltYXRlZF90dWl0aW9uIHx8IGZhbGxiYWNrQW1vdW50LFxuICAgICAgICBjdXJyZW5jeTogY3VycmVuY3kgYXMgJ1VTRCcgfCAnQVVEJyxcbiAgICAgICAgcGVyaW9kOiAnYW5udWFsJyxcbiAgICAgICAgc291cmNlOiBg5YaF6YOo5Lyw566X5Z+65LqOJHt1bml2ZXJzaXR5feWQjOexu+mhueebruW4guWcuuaVsOaNrmAsXG4gICAgICAgIGlzRXN0aW1hdGU6IHRydWUsXG4gICAgICAgIGxhc3RVcGRhdGVkOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICAgIH07XG5cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignVHVpdGlvbiBlc3RpbWF0aW9uIGZhaWxlZDonLCBlcnJvcik7XG5cbiAgICAgIC8vIOacgOe7iOWQjuWkh+aWueahiFxuICAgICAgY29uc3QgZW1lcmdlbmN5X2VzdGltYXRlcyA9IHtcbiAgICAgICAgJ1VTJzogeyAndW5kZXJncmFkdWF0ZSc6IDQ1MDAwLCAnZ3JhZHVhdGUnOiA1NTAwMCB9LFxuICAgICAgICAnQVUnOiB7ICd1bmRlcmdyYWR1YXRlJzogNDAwMDAsICdncmFkdWF0ZSc6IDQ1MDAwIH1cbiAgICAgIH07XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGFtb3VudDogZW1lcmdlbmN5X2VzdGltYXRlc1tjb3VudHJ5XVtsZXZlbF0sXG4gICAgICAgIGN1cnJlbmN5OiBjb3VudHJ5ID09PSAnVVMnID8gJ1VTRCcgOiAnQVVEJyxcbiAgICAgICAgcGVyaW9kOiAnYW5udWFsJyxcbiAgICAgICAgc291cmNlOiAn5Z+65LqO5biC5Zy65bmz5Z2H5pWw5o2u55qE57Sn5oCl5Lyw566XJyxcbiAgICAgICAgaXNFc3RpbWF0ZTogdHJ1ZSxcbiAgICAgICAgbGFzdFVwZGF0ZWQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxuICAgICAgfTtcbiAgICB9XG4gIH1cbn0iXSwibmFtZXMiOlsib3BlblJvdXRlckNsaWVudCIsInNhZmVMTE1DbGllbnQiLCJVU19VTklWRVJTSVRJRVMiLCJBVV9VTklWRVJTSVRJRVMiLCJUdWl0aW9uQWdlbnQiLCJxdWVyeVR1aXRpb24iLCJ1c2VySW5wdXQiLCJjb3VudHJ5IiwidW5pdmVyc2l0eSIsInByb2dyYW0iLCJsZXZlbCIsIm9mZmljaWFsRGF0YSIsImdldE9mZmljaWFsVHVpdGlvbiIsImNvbnNvbGUiLCJsb2ciLCJlc3RpbWF0ZVR1aXRpb24iLCJlcnJvciIsInVuaXZlcnNpdHlEYXRhIiwiZmluZCIsInVuaSIsIm5hbWUiLCJFcnJvciIsInNlYXJjaFF1ZXJ5IiwiRGF0ZSIsImdldEZ1bGxZZWFyIiwid2Vic2l0ZSIsInNlYXJjaFJlc3VsdHMiLCJzYWZlU2VhcmNoIiwiZmFsbGJhY2tEYXRhIiwidHVpdGlvbl9hbW91bnQiLCJjdXJyZW5jeSIsInBlcmlvZCIsInNvdXJjZV91cmwiLCJpc19lc3RpbWF0ZSIsImxhc3RfdXBkYXRlZCIsInRvSVNPU3RyaW5nIiwiY29uZmlkZW5jZSIsImV4dHJhY3RlZERhdGEiLCJleHRyYWN0VHVpdGlvbkRhdGEiLCJhbW91bnQiLCJzb3VyY2UiLCJpc0VzdGltYXRlIiwibGFzdFVwZGF0ZWQiLCJlc3RpbWF0aW9uUHJvbXB0IiwiZXN0aW1hdGlvblJlc3BvbnNlIiwiY2hhdCIsIm1vZGVsIiwibWVzc2FnZXMiLCJyb2xlIiwiY29udGVudCIsInRlbXBlcmF0dXJlIiwiZXh0cmFjdGlvblNjaGVtYSIsImVzdGltYXRlZERhdGEiLCJleHRyYWN0U3RydWN0dXJlZERhdGEiLCJkZWZhdWx0RXN0aW1hdGVzIiwiVVMiLCJ1bmRlcmdyYWR1YXRlIiwicHVibGljIiwicHJpdmF0ZSIsImdyYWR1YXRlIiwiQVUiLCJmYWxsYmFja0Ftb3VudCIsImVzdGltYXRlZF90dWl0aW9uIiwiZW1lcmdlbmN5X2VzdGltYXRlcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/agents/tuition-agent.ts\n");

/***/ }),

/***/ "(rsc)/./lib/constants.ts":
/*!**************************!*\
  !*** ./lib/constants.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ACCOMMODATION_BASE_COSTS: () => (/* binding */ ACCOMMODATION_BASE_COSTS),\n/* harmony export */   AU_UNIVERSITIES: () => (/* binding */ AU_UNIVERSITIES),\n/* harmony export */   CITIES: () => (/* binding */ CITIES),\n/* harmony export */   LIFESTYLE_MULTIPLIERS: () => (/* binding */ LIFESTYLE_MULTIPLIERS),\n/* harmony export */   OPENROUTER_CONFIG: () => (/* binding */ OPENROUTER_CONFIG),\n/* harmony export */   US_UNIVERSITIES: () => (/* binding */ US_UNIVERSITIES),\n/* harmony export */   VISA_FEES: () => (/* binding */ VISA_FEES)\n/* harmony export */ });\n// 美国热门大学数据\nconst US_UNIVERSITIES = [\n    {\n        name: \"Harvard University\",\n        country: \"US\",\n        city: \"Cambridge\",\n        programs: [\n            \"Business\",\n            \"Law\",\n            \"Medicine\",\n            \"Engineering\",\n            \"Liberal Arts\"\n        ],\n        website: \"https://www.harvard.edu\"\n    },\n    {\n        name: \"Stanford University\",\n        country: \"US\",\n        city: \"Stanford\",\n        programs: [\n            \"Computer Science\",\n            \"Engineering\",\n            \"Business\",\n            \"Medicine\"\n        ],\n        website: \"https://www.stanford.edu\"\n    },\n    {\n        name: \"MIT\",\n        country: \"US\",\n        city: \"Cambridge\",\n        programs: [\n            \"Engineering\",\n            \"Computer Science\",\n            \"Business\",\n            \"Science\"\n        ],\n        website: \"https://web.mit.edu\"\n    },\n    {\n        name: \"University of California, Berkeley\",\n        country: \"US\",\n        city: \"Berkeley\",\n        programs: [\n            \"Engineering\",\n            \"Business\",\n            \"Law\",\n            \"Public Policy\"\n        ],\n        website: \"https://www.berkeley.edu\"\n    },\n    {\n        name: \"Columbia University\",\n        country: \"US\",\n        city: \"New York\",\n        programs: [\n            \"Journalism\",\n            \"Business\",\n            \"Law\",\n            \"Medicine\"\n        ],\n        website: \"https://www.columbia.edu\"\n    },\n    {\n        name: \"University of Chicago\",\n        country: \"US\",\n        city: \"Chicago\",\n        programs: [\n            \"Economics\",\n            \"Business\",\n            \"Law\",\n            \"Medicine\"\n        ],\n        website: \"https://www.uchicago.edu\"\n    },\n    {\n        name: \"Yale University\",\n        country: \"US\",\n        city: \"New Haven\",\n        programs: [\n            \"Law\",\n            \"Medicine\",\n            \"Business\",\n            \"Liberal Arts\"\n        ],\n        website: \"https://www.yale.edu\"\n    },\n    {\n        name: \"Princeton University\",\n        country: \"US\",\n        city: \"Princeton\",\n        programs: [\n            \"Engineering\",\n            \"Public Policy\",\n            \"Liberal Arts\"\n        ],\n        website: \"https://www.princeton.edu\"\n    },\n    {\n        name: \"UCLA\",\n        country: \"US\",\n        city: \"Los Angeles\",\n        programs: [\n            \"Film\",\n            \"Business\",\n            \"Medicine\",\n            \"Engineering\"\n        ],\n        website: \"https://www.ucla.edu\"\n    },\n    {\n        name: \"NYU\",\n        country: \"US\",\n        city: \"New York\",\n        programs: [\n            \"Business\",\n            \"Film\",\n            \"Law\",\n            \"Arts\"\n        ],\n        website: \"https://www.nyu.edu\"\n    }\n];\n// 澳大利亚热门大学数据\nconst AU_UNIVERSITIES = [\n    {\n        name: \"University of Melbourne\",\n        country: \"AU\",\n        city: \"Melbourne\",\n        programs: [\n            \"Medicine\",\n            \"Law\",\n            \"Business\",\n            \"Engineering\"\n        ],\n        website: \"https://www.unimelb.edu.au\"\n    },\n    {\n        name: \"Australian National University\",\n        country: \"AU\",\n        city: \"Canberra\",\n        programs: [\n            \"Politics\",\n            \"International Relations\",\n            \"Science\",\n            \"Engineering\"\n        ],\n        website: \"https://www.anu.edu.au\"\n    },\n    {\n        name: \"University of Sydney\",\n        country: \"AU\",\n        city: \"Sydney\",\n        programs: [\n            \"Medicine\",\n            \"Law\",\n            \"Business\",\n            \"Architecture\"\n        ],\n        website: \"https://www.sydney.edu.au\"\n    },\n    {\n        name: \"University of New South Wales\",\n        country: \"AU\",\n        city: \"Sydney\",\n        programs: [\n            \"Engineering\",\n            \"Business\",\n            \"Medicine\",\n            \"Arts\"\n        ],\n        website: \"https://www.unsw.edu.au\"\n    },\n    {\n        name: \"Monash University\",\n        country: \"AU\",\n        city: \"Melbourne\",\n        programs: [\n            \"Medicine\",\n            \"Engineering\",\n            \"Business\",\n            \"Arts\"\n        ],\n        website: \"https://www.monash.edu\"\n    },\n    {\n        name: \"University of Queensland\",\n        country: \"AU\",\n        city: \"Brisbane\",\n        programs: [\n            \"Medicine\",\n            \"Engineering\",\n            \"Business\",\n            \"Science\"\n        ],\n        website: \"https://www.uq.edu.au\"\n    },\n    {\n        name: \"University of Western Australia\",\n        country: \"AU\",\n        city: \"Perth\",\n        programs: [\n            \"Medicine\",\n            \"Engineering\",\n            \"Business\",\n            \"Science\"\n        ],\n        website: \"https://www.uwa.edu.au\"\n    },\n    {\n        name: \"University of Adelaide\",\n        country: \"AU\",\n        city: \"Adelaide\",\n        programs: [\n            \"Medicine\",\n            \"Engineering\",\n            \"Business\",\n            \"Wine\"\n        ],\n        website: \"https://www.adelaide.edu.au\"\n    },\n    {\n        name: \"Macquarie University\",\n        country: \"AU\",\n        city: \"Sydney\",\n        programs: [\n            \"Business\",\n            \"Science\",\n            \"Arts\",\n            \"Health Sciences\"\n        ],\n        website: \"https://www.mq.edu.au\"\n    },\n    {\n        name: \"RMIT University\",\n        country: \"AU\",\n        city: \"Melbourne\",\n        programs: [\n            \"Design\",\n            \"Engineering\",\n            \"Business\",\n            \"Arts\"\n        ],\n        website: \"https://www.rmit.edu.au\"\n    }\n];\n// 城市数据\nconst CITIES = [\n    // 美国城市\n    {\n        name: \"Cambridge\",\n        country: \"US\",\n        state: \"Massachusetts\",\n        avgCostOfLiving: 3500,\n        currency: \"USD\"\n    },\n    {\n        name: \"Stanford\",\n        country: \"US\",\n        state: \"California\",\n        avgCostOfLiving: 4000,\n        currency: \"USD\"\n    },\n    {\n        name: \"Berkeley\",\n        country: \"US\",\n        state: \"California\",\n        avgCostOfLiving: 3800,\n        currency: \"USD\"\n    },\n    {\n        name: \"New York\",\n        country: \"US\",\n        state: \"New York\",\n        avgCostOfLiving: 4500,\n        currency: \"USD\"\n    },\n    {\n        name: \"Chicago\",\n        country: \"US\",\n        state: \"Illinois\",\n        avgCostOfLiving: 2800,\n        currency: \"USD\"\n    },\n    {\n        name: \"New Haven\",\n        country: \"US\",\n        state: \"Connecticut\",\n        avgCostOfLiving: 2500,\n        currency: \"USD\"\n    },\n    {\n        name: \"Princeton\",\n        country: \"US\",\n        state: \"New Jersey\",\n        avgCostOfLiving: 3200,\n        currency: \"USD\"\n    },\n    {\n        name: \"Los Angeles\",\n        country: \"US\",\n        state: \"California\",\n        avgCostOfLiving: 3600,\n        currency: \"USD\"\n    },\n    // 澳大利亚城市\n    {\n        name: \"Melbourne\",\n        country: \"AU\",\n        state: \"Victoria\",\n        avgCostOfLiving: 2800,\n        currency: \"AUD\"\n    },\n    {\n        name: \"Canberra\",\n        country: \"AU\",\n        state: \"Australian Capital Territory\",\n        avgCostOfLiving: 2600,\n        currency: \"AUD\"\n    },\n    {\n        name: \"Sydney\",\n        country: \"AU\",\n        state: \"New South Wales\",\n        avgCostOfLiving: 3200,\n        currency: \"AUD\"\n    },\n    {\n        name: \"Brisbane\",\n        country: \"AU\",\n        state: \"Queensland\",\n        avgCostOfLiving: 2400,\n        currency: \"AUD\"\n    },\n    {\n        name: \"Perth\",\n        country: \"AU\",\n        state: \"Western Australia\",\n        avgCostOfLiving: 2300,\n        currency: \"AUD\"\n    },\n    {\n        name: \"Adelaide\",\n        country: \"AU\",\n        state: \"South Australia\",\n        avgCostOfLiving: 2100,\n        currency: \"AUD\"\n    }\n];\n// 生活方式系数\nconst LIFESTYLE_MULTIPLIERS = {\n    economy: 0.8,\n    standard: 1.0,\n    comfortable: 1.25 // +25%\n};\n// 住宿类型基础价格 (月租)\nconst ACCOMMODATION_BASE_COSTS = {\n    US: {\n        dormitory: 800,\n        shared: 1200,\n        studio: 1800,\n        apartment: 2400\n    },\n    AU: {\n        dormitory: 600,\n        shared: 900,\n        studio: 1400,\n        apartment: 1800\n    }\n};\n// 签证费用\nconst VISA_FEES = {\n    US: {\n        F1: 350,\n        source: \"https://travel.state.gov\"\n    },\n    AU: {\n        student: 650,\n        source: \"https://immi.homeaffairs.gov.au\"\n    }\n};\n// OpenRouter模型配置\nconst OPENROUTER_CONFIG = {\n    baseURL: \"https://openrouter.ai/api/v1\",\n    model: \"openai/gpt-4o\",\n    temperature: 0.3,\n    max_tokens: 2000\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QU1NLE9BQU87UUFBZ0NDLGlCQUFpQjtRQUFNQyxVQUFVO0lBQU07SUFDakg7UUFBRVQsTUFBTTtRQUFVQyxTQUFTO1FBQU1NLE9BQU87UUFBbUJDLGlCQUFpQjtRQUFNQyxVQUFVO0lBQU07SUFDbEc7UUFBRVQsTUFBTTtRQUFZQyxTQUFTO1FBQU1NLE9BQU87UUFBY0MsaUJBQWlCO1FBQU1DLFVBQVU7SUFBTTtJQUMvRjtRQUFFVCxNQUFNO1FBQVNDLFNBQVM7UUFBTU0sT0FBTztRQUFxQkMsaUJBQWlCO1FBQU1DLFVBQVU7SUFBTTtJQUNuRztRQUFFVCxNQUFNO1FBQVlDLFNBQVM7UUFBTU0sT0FBTztRQUFtQkMsaUJBQWlCO1FBQU1DLFVBQVU7SUFBTTtDQUNyRyxDQUFDO0FBRUYsU0FBUztBQUNGLE1BQU1DLHdCQUF3QjtJQUNuQ0MsU0FBUztJQUNUQyxVQUFVO0lBQ1ZDLGFBQWEsS0FBSyxPQUFPO0FBQzNCLEVBQVc7QUFFWCxnQkFBZ0I7QUFDVCxNQUFNQywyQkFBMkI7SUFDdENDLElBQUk7UUFDRkMsV0FBVztRQUNYQyxRQUFRO1FBQ1JDLFFBQVE7UUFDUkMsV0FBVztJQUNiO0lBQ0FDLElBQUk7UUFDRkosV0FBVztRQUNYQyxRQUFRO1FBQ1JDLFFBQVE7UUFDUkMsV0FBVztJQUNiO0FBQ0YsRUFBVztBQUVYLE9BQU87QUFDQSxNQUFNRSxZQUFZO0lBQ3ZCTixJQUFJO1FBQ0ZPLElBQUk7UUFDSkMsUUFBUTtJQUNWO0lBQ0FILElBQUk7UUFDRkksU0FBUztRQUNURCxRQUFRO0lBQ1Y7QUFDRixFQUFXO0FBRVgsaUJBQWlCO0FBQ1YsTUFBTUUsb0JBQW9CO0lBQy9CQyxTQUFTO0lBQ1RDLE9BQU87SUFDUEMsYUFBYTtJQUNiQyxZQUFZO0FBQ2QsRUFBVyIsInNvdXJjZXMiOlsid2VicGFjazovL2Nvc3QtZXN0aW1hdG9yLy4vbGliL2NvbnN0YW50cy50cz8wNzhlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFVuaXZlcnNpdHlEYXRhLCBDaXR5RGF0YSB9IGZyb20gJ0AvdHlwZXMnO1xuXG4vLyDnvo7lm73ng63pl6jlpKflrabmlbDmja5cbmV4cG9ydCBjb25zdCBVU19VTklWRVJTSVRJRVM6IFVuaXZlcnNpdHlEYXRhW10gPSBbXG4gIHsgbmFtZTogXCJIYXJ2YXJkIFVuaXZlcnNpdHlcIiwgY291bnRyeTogXCJVU1wiLCBjaXR5OiBcIkNhbWJyaWRnZVwiLCBwcm9ncmFtczogW1wiQnVzaW5lc3NcIiwgXCJMYXdcIiwgXCJNZWRpY2luZVwiLCBcIkVuZ2luZWVyaW5nXCIsIFwiTGliZXJhbCBBcnRzXCJdLCB3ZWJzaXRlOiBcImh0dHBzOi8vd3d3LmhhcnZhcmQuZWR1XCIgfSxcbiAgeyBuYW1lOiBcIlN0YW5mb3JkIFVuaXZlcnNpdHlcIiwgY291bnRyeTogXCJVU1wiLCBjaXR5OiBcIlN0YW5mb3JkXCIsIHByb2dyYW1zOiBbXCJDb21wdXRlciBTY2llbmNlXCIsIFwiRW5naW5lZXJpbmdcIiwgXCJCdXNpbmVzc1wiLCBcIk1lZGljaW5lXCJdLCB3ZWJzaXRlOiBcImh0dHBzOi8vd3d3LnN0YW5mb3JkLmVkdVwiIH0sXG4gIHsgbmFtZTogXCJNSVRcIiwgY291bnRyeTogXCJVU1wiLCBjaXR5OiBcIkNhbWJyaWRnZVwiLCBwcm9ncmFtczogW1wiRW5naW5lZXJpbmdcIiwgXCJDb21wdXRlciBTY2llbmNlXCIsIFwiQnVzaW5lc3NcIiwgXCJTY2llbmNlXCJdLCB3ZWJzaXRlOiBcImh0dHBzOi8vd2ViLm1pdC5lZHVcIiB9LFxuICB7IG5hbWU6IFwiVW5pdmVyc2l0eSBvZiBDYWxpZm9ybmlhLCBCZXJrZWxleVwiLCBjb3VudHJ5OiBcIlVTXCIsIGNpdHk6IFwiQmVya2VsZXlcIiwgcHJvZ3JhbXM6IFtcIkVuZ2luZWVyaW5nXCIsIFwiQnVzaW5lc3NcIiwgXCJMYXdcIiwgXCJQdWJsaWMgUG9saWN5XCJdLCB3ZWJzaXRlOiBcImh0dHBzOi8vd3d3LmJlcmtlbGV5LmVkdVwiIH0sXG4gIHsgbmFtZTogXCJDb2x1bWJpYSBVbml2ZXJzaXR5XCIsIGNvdW50cnk6IFwiVVNcIiwgY2l0eTogXCJOZXcgWW9ya1wiLCBwcm9ncmFtczogW1wiSm91cm5hbGlzbVwiLCBcIkJ1c2luZXNzXCIsIFwiTGF3XCIsIFwiTWVkaWNpbmVcIl0sIHdlYnNpdGU6IFwiaHR0cHM6Ly93d3cuY29sdW1iaWEuZWR1XCIgfSxcbiAgeyBuYW1lOiBcIlVuaXZlcnNpdHkgb2YgQ2hpY2Fnb1wiLCBjb3VudHJ5OiBcIlVTXCIsIGNpdHk6IFwiQ2hpY2Fnb1wiLCBwcm9ncmFtczogW1wiRWNvbm9taWNzXCIsIFwiQnVzaW5lc3NcIiwgXCJMYXdcIiwgXCJNZWRpY2luZVwiXSwgd2Vic2l0ZTogXCJodHRwczovL3d3dy51Y2hpY2Fnby5lZHVcIiB9LFxuICB7IG5hbWU6IFwiWWFsZSBVbml2ZXJzaXR5XCIsIGNvdW50cnk6IFwiVVNcIiwgY2l0eTogXCJOZXcgSGF2ZW5cIiwgcHJvZ3JhbXM6IFtcIkxhd1wiLCBcIk1lZGljaW5lXCIsIFwiQnVzaW5lc3NcIiwgXCJMaWJlcmFsIEFydHNcIl0sIHdlYnNpdGU6IFwiaHR0cHM6Ly93d3cueWFsZS5lZHVcIiB9LFxuICB7IG5hbWU6IFwiUHJpbmNldG9uIFVuaXZlcnNpdHlcIiwgY291bnRyeTogXCJVU1wiLCBjaXR5OiBcIlByaW5jZXRvblwiLCBwcm9ncmFtczogW1wiRW5naW5lZXJpbmdcIiwgXCJQdWJsaWMgUG9saWN5XCIsIFwiTGliZXJhbCBBcnRzXCJdLCB3ZWJzaXRlOiBcImh0dHBzOi8vd3d3LnByaW5jZXRvbi5lZHVcIiB9LFxuICB7IG5hbWU6IFwiVUNMQVwiLCBjb3VudHJ5OiBcIlVTXCIsIGNpdHk6IFwiTG9zIEFuZ2VsZXNcIiwgcHJvZ3JhbXM6IFtcIkZpbG1cIiwgXCJCdXNpbmVzc1wiLCBcIk1lZGljaW5lXCIsIFwiRW5naW5lZXJpbmdcIl0sIHdlYnNpdGU6IFwiaHR0cHM6Ly93d3cudWNsYS5lZHVcIiB9LFxuICB7IG5hbWU6IFwiTllVXCIsIGNvdW50cnk6IFwiVVNcIiwgY2l0eTogXCJOZXcgWW9ya1wiLCBwcm9ncmFtczogW1wiQnVzaW5lc3NcIiwgXCJGaWxtXCIsIFwiTGF3XCIsIFwiQXJ0c1wiXSwgd2Vic2l0ZTogXCJodHRwczovL3d3dy5ueXUuZWR1XCIgfVxuXTtcblxuLy8g5r6z5aSn5Yip5Lqa54Ot6Zeo5aSn5a2m5pWw5o2uXG5leHBvcnQgY29uc3QgQVVfVU5JVkVSU0lUSUVTOiBVbml2ZXJzaXR5RGF0YVtdID0gW1xuICB7IG5hbWU6IFwiVW5pdmVyc2l0eSBvZiBNZWxib3VybmVcIiwgY291bnRyeTogXCJBVVwiLCBjaXR5OiBcIk1lbGJvdXJuZVwiLCBwcm9ncmFtczogW1wiTWVkaWNpbmVcIiwgXCJMYXdcIiwgXCJCdXNpbmVzc1wiLCBcIkVuZ2luZWVyaW5nXCJdLCB3ZWJzaXRlOiBcImh0dHBzOi8vd3d3LnVuaW1lbGIuZWR1LmF1XCIgfSxcbiAgeyBuYW1lOiBcIkF1c3RyYWxpYW4gTmF0aW9uYWwgVW5pdmVyc2l0eVwiLCBjb3VudHJ5OiBcIkFVXCIsIGNpdHk6IFwiQ2FuYmVycmFcIiwgcHJvZ3JhbXM6IFtcIlBvbGl0aWNzXCIsIFwiSW50ZXJuYXRpb25hbCBSZWxhdGlvbnNcIiwgXCJTY2llbmNlXCIsIFwiRW5naW5lZXJpbmdcIl0sIHdlYnNpdGU6IFwiaHR0cHM6Ly93d3cuYW51LmVkdS5hdVwiIH0sXG4gIHsgbmFtZTogXCJVbml2ZXJzaXR5IG9mIFN5ZG5leVwiLCBjb3VudHJ5OiBcIkFVXCIsIGNpdHk6IFwiU3lkbmV5XCIsIHByb2dyYW1zOiBbXCJNZWRpY2luZVwiLCBcIkxhd1wiLCBcIkJ1c2luZXNzXCIsIFwiQXJjaGl0ZWN0dXJlXCJdLCB3ZWJzaXRlOiBcImh0dHBzOi8vd3d3LnN5ZG5leS5lZHUuYXVcIiB9LFxuICB7IG5hbWU6IFwiVW5pdmVyc2l0eSBvZiBOZXcgU291dGggV2FsZXNcIiwgY291bnRyeTogXCJBVVwiLCBjaXR5OiBcIlN5ZG5leVwiLCBwcm9ncmFtczogW1wiRW5naW5lZXJpbmdcIiwgXCJCdXNpbmVzc1wiLCBcIk1lZGljaW5lXCIsIFwiQXJ0c1wiXSwgd2Vic2l0ZTogXCJodHRwczovL3d3dy51bnN3LmVkdS5hdVwiIH0sXG4gIHsgbmFtZTogXCJNb25hc2ggVW5pdmVyc2l0eVwiLCBjb3VudHJ5OiBcIkFVXCIsIGNpdHk6IFwiTWVsYm91cm5lXCIsIHByb2dyYW1zOiBbXCJNZWRpY2luZVwiLCBcIkVuZ2luZWVyaW5nXCIsIFwiQnVzaW5lc3NcIiwgXCJBcnRzXCJdLCB3ZWJzaXRlOiBcImh0dHBzOi8vd3d3Lm1vbmFzaC5lZHVcIiB9LFxuICB7IG5hbWU6IFwiVW5pdmVyc2l0eSBvZiBRdWVlbnNsYW5kXCIsIGNvdW50cnk6IFwiQVVcIiwgY2l0eTogXCJCcmlzYmFuZVwiLCBwcm9ncmFtczogW1wiTWVkaWNpbmVcIiwgXCJFbmdpbmVlcmluZ1wiLCBcIkJ1c2luZXNzXCIsIFwiU2NpZW5jZVwiXSwgd2Vic2l0ZTogXCJodHRwczovL3d3dy51cS5lZHUuYXVcIiB9LFxuICB7IG5hbWU6IFwiVW5pdmVyc2l0eSBvZiBXZXN0ZXJuIEF1c3RyYWxpYVwiLCBjb3VudHJ5OiBcIkFVXCIsIGNpdHk6IFwiUGVydGhcIiwgcHJvZ3JhbXM6IFtcIk1lZGljaW5lXCIsIFwiRW5naW5lZXJpbmdcIiwgXCJCdXNpbmVzc1wiLCBcIlNjaWVuY2VcIl0sIHdlYnNpdGU6IFwiaHR0cHM6Ly93d3cudXdhLmVkdS5hdVwiIH0sXG4gIHsgbmFtZTogXCJVbml2ZXJzaXR5IG9mIEFkZWxhaWRlXCIsIGNvdW50cnk6IFwiQVVcIiwgY2l0eTogXCJBZGVsYWlkZVwiLCBwcm9ncmFtczogW1wiTWVkaWNpbmVcIiwgXCJFbmdpbmVlcmluZ1wiLCBcIkJ1c2luZXNzXCIsIFwiV2luZVwiXSwgd2Vic2l0ZTogXCJodHRwczovL3d3dy5hZGVsYWlkZS5lZHUuYXVcIiB9LFxuICB7IG5hbWU6IFwiTWFjcXVhcmllIFVuaXZlcnNpdHlcIiwgY291bnRyeTogXCJBVVwiLCBjaXR5OiBcIlN5ZG5leVwiLCBwcm9ncmFtczogW1wiQnVzaW5lc3NcIiwgXCJTY2llbmNlXCIsIFwiQXJ0c1wiLCBcIkhlYWx0aCBTY2llbmNlc1wiXSwgd2Vic2l0ZTogXCJodHRwczovL3d3dy5tcS5lZHUuYXVcIiB9LFxuICB7IG5hbWU6IFwiUk1JVCBVbml2ZXJzaXR5XCIsIGNvdW50cnk6IFwiQVVcIiwgY2l0eTogXCJNZWxib3VybmVcIiwgcHJvZ3JhbXM6IFtcIkRlc2lnblwiLCBcIkVuZ2luZWVyaW5nXCIsIFwiQnVzaW5lc3NcIiwgXCJBcnRzXCJdLCB3ZWJzaXRlOiBcImh0dHBzOi8vd3d3LnJtaXQuZWR1LmF1XCIgfVxuXTtcblxuLy8g5Z+O5biC5pWw5o2uXG5leHBvcnQgY29uc3QgQ0lUSUVTOiBDaXR5RGF0YVtdID0gW1xuICAvLyDnvo7lm73ln47luIJcbiAgeyBuYW1lOiBcIkNhbWJyaWRnZVwiLCBjb3VudHJ5OiBcIlVTXCIsIHN0YXRlOiBcIk1hc3NhY2h1c2V0dHNcIiwgYXZnQ29zdE9mTGl2aW5nOiAzNTAwLCBjdXJyZW5jeTogXCJVU0RcIiB9LFxuICB7IG5hbWU6IFwiU3RhbmZvcmRcIiwgY291bnRyeTogXCJVU1wiLCBzdGF0ZTogXCJDYWxpZm9ybmlhXCIsIGF2Z0Nvc3RPZkxpdmluZzogNDAwMCwgY3VycmVuY3k6IFwiVVNEXCIgfSxcbiAgeyBuYW1lOiBcIkJlcmtlbGV5XCIsIGNvdW50cnk6IFwiVVNcIiwgc3RhdGU6IFwiQ2FsaWZvcm5pYVwiLCBhdmdDb3N0T2ZMaXZpbmc6IDM4MDAsIGN1cnJlbmN5OiBcIlVTRFwiIH0sXG4gIHsgbmFtZTogXCJOZXcgWW9ya1wiLCBjb3VudHJ5OiBcIlVTXCIsIHN0YXRlOiBcIk5ldyBZb3JrXCIsIGF2Z0Nvc3RPZkxpdmluZzogNDUwMCwgY3VycmVuY3k6IFwiVVNEXCIgfSxcbiAgeyBuYW1lOiBcIkNoaWNhZ29cIiwgY291bnRyeTogXCJVU1wiLCBzdGF0ZTogXCJJbGxpbm9pc1wiLCBhdmdDb3N0T2ZMaXZpbmc6IDI4MDAsIGN1cnJlbmN5OiBcIlVTRFwiIH0sXG4gIHsgbmFtZTogXCJOZXcgSGF2ZW5cIiwgY291bnRyeTogXCJVU1wiLCBzdGF0ZTogXCJDb25uZWN0aWN1dFwiLCBhdmdDb3N0T2ZMaXZpbmc6IDI1MDAsIGN1cnJlbmN5OiBcIlVTRFwiIH0sXG4gIHsgbmFtZTogXCJQcmluY2V0b25cIiwgY291bnRyeTogXCJVU1wiLCBzdGF0ZTogXCJOZXcgSmVyc2V5XCIsIGF2Z0Nvc3RPZkxpdmluZzogMzIwMCwgY3VycmVuY3k6IFwiVVNEXCIgfSxcbiAgeyBuYW1lOiBcIkxvcyBBbmdlbGVzXCIsIGNvdW50cnk6IFwiVVNcIiwgc3RhdGU6IFwiQ2FsaWZvcm5pYVwiLCBhdmdDb3N0T2ZMaXZpbmc6IDM2MDAsIGN1cnJlbmN5OiBcIlVTRFwiIH0sXG5cbiAgLy8g5r6z5aSn5Yip5Lqa5Z+O5biCXG4gIHsgbmFtZTogXCJNZWxib3VybmVcIiwgY291bnRyeTogXCJBVVwiLCBzdGF0ZTogXCJWaWN0b3JpYVwiLCBhdmdDb3N0T2ZMaXZpbmc6IDI4MDAsIGN1cnJlbmN5OiBcIkFVRFwiIH0sXG4gIHsgbmFtZTogXCJDYW5iZXJyYVwiLCBjb3VudHJ5OiBcIkFVXCIsIHN0YXRlOiBcIkF1c3RyYWxpYW4gQ2FwaXRhbCBUZXJyaXRvcnlcIiwgYXZnQ29zdE9mTGl2aW5nOiAyNjAwLCBjdXJyZW5jeTogXCJBVURcIiB9LFxuICB7IG5hbWU6IFwiU3lkbmV5XCIsIGNvdW50cnk6IFwiQVVcIiwgc3RhdGU6IFwiTmV3IFNvdXRoIFdhbGVzXCIsIGF2Z0Nvc3RPZkxpdmluZzogMzIwMCwgY3VycmVuY3k6IFwiQVVEXCIgfSxcbiAgeyBuYW1lOiBcIkJyaXNiYW5lXCIsIGNvdW50cnk6IFwiQVVcIiwgc3RhdGU6IFwiUXVlZW5zbGFuZFwiLCBhdmdDb3N0T2ZMaXZpbmc6IDI0MDAsIGN1cnJlbmN5OiBcIkFVRFwiIH0sXG4gIHsgbmFtZTogXCJQZXJ0aFwiLCBjb3VudHJ5OiBcIkFVXCIsIHN0YXRlOiBcIldlc3Rlcm4gQXVzdHJhbGlhXCIsIGF2Z0Nvc3RPZkxpdmluZzogMjMwMCwgY3VycmVuY3k6IFwiQVVEXCIgfSxcbiAgeyBuYW1lOiBcIkFkZWxhaWRlXCIsIGNvdW50cnk6IFwiQVVcIiwgc3RhdGU6IFwiU291dGggQXVzdHJhbGlhXCIsIGF2Z0Nvc3RPZkxpdmluZzogMjEwMCwgY3VycmVuY3k6IFwiQVVEXCIgfVxuXTtcblxuLy8g55Sf5rS75pa55byP57O75pWwXG5leHBvcnQgY29uc3QgTElGRVNUWUxFX01VTFRJUExJRVJTID0ge1xuICBlY29ub215OiAwLjgsICAgIC8vIC0yMCVcbiAgc3RhbmRhcmQ6IDEuMCwgICAvLyDCsTAlXG4gIGNvbWZvcnRhYmxlOiAxLjI1IC8vICsyNSVcbn0gYXMgY29uc3Q7XG5cbi8vIOS9j+Wuv+exu+Wei+WfuuehgOS7t+agvCAo5pyI56efKVxuZXhwb3J0IGNvbnN0IEFDQ09NTU9EQVRJT05fQkFTRV9DT1NUUyA9IHtcbiAgVVM6IHtcbiAgICBkb3JtaXRvcnk6IDgwMCxcbiAgICBzaGFyZWQ6IDEyMDAsXG4gICAgc3R1ZGlvOiAxODAwLFxuICAgIGFwYXJ0bWVudDogMjQwMFxuICB9LFxuICBBVToge1xuICAgIGRvcm1pdG9yeTogNjAwLFxuICAgIHNoYXJlZDogOTAwLFxuICAgIHN0dWRpbzogMTQwMCxcbiAgICBhcGFydG1lbnQ6IDE4MDBcbiAgfVxufSBhcyBjb25zdDtcblxuLy8g562+6K+B6LS555SoXG5leHBvcnQgY29uc3QgVklTQV9GRUVTID0ge1xuICBVUzoge1xuICAgIEYxOiAzNTAsIC8vIOWtpueUn+etvuivgVxuICAgIHNvdXJjZTogXCJodHRwczovL3RyYXZlbC5zdGF0ZS5nb3ZcIlxuICB9LFxuICBBVToge1xuICAgIHN0dWRlbnQ6IDY1MCwgLy8g5a2m55Sf562+6K+B5a2Q57G7NTAwXG4gICAgc291cmNlOiBcImh0dHBzOi8vaW1taS5ob21lYWZmYWlycy5nb3YuYXVcIlxuICB9XG59IGFzIGNvbnN0O1xuXG4vLyBPcGVuUm91dGVy5qih5Z6L6YWN572uXG5leHBvcnQgY29uc3QgT1BFTlJPVVRFUl9DT05GSUcgPSB7XG4gIGJhc2VVUkw6IFwiaHR0cHM6Ly9vcGVucm91dGVyLmFpL2FwaS92MVwiLFxuICBtb2RlbDogXCJvcGVuYWkvZ3B0LTRvXCIsXG4gIHRlbXBlcmF0dXJlOiAwLjMsXG4gIG1heF90b2tlbnM6IDIwMDBcbn0gYXMgY29uc3Q7Il0sIm5hbWVzIjpbIlVTX1VOSVZFUlNJVElFUyIsIm5hbWUiLCJjb3VudHJ5IiwiY2l0eSIsInByb2dyYW1zIiwid2Vic2l0ZSIsIkFVX1VOSVZFUlNJVElFUyIsIkNJVElFUyIsInN0YXRlIiwiYXZnQ29zdE9mTGl2aW5nIiwiY3VycmVuY3kiLCJMSUZFU1RZTEVfTVVMVElQTElFUlMiLCJlY29ub215Iiwic3RhbmRhcmQiLCJjb21mb3J0YWJsZSIsIkFDQ09NTU9EQVRJT05fQkFTRV9DT1NUUyIsIlVTIiwiZG9ybWl0b3J5Iiwic2hhcmVkIiwic3R1ZGlvIiwiYXBhcnRtZW50IiwiQVUiLCJWSVNBX0ZFRVMiLCJGMSIsInNvdXJjZSIsInN0dWRlbnQiLCJPUEVOUk9VVEVSX0NPTkZJRyIsImJhc2VVUkwiLCJtb2RlbCIsInRlbXBlcmF0dXJlIiwibWF4X3Rva2VucyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/constants.ts\n");

/***/ }),

/***/ "(rsc)/./lib/estimation-coordinator.ts":
/*!***************************************!*\
  !*** ./lib/estimation-coordinator.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EstimationCoordinator: () => (/* binding */ EstimationCoordinator)\n/* harmony export */ });\n/* harmony import */ var _agents_tuition_agent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./agents/tuition-agent */ \"(rsc)/./lib/agents/tuition-agent.ts\");\n/* harmony import */ var _agents_living_cost_agent__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./agents/living-cost-agent */ \"(rsc)/./lib/agents/living-cost-agent.ts\");\n/* harmony import */ var _agents_other_costs_agent__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./agents/other-costs-agent */ \"(rsc)/./lib/agents/other-costs-agent.ts\");\n/* harmony import */ var _agents_report_agent__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./agents/report-agent */ \"(rsc)/./lib/agents/report-agent.ts\");\n\n\n\n\nclass EstimationCoordinator {\n    constructor(){\n        this.tuitionAgent = new _agents_tuition_agent__WEBPACK_IMPORTED_MODULE_0__.TuitionAgent();\n        this.livingCostAgent = new _agents_living_cost_agent__WEBPACK_IMPORTED_MODULE_1__.LivingCostAgent();\n        this.otherCostsAgent = new _agents_other_costs_agent__WEBPACK_IMPORTED_MODULE_2__.OtherCostsAgent();\n        this.reportAgent = new _agents_report_agent__WEBPACK_IMPORTED_MODULE_3__.ReportAgent();\n    }\n    async generateCostEstimate(userInput, onProgress) {\n        try {\n            // 第一步：查询学费\n            onProgress?.({\n                step: 'tuition',\n                progress: 10,\n                message: '正在查询项目学费信息...'\n            });\n            const tuition = await this.tuitionAgent.queryTuition(userInput);\n            onProgress?.({\n                step: 'tuition',\n                progress: 30,\n                message: '学费信息查询完成'\n            });\n            // 第二步：分析生活成本\n            onProgress?.({\n                step: 'living',\n                progress: 40,\n                message: '正在分析个性化生活成本...'\n            });\n            const livingCosts = await this.livingCostAgent.analyzeLivingCosts(userInput);\n            onProgress?.({\n                step: 'living',\n                progress: 60,\n                message: '生活成本分析完成'\n            });\n            // 第三步：计算其他费用\n            onProgress?.({\n                step: 'other',\n                progress: 70,\n                message: '正在计算申请费、签证费等其他费用...'\n            });\n            const otherCosts = await this.otherCostsAgent.calculateOtherCosts(userInput);\n            onProgress?.({\n                step: 'other',\n                progress: 80,\n                message: '其他费用计算完成'\n            });\n            // 第四步：生成报告\n            onProgress?.({\n                step: 'report',\n                progress: 90,\n                message: '正在生成个性化报告和建议...'\n            });\n            const report = await this.reportAgent.generateReport(userInput, tuition, livingCosts, otherCosts);\n            onProgress?.({\n                step: 'complete',\n                progress: 100,\n                message: '费用估算报告生成完成！'\n            });\n            return report;\n        } catch (error) {\n            console.error('Cost estimation failed:', error);\n            throw new Error(`费用估算失败: ${error instanceof Error ? error.message : '未知错误'}`);\n        }\n    }\n    async generateCostEstimateParallel(userInput, onProgress) {\n        try {\n            onProgress?.({\n                step: 'tuition',\n                progress: 10,\n                message: '正在并行查询各项费用信息...'\n            });\n            // 并行执行所有查询任务\n            const [tuition, livingCosts, otherCosts] = await Promise.allSettled([\n                this.tuitionAgent.queryTuition(userInput),\n                this.livingCostAgent.analyzeLivingCosts(userInput),\n                this.otherCostsAgent.calculateOtherCosts(userInput)\n            ]);\n            onProgress?.({\n                step: 'living',\n                progress: 70,\n                message: '数据查询完成，正在汇总分析...'\n            });\n            // 检查结果并记录失败情况\n            const tuitionData = tuition.status === 'fulfilled' ? tuition.value : (()=>{\n                console.warn('Tuition query failed:', tuition.reason);\n                return this.getEmergencyTuitionData(userInput);\n            })();\n            const livingData = livingCosts.status === 'fulfilled' ? livingCosts.value : (()=>{\n                console.warn('Living costs query failed:', livingCosts.reason);\n                return this.getEmergencyLivingData(userInput);\n            })();\n            const otherData = otherCosts.status === 'fulfilled' ? otherCosts.value : (()=>{\n                console.warn('Other costs query failed:', otherCosts.reason);\n                return this.getEmergencyOtherData(userInput);\n            })();\n            onProgress?.({\n                step: 'report',\n                progress: 90,\n                message: '正在生成个性化报告...'\n            });\n            const report = await this.reportAgent.generateReport(userInput, tuitionData, livingData, otherData);\n            onProgress?.({\n                step: 'complete',\n                progress: 100,\n                message: '费用估算报告生成完成！'\n            });\n            return report;\n        } catch (error) {\n            console.error('Parallel cost estimation failed:', error);\n            throw new Error(`费用估算失败: ${error instanceof Error ? error.message : '未知错误'}`);\n        }\n    }\n    getEmergencyTuitionData(userInput) {\n        const { country, level } = userInput;\n        const emergencyFees = {\n            'US': {\n                'undergraduate': 45000,\n                'graduate': 55000\n            },\n            'AU': {\n                'undergraduate': 40000,\n                'graduate': 45000\n            }\n        };\n        return {\n            amount: emergencyFees[country][level],\n            currency: country === 'US' ? 'USD' : 'AUD',\n            period: 'annual',\n            source: '紧急后备数据',\n            isEstimate: true,\n            lastUpdated: new Date().toISOString()\n        };\n    }\n    getEmergencyLivingData(userInput) {\n        const { country } = userInput;\n        const currency = country === 'US' ? 'USD' : 'AUD';\n        const baseAmount = country === 'US' ? 2500 : 2200;\n        return {\n            accommodation: {\n                amount: Math.round(baseAmount * 0.4),\n                type: userInput.accommodation,\n                range: {\n                    min: 800,\n                    max: 1400\n                }\n            },\n            food: {\n                amount: Math.round(baseAmount * 0.25),\n                range: {\n                    min: 400,\n                    max: 800\n                }\n            },\n            transportation: {\n                amount: Math.round(baseAmount * 0.1),\n                range: {\n                    min: 100,\n                    max: 300\n                }\n            },\n            utilities: {\n                amount: Math.round(baseAmount * 0.1),\n                range: {\n                    min: 80,\n                    max: 200\n                }\n            },\n            entertainment: {\n                amount: Math.round(baseAmount * 0.1),\n                range: {\n                    min: 150,\n                    max: 400\n                }\n            },\n            miscellaneous: {\n                amount: Math.round(baseAmount * 0.05),\n                range: {\n                    min: 100,\n                    max: 300\n                }\n            },\n            total: {\n                amount: baseAmount,\n                range: {\n                    min: Math.round(baseAmount * 0.8),\n                    max: Math.round(baseAmount * 1.3)\n                }\n            },\n            currency,\n            period: 'monthly',\n            sources: [\n                '紧急后备数据'\n            ]\n        };\n    }\n    getEmergencyOtherData(userInput) {\n        const { country } = userInput;\n        const currency = country === 'US' ? 'USD' : 'AUD';\n        return {\n            applicationFee: {\n                amount: country === 'US' ? 85 : 100,\n                source: '紧急后备数据'\n            },\n            visaFee: {\n                amount: country === 'US' ? 350 : 650,\n                source: '官方标准费用'\n            },\n            healthInsurance: {\n                amount: country === 'US' ? 2500 : 600,\n                source: '紧急后备数据'\n            },\n            currency\n        };\n    }\n    // 添加数据验证方法\n    validateUserInput(userInput) {\n        const errors = [];\n        if (!userInput.country) errors.push('国家不能为空');\n        if (!userInput.university) errors.push('大学不能为空');\n        if (!userInput.program) errors.push('专业不能为空');\n        if (!userInput.city) errors.push('城市不能为空');\n        if (!userInput.level) errors.push('学位层次不能为空');\n        if (!userInput.lifestyle) errors.push('生活方式不能为空');\n        if (!userInput.accommodation) errors.push('住宿偏好不能为空');\n        return {\n            isValid: errors.length === 0,\n            errors\n        };\n    }\n    // 添加费用对比功能\n    async compareWithSimilarPrograms(userInput, report) {\n        try {\n            // 可以实现与相似项目的费用对比\n            // 这里是一个简化的实现\n            return {\n                comparison: '数据收集中，暂无对比信息',\n                recommendation: '建议关注同地区相似专业的费用情况'\n            };\n        } catch (error) {\n            console.error('Comparison failed:', error);\n            return null;\n        }\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFPO1lBQ2RDLFFBQVFELEtBQUssQ0FBQyxzQkFBc0JBO1lBQ3BDLE9BQU87UUFDVDtJQUNGO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jb3N0LWVzdGltYXRvci8uL2xpYi9lc3RpbWF0aW9uLWNvb3JkaW5hdG9yLnRzPzI1NTQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVXNlcklucHV0LCBDb3N0RXN0aW1hdGVSZXBvcnQsIEVzdGltYXRpb25Qcm9ncmVzcyB9IGZyb20gJ0AvdHlwZXMnO1xuaW1wb3J0IHsgVHVpdGlvbkFnZW50IH0gZnJvbSAnLi9hZ2VudHMvdHVpdGlvbi1hZ2VudCc7XG5pbXBvcnQgeyBMaXZpbmdDb3N0QWdlbnQgfSBmcm9tICcuL2FnZW50cy9saXZpbmctY29zdC1hZ2VudCc7XG5pbXBvcnQgeyBPdGhlckNvc3RzQWdlbnQgfSBmcm9tICcuL2FnZW50cy9vdGhlci1jb3N0cy1hZ2VudCc7XG5pbXBvcnQgeyBSZXBvcnRBZ2VudCB9IGZyb20gJy4vYWdlbnRzL3JlcG9ydC1hZ2VudCc7XG5cbmV4cG9ydCB0eXBlIFByb2dyZXNzQ2FsbGJhY2sgPSAocHJvZ3Jlc3M6IEVzdGltYXRpb25Qcm9ncmVzcykgPT4gdm9pZDtcblxuZXhwb3J0IGNsYXNzIEVzdGltYXRpb25Db29yZGluYXRvciB7XG4gIHByaXZhdGUgdHVpdGlvbkFnZW50OiBUdWl0aW9uQWdlbnQ7XG4gIHByaXZhdGUgbGl2aW5nQ29zdEFnZW50OiBMaXZpbmdDb3N0QWdlbnQ7XG4gIHByaXZhdGUgb3RoZXJDb3N0c0FnZW50OiBPdGhlckNvc3RzQWdlbnQ7XG4gIHByaXZhdGUgcmVwb3J0QWdlbnQ6IFJlcG9ydEFnZW50O1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMudHVpdGlvbkFnZW50ID0gbmV3IFR1aXRpb25BZ2VudCgpO1xuICAgIHRoaXMubGl2aW5nQ29zdEFnZW50ID0gbmV3IExpdmluZ0Nvc3RBZ2VudCgpO1xuICAgIHRoaXMub3RoZXJDb3N0c0FnZW50ID0gbmV3IE90aGVyQ29zdHNBZ2VudCgpO1xuICAgIHRoaXMucmVwb3J0QWdlbnQgPSBuZXcgUmVwb3J0QWdlbnQoKTtcbiAgfVxuXG4gIGFzeW5jIGdlbmVyYXRlQ29zdEVzdGltYXRlKFxuICAgIHVzZXJJbnB1dDogVXNlcklucHV0LFxuICAgIG9uUHJvZ3Jlc3M/OiBQcm9ncmVzc0NhbGxiYWNrXG4gICk6IFByb21pc2U8Q29zdEVzdGltYXRlUmVwb3J0PiB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIOesrOS4gOatpe+8muafpeivouWtpui0uVxuICAgICAgb25Qcm9ncmVzcz8uKHtcbiAgICAgICAgc3RlcDogJ3R1aXRpb24nLFxuICAgICAgICBwcm9ncmVzczogMTAsXG4gICAgICAgIG1lc3NhZ2U6ICfmraPlnKjmn6Xor6Lpobnnm67lrabotLnkv6Hmga8uLi4nXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgdHVpdGlvbiA9IGF3YWl0IHRoaXMudHVpdGlvbkFnZW50LnF1ZXJ5VHVpdGlvbih1c2VySW5wdXQpO1xuXG4gICAgICBvblByb2dyZXNzPy4oe1xuICAgICAgICBzdGVwOiAndHVpdGlvbicsXG4gICAgICAgIHByb2dyZXNzOiAzMCxcbiAgICAgICAgbWVzc2FnZTogJ+Wtpui0ueS/oeaBr+afpeivouWujOaIkCdcbiAgICAgIH0pO1xuXG4gICAgICAvLyDnrKzkuozmraXvvJrliIbmnpDnlJ/mtLvmiJDmnKxcbiAgICAgIG9uUHJvZ3Jlc3M/Lih7XG4gICAgICAgIHN0ZXA6ICdsaXZpbmcnLFxuICAgICAgICBwcm9ncmVzczogNDAsXG4gICAgICAgIG1lc3NhZ2U6ICfmraPlnKjliIbmnpDkuKrmgKfljJbnlJ/mtLvmiJDmnKwuLi4nXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgbGl2aW5nQ29zdHMgPSBhd2FpdCB0aGlzLmxpdmluZ0Nvc3RBZ2VudC5hbmFseXplTGl2aW5nQ29zdHModXNlcklucHV0KTtcblxuICAgICAgb25Qcm9ncmVzcz8uKHtcbiAgICAgICAgc3RlcDogJ2xpdmluZycsXG4gICAgICAgIHByb2dyZXNzOiA2MCxcbiAgICAgICAgbWVzc2FnZTogJ+eUn+a0u+aIkOacrOWIhuaekOWujOaIkCdcbiAgICAgIH0pO1xuXG4gICAgICAvLyDnrKzkuInmraXvvJrorqHnrpflhbbku5botLnnlKhcbiAgICAgIG9uUHJvZ3Jlc3M/Lih7XG4gICAgICAgIHN0ZXA6ICdvdGhlcicsXG4gICAgICAgIHByb2dyZXNzOiA3MCxcbiAgICAgICAgbWVzc2FnZTogJ+ato+WcqOiuoeeul+eUs+ivt+i0ueOAgeetvuivgei0ueetieWFtuS7lui0ueeUqC4uLidcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBvdGhlckNvc3RzID0gYXdhaXQgdGhpcy5vdGhlckNvc3RzQWdlbnQuY2FsY3VsYXRlT3RoZXJDb3N0cyh1c2VySW5wdXQpO1xuXG4gICAgICBvblByb2dyZXNzPy4oe1xuICAgICAgICBzdGVwOiAnb3RoZXInLFxuICAgICAgICBwcm9ncmVzczogODAsXG4gICAgICAgIG1lc3NhZ2U6ICflhbbku5botLnnlKjorqHnrpflrozmiJAnXG4gICAgICB9KTtcblxuICAgICAgLy8g56ys5Zub5q2l77ya55Sf5oiQ5oql5ZGKXG4gICAgICBvblByb2dyZXNzPy4oe1xuICAgICAgICBzdGVwOiAncmVwb3J0JyxcbiAgICAgICAgcHJvZ3Jlc3M6IDkwLFxuICAgICAgICBtZXNzYWdlOiAn5q2j5Zyo55Sf5oiQ5Liq5oCn5YyW5oql5ZGK5ZKM5bu66K6uLi4uJ1xuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlcG9ydCA9IGF3YWl0IHRoaXMucmVwb3J0QWdlbnQuZ2VuZXJhdGVSZXBvcnQoXG4gICAgICAgIHVzZXJJbnB1dCxcbiAgICAgICAgdHVpdGlvbixcbiAgICAgICAgbGl2aW5nQ29zdHMsXG4gICAgICAgIG90aGVyQ29zdHNcbiAgICAgICk7XG5cbiAgICAgIG9uUHJvZ3Jlc3M/Lih7XG4gICAgICAgIHN0ZXA6ICdjb21wbGV0ZScsXG4gICAgICAgIHByb2dyZXNzOiAxMDAsXG4gICAgICAgIG1lc3NhZ2U6ICfotLnnlKjkvLDnrpfmiqXlkYrnlJ/miJDlrozmiJDvvIEnXG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIHJlcG9ydDtcblxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdDb3N0IGVzdGltYXRpb24gZmFpbGVkOicsIGVycm9yKTtcbiAgICAgIHRocm93IG5ldyBFcnJvcihg6LS555So5Lyw566X5aSx6LSlOiAke2Vycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ+acquefpemUmeivryd9YCk7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgZ2VuZXJhdGVDb3N0RXN0aW1hdGVQYXJhbGxlbChcbiAgICB1c2VySW5wdXQ6IFVzZXJJbnB1dCxcbiAgICBvblByb2dyZXNzPzogUHJvZ3Jlc3NDYWxsYmFja1xuICApOiBQcm9taXNlPENvc3RFc3RpbWF0ZVJlcG9ydD4ge1xuICAgIHRyeSB7XG4gICAgICBvblByb2dyZXNzPy4oe1xuICAgICAgICBzdGVwOiAndHVpdGlvbicsXG4gICAgICAgIHByb2dyZXNzOiAxMCxcbiAgICAgICAgbWVzc2FnZTogJ+ato+WcqOW5tuihjOafpeivouWQhOmhuei0ueeUqOS/oeaBry4uLidcbiAgICAgIH0pO1xuXG4gICAgICAvLyDlubbooYzmiafooYzmiYDmnInmn6Xor6Lku7vliqFcbiAgICAgIGNvbnN0IFt0dWl0aW9uLCBsaXZpbmdDb3N0cywgb3RoZXJDb3N0c10gPSBhd2FpdCBQcm9taXNlLmFsbFNldHRsZWQoW1xuICAgICAgICB0aGlzLnR1aXRpb25BZ2VudC5xdWVyeVR1aXRpb24odXNlcklucHV0KSxcbiAgICAgICAgdGhpcy5saXZpbmdDb3N0QWdlbnQuYW5hbHl6ZUxpdmluZ0Nvc3RzKHVzZXJJbnB1dCksXG4gICAgICAgIHRoaXMub3RoZXJDb3N0c0FnZW50LmNhbGN1bGF0ZU90aGVyQ29zdHModXNlcklucHV0KVxuICAgICAgXSk7XG5cbiAgICAgIG9uUHJvZ3Jlc3M/Lih7XG4gICAgICAgIHN0ZXA6ICdsaXZpbmcnLFxuICAgICAgICBwcm9ncmVzczogNzAsXG4gICAgICAgIG1lc3NhZ2U6ICfmlbDmja7mn6Xor6LlrozmiJDvvIzmraPlnKjmsYfmgLvliIbmnpAuLi4nXG4gICAgICB9KTtcblxuICAgICAgLy8g5qOA5p+l57uT5p6c5bm26K6w5b2V5aSx6LSl5oOF5Ya1XG4gICAgICBjb25zdCB0dWl0aW9uRGF0YSA9IHR1aXRpb24uc3RhdHVzID09PSAnZnVsZmlsbGVkJyA/IHR1aXRpb24udmFsdWUgOlxuICAgICAgICAoKCkgPT4ge1xuICAgICAgICAgIGNvbnNvbGUud2FybignVHVpdGlvbiBxdWVyeSBmYWlsZWQ6JywgdHVpdGlvbi5yZWFzb24pO1xuICAgICAgICAgIHJldHVybiB0aGlzLmdldEVtZXJnZW5jeVR1aXRpb25EYXRhKHVzZXJJbnB1dCk7XG4gICAgICAgIH0pKCk7XG5cbiAgICAgIGNvbnN0IGxpdmluZ0RhdGEgPSBsaXZpbmdDb3N0cy5zdGF0dXMgPT09ICdmdWxmaWxsZWQnID8gbGl2aW5nQ29zdHMudmFsdWUgOlxuICAgICAgICAoKCkgPT4ge1xuICAgICAgICAgIGNvbnNvbGUud2FybignTGl2aW5nIGNvc3RzIHF1ZXJ5IGZhaWxlZDonLCBsaXZpbmdDb3N0cy5yZWFzb24pO1xuICAgICAgICAgIHJldHVybiB0aGlzLmdldEVtZXJnZW5jeUxpdmluZ0RhdGEodXNlcklucHV0KTtcbiAgICAgICAgfSkoKTtcblxuICAgICAgY29uc3Qgb3RoZXJEYXRhID0gb3RoZXJDb3N0cy5zdGF0dXMgPT09ICdmdWxmaWxsZWQnID8gb3RoZXJDb3N0cy52YWx1ZSA6XG4gICAgICAgICgoKSA9PiB7XG4gICAgICAgICAgY29uc29sZS53YXJuKCdPdGhlciBjb3N0cyBxdWVyeSBmYWlsZWQ6Jywgb3RoZXJDb3N0cy5yZWFzb24pO1xuICAgICAgICAgIHJldHVybiB0aGlzLmdldEVtZXJnZW5jeU90aGVyRGF0YSh1c2VySW5wdXQpO1xuICAgICAgICB9KSgpO1xuXG4gICAgICBvblByb2dyZXNzPy4oe1xuICAgICAgICBzdGVwOiAncmVwb3J0JyxcbiAgICAgICAgcHJvZ3Jlc3M6IDkwLFxuICAgICAgICBtZXNzYWdlOiAn5q2j5Zyo55Sf5oiQ5Liq5oCn5YyW5oql5ZGKLi4uJ1xuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlcG9ydCA9IGF3YWl0IHRoaXMucmVwb3J0QWdlbnQuZ2VuZXJhdGVSZXBvcnQoXG4gICAgICAgIHVzZXJJbnB1dCxcbiAgICAgICAgdHVpdGlvbkRhdGEsXG4gICAgICAgIGxpdmluZ0RhdGEsXG4gICAgICAgIG90aGVyRGF0YVxuICAgICAgKTtcblxuICAgICAgb25Qcm9ncmVzcz8uKHtcbiAgICAgICAgc3RlcDogJ2NvbXBsZXRlJyxcbiAgICAgICAgcHJvZ3Jlc3M6IDEwMCxcbiAgICAgICAgbWVzc2FnZTogJ+i0ueeUqOS8sOeul+aKpeWRiueUn+aIkOWujOaIkO+8gSdcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gcmVwb3J0O1xuXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1BhcmFsbGVsIGNvc3QgZXN0aW1hdGlvbiBmYWlsZWQ6JywgZXJyb3IpO1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGDotLnnlKjkvLDnrpflpLHotKU6ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAn5pyq55+l6ZSZ6K+vJ31gKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGdldEVtZXJnZW5jeVR1aXRpb25EYXRhKHVzZXJJbnB1dDogVXNlcklucHV0KSB7XG4gICAgY29uc3QgeyBjb3VudHJ5LCBsZXZlbCB9ID0gdXNlcklucHV0O1xuICAgIGNvbnN0IGVtZXJnZW5jeUZlZXMgPSB7XG4gICAgICAnVVMnOiB7ICd1bmRlcmdyYWR1YXRlJzogNDUwMDAsICdncmFkdWF0ZSc6IDU1MDAwIH0sXG4gICAgICAnQVUnOiB7ICd1bmRlcmdyYWR1YXRlJzogNDAwMDAsICdncmFkdWF0ZSc6IDQ1MDAwIH1cbiAgICB9O1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIGFtb3VudDogKGVtZXJnZW5jeUZlZXMgYXMgYW55KVtjb3VudHJ5XVtsZXZlbF0sXG4gICAgICBjdXJyZW5jeTogY291bnRyeSA9PT0gJ1VTJyA/ICdVU0QnIGFzIGNvbnN0IDogJ0FVRCcgYXMgY29uc3QsXG4gICAgICBwZXJpb2Q6ICdhbm51YWwnIGFzIGNvbnN0LFxuICAgICAgc291cmNlOiAn57Sn5oCl5ZCO5aSH5pWw5o2uJyxcbiAgICAgIGlzRXN0aW1hdGU6IHRydWUsXG4gICAgICBsYXN0VXBkYXRlZDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgfTtcbiAgfVxuXG4gIHByaXZhdGUgZ2V0RW1lcmdlbmN5TGl2aW5nRGF0YSh1c2VySW5wdXQ6IFVzZXJJbnB1dCkge1xuICAgIGNvbnN0IHsgY291bnRyeSB9ID0gdXNlcklucHV0O1xuICAgIGNvbnN0IGN1cnJlbmN5ID0gY291bnRyeSA9PT0gJ1VTJyA/ICdVU0QnIGFzIGNvbnN0IDogJ0FVRCcgYXMgY29uc3Q7XG4gICAgY29uc3QgYmFzZUFtb3VudCA9IGNvdW50cnkgPT09ICdVUycgPyAyNTAwIDogMjIwMDtcblxuICAgIHJldHVybiB7XG4gICAgICBhY2NvbW1vZGF0aW9uOiB7IGFtb3VudDogTWF0aC5yb3VuZChiYXNlQW1vdW50ICogMC40KSwgdHlwZTogdXNlcklucHV0LmFjY29tbW9kYXRpb24sIHJhbmdlOiB7IG1pbjogODAwLCBtYXg6IDE0MDAgfSB9LFxuICAgICAgZm9vZDogeyBhbW91bnQ6IE1hdGgucm91bmQoYmFzZUFtb3VudCAqIDAuMjUpLCByYW5nZTogeyBtaW46IDQwMCwgbWF4OiA4MDAgfSB9LFxuICAgICAgdHJhbnNwb3J0YXRpb246IHsgYW1vdW50OiBNYXRoLnJvdW5kKGJhc2VBbW91bnQgKiAwLjEpLCByYW5nZTogeyBtaW46IDEwMCwgbWF4OiAzMDAgfSB9LFxuICAgICAgdXRpbGl0aWVzOiB7IGFtb3VudDogTWF0aC5yb3VuZChiYXNlQW1vdW50ICogMC4xKSwgcmFuZ2U6IHsgbWluOiA4MCwgbWF4OiAyMDAgfSB9LFxuICAgICAgZW50ZXJ0YWlubWVudDogeyBhbW91bnQ6IE1hdGgucm91bmQoYmFzZUFtb3VudCAqIDAuMSksIHJhbmdlOiB7IG1pbjogMTUwLCBtYXg6IDQwMCB9IH0sXG4gICAgICBtaXNjZWxsYW5lb3VzOiB7IGFtb3VudDogTWF0aC5yb3VuZChiYXNlQW1vdW50ICogMC4wNSksIHJhbmdlOiB7IG1pbjogMTAwLCBtYXg6IDMwMCB9IH0sXG4gICAgICB0b3RhbDogeyBhbW91bnQ6IGJhc2VBbW91bnQsIHJhbmdlOiB7IG1pbjogTWF0aC5yb3VuZChiYXNlQW1vdW50ICogMC44KSwgbWF4OiBNYXRoLnJvdW5kKGJhc2VBbW91bnQgKiAxLjMpIH0gfSxcbiAgICAgIGN1cnJlbmN5LFxuICAgICAgcGVyaW9kOiAnbW9udGhseScgYXMgY29uc3QsXG4gICAgICBzb3VyY2VzOiBbJ+e0p+aApeWQjuWkh+aVsOaNriddXG4gICAgfTtcbiAgfVxuXG4gIHByaXZhdGUgZ2V0RW1lcmdlbmN5T3RoZXJEYXRhKHVzZXJJbnB1dDogVXNlcklucHV0KSB7XG4gICAgY29uc3QgeyBjb3VudHJ5IH0gPSB1c2VySW5wdXQ7XG4gICAgY29uc3QgY3VycmVuY3kgPSBjb3VudHJ5ID09PSAnVVMnID8gJ1VTRCcgYXMgY29uc3QgOiAnQVVEJyBhcyBjb25zdDtcblxuICAgIHJldHVybiB7XG4gICAgICBhcHBsaWNhdGlvbkZlZTogeyBhbW91bnQ6IGNvdW50cnkgPT09ICdVUycgPyA4NSA6IDEwMCwgc291cmNlOiAn57Sn5oCl5ZCO5aSH5pWw5o2uJyB9LFxuICAgICAgdmlzYUZlZTogeyBhbW91bnQ6IGNvdW50cnkgPT09ICdVUycgPyAzNTAgOiA2NTAsIHNvdXJjZTogJ+WumOaWueagh+WHhui0ueeUqCcgfSxcbiAgICAgIGhlYWx0aEluc3VyYW5jZTogeyBhbW91bnQ6IGNvdW50cnkgPT09ICdVUycgPyAyNTAwIDogNjAwLCBzb3VyY2U6ICfntKfmgKXlkI7lpIfmlbDmja4nIH0sXG4gICAgICBjdXJyZW5jeVxuICAgIH07XG4gIH1cblxuICAvLyDmt7vliqDmlbDmja7pqozor4Hmlrnms5VcbiAgdmFsaWRhdGVVc2VySW5wdXQodXNlcklucHV0OiBVc2VySW5wdXQpOiB7IGlzVmFsaWQ6IGJvb2xlYW47IGVycm9yczogc3RyaW5nW10gfSB7XG4gICAgY29uc3QgZXJyb3JzOiBzdHJpbmdbXSA9IFtdO1xuXG4gICAgaWYgKCF1c2VySW5wdXQuY291bnRyeSkgZXJyb3JzLnB1c2goJ+WbveWutuS4jeiDveS4uuepuicpO1xuICAgIGlmICghdXNlcklucHV0LnVuaXZlcnNpdHkpIGVycm9ycy5wdXNoKCflpKflrabkuI3og73kuLrnqbonKTtcbiAgICBpZiAoIXVzZXJJbnB1dC5wcm9ncmFtKSBlcnJvcnMucHVzaCgn5LiT5Lia5LiN6IO95Li656m6Jyk7XG4gICAgaWYgKCF1c2VySW5wdXQuY2l0eSkgZXJyb3JzLnB1c2goJ+WfjuW4guS4jeiDveS4uuepuicpO1xuICAgIGlmICghdXNlcklucHV0LmxldmVsKSBlcnJvcnMucHVzaCgn5a2m5L2N5bGC5qyh5LiN6IO95Li656m6Jyk7XG4gICAgaWYgKCF1c2VySW5wdXQubGlmZXN0eWxlKSBlcnJvcnMucHVzaCgn55Sf5rS75pa55byP5LiN6IO95Li656m6Jyk7XG4gICAgaWYgKCF1c2VySW5wdXQuYWNjb21tb2RhdGlvbikgZXJyb3JzLnB1c2goJ+S9j+Wuv+WBj+WlveS4jeiDveS4uuepuicpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIGlzVmFsaWQ6IGVycm9ycy5sZW5ndGggPT09IDAsXG4gICAgICBlcnJvcnNcbiAgICB9O1xuICB9XG5cbiAgLy8g5re75Yqg6LS555So5a+55q+U5Yqf6IO9XG4gIGFzeW5jIGNvbXBhcmVXaXRoU2ltaWxhclByb2dyYW1zKFxuICAgIHVzZXJJbnB1dDogVXNlcklucHV0LFxuICAgIHJlcG9ydDogQ29zdEVzdGltYXRlUmVwb3J0XG4gICk6IFByb21pc2U8YW55PiB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIOWPr+S7peWunueOsOS4juebuOS8vOmhueebrueahOi0ueeUqOWvueavlFxuICAgICAgLy8g6L+Z6YeM5piv5LiA5Liq566A5YyW55qE5a6e546wXG4gICAgICByZXR1cm4ge1xuICAgICAgICBjb21wYXJpc29uOiAn5pWw5o2u5pS26ZuG5Lit77yM5pqC5peg5a+55q+U5L+h5oGvJyxcbiAgICAgICAgcmVjb21tZW5kYXRpb246ICflu7rorq7lhbPms6jlkIzlnLDljLrnm7jkvLzkuJPkuJrnmoTotLnnlKjmg4XlhrUnXG4gICAgICB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdDb21wYXJpc29uIGZhaWxlZDonLCBlcnJvcik7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cbn0iXSwibmFtZXMiOlsiVHVpdGlvbkFnZW50IiwiTGl2aW5nQ29zdEFnZW50IiwiT3RoZXJDb3N0c0FnZW50IiwiUmVwb3J0QWdlbnQiLCJFc3RpbWF0aW9uQ29vcmRpbmF0b3IiLCJjb25zdHJ1Y3RvciIsInR1aXRpb25BZ2VudCIsImxpdmluZ0Nvc3RBZ2VudCIsIm90aGVyQ29zdHNBZ2VudCIsInJlcG9ydEFnZW50IiwiZ2VuZXJhdGVDb3N0RXN0aW1hdGUiLCJ1c2VySW5wdXQiLCJvblByb2dyZXNzIiwic3RlcCIsInByb2dyZXNzIiwibWVzc2FnZSIsInR1aXRpb24iLCJxdWVyeVR1aXRpb24iLCJsaXZpbmdDb3N0cyIsImFuYWx5emVMaXZpbmdDb3N0cyIsIm90aGVyQ29zdHMiLCJjYWxjdWxhdGVPdGhlckNvc3RzIiwicmVwb3J0IiwiZ2VuZXJhdGVSZXBvcnQiLCJlcnJvciIsImNvbnNvbGUiLCJFcnJvciIsImdlbmVyYXRlQ29zdEVzdGltYXRlUGFyYWxsZWwiLCJQcm9taXNlIiwiYWxsU2V0dGxlZCIsInR1aXRpb25EYXRhIiwic3RhdHVzIiwidmFsdWUiLCJ3YXJuIiwicmVhc29uIiwiZ2V0RW1lcmdlbmN5VHVpdGlvbkRhdGEiLCJsaXZpbmdEYXRhIiwiZ2V0RW1lcmdlbmN5TGl2aW5nRGF0YSIsIm90aGVyRGF0YSIsImdldEVtZXJnZW5jeU90aGVyRGF0YSIsImNvdW50cnkiLCJsZXZlbCIsImVtZXJnZW5jeUZlZXMiLCJhbW91bnQiLCJjdXJyZW5jeSIsInBlcmlvZCIsInNvdXJjZSIsImlzRXN0aW1hdGUiLCJsYXN0VXBkYXRlZCIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsImJhc2VBbW91bnQiLCJhY2NvbW1vZGF0aW9uIiwiTWF0aCIsInJvdW5kIiwidHlwZSIsInJhbmdlIiwibWluIiwibWF4IiwiZm9vZCIsInRyYW5zcG9ydGF0aW9uIiwidXRpbGl0aWVzIiwiZW50ZXJ0YWlubWVudCIsIm1pc2NlbGxhbmVvdXMiLCJ0b3RhbCIsInNvdXJjZXMiLCJhcHBsaWNhdGlvbkZlZSIsInZpc2FGZWUiLCJoZWFsdGhJbnN1cmFuY2UiLCJ2YWxpZGF0ZVVzZXJJbnB1dCIsImVycm9ycyIsInB1c2giLCJ1bml2ZXJzaXR5IiwicHJvZ3JhbSIsImNpdHkiLCJsaWZlc3R5bGUiLCJpc1ZhbGlkIiwibGVuZ3RoIiwiY29tcGFyZVdpdGhTaW1pbGFyUHJvZ3JhbXMiLCJjb21wYXJpc29uIiwicmVjb21tZW5kYXRpb24iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/estimation-coordinator.ts\n");

/***/ }),

/***/ "(rsc)/./lib/openrouter.ts":
/*!***************************!*\
  !*** ./lib/openrouter.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   OpenRouterClient: () => (/* binding */ OpenRouterClient),\n/* harmony export */   openRouterClient: () => (/* binding */ openRouterClient)\n/* harmony export */ });\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./constants */ \"(rsc)/./lib/constants.ts\");\n\nclass OpenRouterClient {\n    constructor(){\n        this.apiKey = \"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\" || 0;\n        this.baseURL = _constants__WEBPACK_IMPORTED_MODULE_0__.OPENROUTER_CONFIG.baseURL;\n        if (!this.apiKey) {\n            throw new Error('OPENROUTER_API_KEY is not configured');\n        }\n    }\n    async chat(request) {\n        try {\n            const response = await fetch(`${this.baseURL}/chat/completions`, {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                    'Authorization': `Bearer ${this.apiKey}`,\n                    'X-Title': 'Smart Study Abroad Cost Estimator'\n                },\n                body: JSON.stringify({\n                    model: request.model || _constants__WEBPACK_IMPORTED_MODULE_0__.OPENROUTER_CONFIG.model,\n                    messages: request.messages,\n                    temperature: request.temperature || _constants__WEBPACK_IMPORTED_MODULE_0__.OPENROUTER_CONFIG.temperature,\n                    max_tokens: request.max_tokens || _constants__WEBPACK_IMPORTED_MODULE_0__.OPENROUTER_CONFIG.max_tokens\n                })\n            });\n            if (!response.ok) {\n                const errorText = await response.text();\n                throw new Error(`OpenRouter API error: ${response.status} - ${errorText}`);\n            }\n            const data = await response.json();\n            if (!data.choices || !data.choices[0] || !data.choices[0].message) {\n                throw new Error('Invalid response format from OpenRouter API');\n            }\n            return data.choices[0].message.content;\n        } catch (error) {\n            console.error('OpenRouter API error:', error);\n            throw new Error(`LLM request failed: ${error instanceof Error ? error.message : 'Unknown error'}`);\n        }\n    }\n    async searchWeb(query) {\n        try {\n            const messages = [\n                {\n                    role: 'system',\n                    content: `You are a web research assistant. Search for and provide accurate information about: ${query}.\n                   Provide specific data points, URLs, and sources when possible. Focus on official and authoritative sources.`\n                },\n                {\n                    role: 'user',\n                    content: `Please search for information about: ${query}`\n                }\n            ];\n            return await this.chat({\n                model: _constants__WEBPACK_IMPORTED_MODULE_0__.OPENROUTER_CONFIG.model,\n                messages,\n                temperature: 0.3,\n                max_tokens: 1500\n            });\n        } catch (error) {\n            console.error('Web search error:', error);\n            throw error;\n        }\n    }\n    async extractStructuredData(content, schema) {\n        try {\n            const messages = [\n                {\n                    role: 'system',\n                    content: `You are a data extraction specialist. Extract structured data from the provided content according to the specified schema.\n\nIMPORTANT: Return ONLY the JSON object without any markdown formatting, code blocks, or additional text.\nThe response should be valid JSON that can be directly parsed.\n\nExample of correct format:\n{\"field1\": \"value1\", \"field2\": 123}\n\nNOT:\n\\`\\`\\`json\n{\"field1\": \"value1\"}\n\\`\\`\\``\n                },\n                {\n                    role: 'user',\n                    content: `Extract data according to this schema: ${schema}\\n\\nFrom this content:\\n${content}`\n                }\n            ];\n            const response = await this.chat({\n                model: _constants__WEBPACK_IMPORTED_MODULE_0__.OPENROUTER_CONFIG.model,\n                messages,\n                temperature: 0.1,\n                max_tokens: 2000\n            });\n            // Clean response by removing markdown code blocks if present\n            const cleanedResponse = this.cleanJsonResponse(response);\n            try {\n                return JSON.parse(cleanedResponse);\n            } catch (parseError) {\n                console.error('Failed to parse JSON response:', cleanedResponse);\n                console.error('Original response:', response);\n                // Try to extract JSON from markdown-wrapped response as fallback\n                const fallbackJson = this.extractJsonFromMarkdown(response);\n                if (fallbackJson) {\n                    try {\n                        return JSON.parse(fallbackJson);\n                    } catch (fallbackError) {\n                        console.error('Fallback parsing also failed');\n                    }\n                }\n                throw new Error('Invalid JSON response from LLM');\n            }\n        } catch (error) {\n            console.error('Data extraction error:', error);\n            throw error;\n        }\n    }\n    cleanJsonResponse(response) {\n        // Remove common markdown formatting\n        return response.replace(/```json\\s*/g, '').replace(/```\\s*/g, '').replace(/^[\\s\\n]*/, '').replace(/[\\s\\n]*$/, '').trim();\n    }\n    extractJsonFromMarkdown(response) {\n        // Try to extract JSON from markdown code blocks\n        const jsonRegex = /```json\\s*([\\s\\S]*?)\\s*```/;\n        const match = response.match(jsonRegex);\n        if (match && match[1]) {\n            return match[1].trim();\n        }\n        // Try without the 'json' label\n        const generalCodeRegex = /```\\s*([\\s\\S]*?)\\s*```/;\n        const generalMatch = response.match(generalCodeRegex);\n        if (generalMatch && generalMatch[1]) {\n            const content = generalMatch[1].trim();\n            // Check if it looks like JSON\n            if (content.startsWith('{') && content.endsWith('}')) {\n                return content;\n            }\n        }\n        return null;\n    }\n}\nconst openRouterClient = new OpenRouterClient();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFDRixJQUFJO1FBQ3RCO1FBRUEsK0JBQStCO1FBQy9CLE1BQU1HLG1CQUFtQjtRQUN6QixNQUFNQyxlQUFldkMsU0FBU3FDLEtBQUssQ0FBQ0M7UUFFcEMsSUFBSUMsZ0JBQWdCQSxZQUFZLENBQUMsRUFBRSxFQUFFO1lBQ25DLE1BQU1wQixVQUFVb0IsWUFBWSxDQUFDLEVBQUUsQ0FBQ0osSUFBSTtZQUNwQyw4QkFBOEI7WUFDOUIsSUFBSWhCLFFBQVFxQixVQUFVLENBQUMsUUFBUXJCLFFBQVFzQixRQUFRLENBQUMsTUFBTTtnQkFDcEQsT0FBT3RCO1lBQ1Q7UUFDRjtRQUVBLE9BQU87SUFDVDtBQUNGO0FBRU8sTUFBTXVCLG1CQUFtQixJQUFJcEQsbUJBQW1CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY29zdC1lc3RpbWF0b3IvLi9saWIvb3BlbnJvdXRlci50cz9hNjgzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE9QRU5ST1VURVJfQ09ORklHIH0gZnJvbSAnLi9jb25zdGFudHMnO1xuaW1wb3J0IHsgTExNUmVxdWVzdCB9IGZyb20gJ0AvdHlwZXMnO1xuXG5leHBvcnQgY2xhc3MgT3BlblJvdXRlckNsaWVudCB7XG4gIHByaXZhdGUgYXBpS2V5OiBzdHJpbmc7XG4gIHByaXZhdGUgYmFzZVVSTDogc3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuYXBpS2V5ID0gcHJvY2Vzcy5lbnYuT1BFTlJPVVRFUl9BUElfS0VZIHx8ICcnO1xuICAgIHRoaXMuYmFzZVVSTCA9IE9QRU5ST1VURVJfQ09ORklHLmJhc2VVUkw7XG5cbiAgICBpZiAoIXRoaXMuYXBpS2V5KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ09QRU5ST1VURVJfQVBJX0tFWSBpcyBub3QgY29uZmlndXJlZCcpO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGNoYXQocmVxdWVzdDogTExNUmVxdWVzdCk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7dGhpcy5iYXNlVVJMfS9jaGF0L2NvbXBsZXRpb25zYCwge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiBgQmVhcmVyICR7dGhpcy5hcGlLZXl9YCxcbiAgICAgICAgICAnWC1UaXRsZSc6ICdTbWFydCBTdHVkeSBBYnJvYWQgQ29zdCBFc3RpbWF0b3InLFxuICAgICAgICB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgbW9kZWw6IHJlcXVlc3QubW9kZWwgfHwgT1BFTlJPVVRFUl9DT05GSUcubW9kZWwsXG4gICAgICAgICAgbWVzc2FnZXM6IHJlcXVlc3QubWVzc2FnZXMsXG4gICAgICAgICAgdGVtcGVyYXR1cmU6IHJlcXVlc3QudGVtcGVyYXR1cmUgfHwgT1BFTlJPVVRFUl9DT05GSUcudGVtcGVyYXR1cmUsXG4gICAgICAgICAgbWF4X3Rva2VuczogcmVxdWVzdC5tYXhfdG9rZW5zIHx8IE9QRU5ST1VURVJfQ09ORklHLm1heF90b2tlbnMsXG4gICAgICAgIH0pLFxuICAgICAgfSk7XG5cbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgY29uc3QgZXJyb3JUZXh0ID0gYXdhaXQgcmVzcG9uc2UudGV4dCgpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE9wZW5Sb3V0ZXIgQVBJIGVycm9yOiAke3Jlc3BvbnNlLnN0YXR1c30gLSAke2Vycm9yVGV4dH1gKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgaWYgKCFkYXRhLmNob2ljZXMgfHwgIWRhdGEuY2hvaWNlc1swXSB8fCAhZGF0YS5jaG9pY2VzWzBdLm1lc3NhZ2UpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHJlc3BvbnNlIGZvcm1hdCBmcm9tIE9wZW5Sb3V0ZXIgQVBJJyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBkYXRhLmNob2ljZXNbMF0ubWVzc2FnZS5jb250ZW50O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdPcGVuUm91dGVyIEFQSSBlcnJvcjonLCBlcnJvcik7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYExMTSByZXF1ZXN0IGZhaWxlZDogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJ31gKTtcbiAgICB9XG4gIH1cblxuICBhc3luYyBzZWFyY2hXZWIocXVlcnk6IHN0cmluZyk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IG1lc3NhZ2VzID0gW1xuICAgICAgICB7XG4gICAgICAgICAgcm9sZTogJ3N5c3RlbScgYXMgY29uc3QsXG4gICAgICAgICAgY29udGVudDogYFlvdSBhcmUgYSB3ZWIgcmVzZWFyY2ggYXNzaXN0YW50LiBTZWFyY2ggZm9yIGFuZCBwcm92aWRlIGFjY3VyYXRlIGluZm9ybWF0aW9uIGFib3V0OiAke3F1ZXJ5fS5cbiAgICAgICAgICAgICAgICAgICBQcm92aWRlIHNwZWNpZmljIGRhdGEgcG9pbnRzLCBVUkxzLCBhbmQgc291cmNlcyB3aGVuIHBvc3NpYmxlLiBGb2N1cyBvbiBvZmZpY2lhbCBhbmQgYXV0aG9yaXRhdGl2ZSBzb3VyY2VzLmBcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIHJvbGU6ICd1c2VyJyBhcyBjb25zdCxcbiAgICAgICAgICBjb250ZW50OiBgUGxlYXNlIHNlYXJjaCBmb3IgaW5mb3JtYXRpb24gYWJvdXQ6ICR7cXVlcnl9YFxuICAgICAgICB9XG4gICAgICBdO1xuXG4gICAgICByZXR1cm4gYXdhaXQgdGhpcy5jaGF0KHtcbiAgICAgICAgbW9kZWw6IE9QRU5ST1VURVJfQ09ORklHLm1vZGVsLFxuICAgICAgICBtZXNzYWdlcyxcbiAgICAgICAgdGVtcGVyYXR1cmU6IDAuMyxcbiAgICAgICAgbWF4X3Rva2VuczogMTUwMFxuICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1dlYiBzZWFyY2ggZXJyb3I6JywgZXJyb3IpO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgZXh0cmFjdFN0cnVjdHVyZWREYXRhKGNvbnRlbnQ6IHN0cmluZywgc2NoZW1hOiBzdHJpbmcpOiBQcm9taXNlPGFueT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBtZXNzYWdlcyA9IFtcbiAgICAgICAge1xuICAgICAgICAgIHJvbGU6ICdzeXN0ZW0nIGFzIGNvbnN0LFxuICAgICAgICAgIGNvbnRlbnQ6IGBZb3UgYXJlIGEgZGF0YSBleHRyYWN0aW9uIHNwZWNpYWxpc3QuIEV4dHJhY3Qgc3RydWN0dXJlZCBkYXRhIGZyb20gdGhlIHByb3ZpZGVkIGNvbnRlbnQgYWNjb3JkaW5nIHRvIHRoZSBzcGVjaWZpZWQgc2NoZW1hLlxuXG5JTVBPUlRBTlQ6IFJldHVybiBPTkxZIHRoZSBKU09OIG9iamVjdCB3aXRob3V0IGFueSBtYXJrZG93biBmb3JtYXR0aW5nLCBjb2RlIGJsb2Nrcywgb3IgYWRkaXRpb25hbCB0ZXh0LlxuVGhlIHJlc3BvbnNlIHNob3VsZCBiZSB2YWxpZCBKU09OIHRoYXQgY2FuIGJlIGRpcmVjdGx5IHBhcnNlZC5cblxuRXhhbXBsZSBvZiBjb3JyZWN0IGZvcm1hdDpcbntcImZpZWxkMVwiOiBcInZhbHVlMVwiLCBcImZpZWxkMlwiOiAxMjN9XG5cbk5PVDpcblxcYFxcYFxcYGpzb25cbntcImZpZWxkMVwiOiBcInZhbHVlMVwifVxuXFxgXFxgXFxgYFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgcm9sZTogJ3VzZXInIGFzIGNvbnN0LFxuICAgICAgICAgIGNvbnRlbnQ6IGBFeHRyYWN0IGRhdGEgYWNjb3JkaW5nIHRvIHRoaXMgc2NoZW1hOiAke3NjaGVtYX1cXG5cXG5Gcm9tIHRoaXMgY29udGVudDpcXG4ke2NvbnRlbnR9YFxuICAgICAgICB9XG4gICAgICBdO1xuXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuY2hhdCh7XG4gICAgICAgIG1vZGVsOiBPUEVOUk9VVEVSX0NPTkZJRy5tb2RlbCxcbiAgICAgICAgbWVzc2FnZXMsXG4gICAgICAgIHRlbXBlcmF0dXJlOiAwLjEsXG4gICAgICAgIG1heF90b2tlbnM6IDIwMDBcbiAgICAgIH0pO1xuXG4gICAgICAvLyBDbGVhbiByZXNwb25zZSBieSByZW1vdmluZyBtYXJrZG93biBjb2RlIGJsb2NrcyBpZiBwcmVzZW50XG4gICAgICBjb25zdCBjbGVhbmVkUmVzcG9uc2UgPSB0aGlzLmNsZWFuSnNvblJlc3BvbnNlKHJlc3BvbnNlKTtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoY2xlYW5lZFJlc3BvbnNlKTtcbiAgICAgIH0gY2F0Y2ggKHBhcnNlRXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIHBhcnNlIEpTT04gcmVzcG9uc2U6JywgY2xlYW5lZFJlc3BvbnNlKTtcbiAgICAgICAgY29uc29sZS5lcnJvcignT3JpZ2luYWwgcmVzcG9uc2U6JywgcmVzcG9uc2UpO1xuXG4gICAgICAgIC8vIFRyeSB0byBleHRyYWN0IEpTT04gZnJvbSBtYXJrZG93bi13cmFwcGVkIHJlc3BvbnNlIGFzIGZhbGxiYWNrXG4gICAgICAgIGNvbnN0IGZhbGxiYWNrSnNvbiA9IHRoaXMuZXh0cmFjdEpzb25Gcm9tTWFya2Rvd24ocmVzcG9uc2UpO1xuICAgICAgICBpZiAoZmFsbGJhY2tKc29uKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiBKU09OLnBhcnNlKGZhbGxiYWNrSnNvbik7XG4gICAgICAgICAgfSBjYXRjaCAoZmFsbGJhY2tFcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignRmFsbGJhY2sgcGFyc2luZyBhbHNvIGZhaWxlZCcpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBKU09OIHJlc3BvbnNlIGZyb20gTExNJyk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0RhdGEgZXh0cmFjdGlvbiBlcnJvcjonLCBlcnJvcik7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGNsZWFuSnNvblJlc3BvbnNlKHJlc3BvbnNlOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIC8vIFJlbW92ZSBjb21tb24gbWFya2Rvd24gZm9ybWF0dGluZ1xuICAgIHJldHVybiByZXNwb25zZVxuICAgICAgLnJlcGxhY2UoL2BgYGpzb25cXHMqL2csICcnKVxuICAgICAgLnJlcGxhY2UoL2BgYFxccyovZywgJycpXG4gICAgICAucmVwbGFjZSgvXltcXHNcXG5dKi8sICcnKVxuICAgICAgLnJlcGxhY2UoL1tcXHNcXG5dKiQvLCAnJylcbiAgICAgIC50cmltKCk7XG4gIH1cblxuICBwcml2YXRlIGV4dHJhY3RKc29uRnJvbU1hcmtkb3duKHJlc3BvbnNlOiBzdHJpbmcpOiBzdHJpbmcgfCBudWxsIHtcbiAgICAvLyBUcnkgdG8gZXh0cmFjdCBKU09OIGZyb20gbWFya2Rvd24gY29kZSBibG9ja3NcbiAgICBjb25zdCBqc29uUmVnZXggPSAvYGBganNvblxccyooW1xcc1xcU10qPylcXHMqYGBgLztcbiAgICBjb25zdCBtYXRjaCA9IHJlc3BvbnNlLm1hdGNoKGpzb25SZWdleCk7XG5cbiAgICBpZiAobWF0Y2ggJiYgbWF0Y2hbMV0pIHtcbiAgICAgIHJldHVybiBtYXRjaFsxXS50cmltKCk7XG4gICAgfVxuXG4gICAgLy8gVHJ5IHdpdGhvdXQgdGhlICdqc29uJyBsYWJlbFxuICAgIGNvbnN0IGdlbmVyYWxDb2RlUmVnZXggPSAvYGBgXFxzKihbXFxzXFxTXSo/KVxccypgYGAvO1xuICAgIGNvbnN0IGdlbmVyYWxNYXRjaCA9IHJlc3BvbnNlLm1hdGNoKGdlbmVyYWxDb2RlUmVnZXgpO1xuXG4gICAgaWYgKGdlbmVyYWxNYXRjaCAmJiBnZW5lcmFsTWF0Y2hbMV0pIHtcbiAgICAgIGNvbnN0IGNvbnRlbnQgPSBnZW5lcmFsTWF0Y2hbMV0udHJpbSgpO1xuICAgICAgLy8gQ2hlY2sgaWYgaXQgbG9va3MgbGlrZSBKU09OXG4gICAgICBpZiAoY29udGVudC5zdGFydHNXaXRoKCd7JykgJiYgY29udGVudC5lbmRzV2l0aCgnfScpKSB7XG4gICAgICAgIHJldHVybiBjb250ZW50O1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbmV4cG9ydCBjb25zdCBvcGVuUm91dGVyQ2xpZW50ID0gbmV3IE9wZW5Sb3V0ZXJDbGllbnQoKTsiXSwibmFtZXMiOlsiT1BFTlJPVVRFUl9DT05GSUciLCJPcGVuUm91dGVyQ2xpZW50IiwiY29uc3RydWN0b3IiLCJhcGlLZXkiLCJwcm9jZXNzIiwiZW52IiwiT1BFTlJPVVRFUl9BUElfS0VZIiwiYmFzZVVSTCIsIkVycm9yIiwiY2hhdCIsInJlcXVlc3QiLCJyZXNwb25zZSIsImZldGNoIiwibWV0aG9kIiwiaGVhZGVycyIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwibW9kZWwiLCJtZXNzYWdlcyIsInRlbXBlcmF0dXJlIiwibWF4X3Rva2VucyIsIm9rIiwiZXJyb3JUZXh0IiwidGV4dCIsInN0YXR1cyIsImRhdGEiLCJqc29uIiwiY2hvaWNlcyIsIm1lc3NhZ2UiLCJjb250ZW50IiwiZXJyb3IiLCJjb25zb2xlIiwic2VhcmNoV2ViIiwicXVlcnkiLCJyb2xlIiwiZXh0cmFjdFN0cnVjdHVyZWREYXRhIiwic2NoZW1hIiwiY2xlYW5lZFJlc3BvbnNlIiwiY2xlYW5Kc29uUmVzcG9uc2UiLCJwYXJzZSIsInBhcnNlRXJyb3IiLCJmYWxsYmFja0pzb24iLCJleHRyYWN0SnNvbkZyb21NYXJrZG93biIsImZhbGxiYWNrRXJyb3IiLCJyZXBsYWNlIiwidHJpbSIsImpzb25SZWdleCIsIm1hdGNoIiwiZ2VuZXJhbENvZGVSZWdleCIsImdlbmVyYWxNYXRjaCIsInN0YXJ0c1dpdGgiLCJlbmRzV2l0aCIsIm9wZW5Sb3V0ZXJDbGllbnQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/openrouter.ts\n");

/***/ }),

/***/ "(rsc)/./lib/safe-llm-client.ts":
/*!********************************!*\
  !*** ./lib/safe-llm-client.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SafeLLMClient: () => (/* binding */ SafeLLMClient),\n/* harmony export */   safeLLMClient: () => (/* binding */ safeLLMClient)\n/* harmony export */ });\n/* harmony import */ var _openrouter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./openrouter */ \"(rsc)/./lib/openrouter.ts\");\n\n/**\n * 安全的LLM客户端包装器\n * 提供更好的错误处理和降级策略\n */ class SafeLLMClient {\n    async safeExtractData(content, exampleSchema, fallbackData, description = '数据') {\n        for(let attempt = 1; attempt <= this.maxRetries; attempt++){\n            try {\n                console.log(`Attempting ${description} extraction (attempt ${attempt}/${this.maxRetries})`);\n                const result = await _openrouter__WEBPACK_IMPORTED_MODULE_0__.openRouterClient.extractStructuredData(content, exampleSchema);\n                if (this.validateResult(result, exampleSchema)) {\n                    console.log(`Successfully extracted ${description}`);\n                    return result;\n                } else {\n                    console.warn(`Invalid ${description} structure, retrying...`);\n                    if (attempt < this.maxRetries) {\n                        await this.delay(this.retryDelay);\n                        continue;\n                    }\n                }\n            } catch (error) {\n                console.error(`${description} extraction failed (attempt ${attempt}):`, error);\n                if (attempt < this.maxRetries) {\n                    await this.delay(this.retryDelay);\n                    continue;\n                }\n            }\n        }\n        console.log(`Using fallback data for ${description}`);\n        return fallbackData;\n    }\n    async safeSearch(query, fallbackContent = '数据暂时不可用') {\n        try {\n            console.log('Performing web search:', query);\n            const result = await _openrouter__WEBPACK_IMPORTED_MODULE_0__.openRouterClient.searchWeb(query);\n            return result || fallbackContent;\n        } catch (error) {\n            console.error('Web search failed:', error);\n            return fallbackContent;\n        }\n    }\n    validateResult(result, exampleSchema) {\n        if (!result || typeof result !== 'object') {\n            return false;\n        }\n        try {\n            // 从示例模式中提取必需字段\n            const schemaObj = JSON.parse(exampleSchema);\n            const requiredFields = Object.keys(schemaObj);\n            // 检查所有必需字段是否存在\n            for (const field of requiredFields){\n                if (!(field in result)) {\n                    console.warn(`Missing required field: ${field}`);\n                    return false;\n                }\n            }\n            return true;\n        } catch (error) {\n            console.error('Schema validation error:', error);\n            return false;\n        }\n    }\n    delay(ms) {\n        return new Promise((resolve)=>setTimeout(resolve, ms));\n    }\n    // 为特定数据类型提供预设的提取方法\n    async extractTuitionData(content, fallback) {\n        return this.safeExtractData(content, `{\n        \"tuition_amount\": 45000,\n        \"currency\": \"USD\",\n        \"period\": \"annual\",\n        \"source_url\": \"https://university.edu\",\n        \"is_estimate\": false,\n        \"confidence\": 0.8\n      }`, fallback, '学费数据');\n    }\n    async extractApplicationFee(content, fallback) {\n        return this.safeExtractData(content, `{\n        \"application_fee\": 100,\n        \"source_url\": \"https://university.edu/admissions\",\n        \"confidence\": 0.8\n      }`, fallback, '申请费数据');\n    }\n    async extractHealthInsurance(content, fallback) {\n        return this.safeExtractData(content, `{\n        \"insurance_cost_annual\": 600,\n        \"is_mandatory\": true,\n        \"source_url\": \"https://university.edu/health\",\n        \"confidence\": 0.8\n      }`, fallback, '健康保险数据');\n    }\n    async extractLivingCosts(content, fallback) {\n        return this.safeExtractData(content, `{\n        \"rent_1br\": 1500,\n        \"rent_3br\": 2500,\n        \"food_monthly\": 400,\n        \"transportation_monthly\": 120,\n        \"utilities_monthly\": 150,\n        \"entertainment_monthly\": 200,\n        \"source\": \"https://numbeo.com\"\n      }`, fallback, '生活成本数据');\n    }\n    constructor(){\n        this.maxRetries = 2;\n        this.retryDelay = 1000 // 1秒\n        ;\n    }\n}\nconst safeLLMClient = new SafeLLMClient();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QU1DLHNCQUFzQmhDLE9BQWUsRUFBRStCLFFBQWEsRUFBRTtRQUMxRCxPQUFPLElBQUksQ0FBQ2hDLGVBQWUsQ0FDekJDLFNBQ0EsQ0FBQzs7OztPQUlBLENBQUMsRUFDRitCLFVBQ0E7SUFFSjtJQUVBLE1BQU1FLHVCQUF1QmpDLE9BQWUsRUFBRStCLFFBQWEsRUFBRTtRQUMzRCxPQUFPLElBQUksQ0FBQ2hDLGVBQWUsQ0FDekJDLFNBQ0EsQ0FBQzs7Ozs7T0FLQSxDQUFDLEVBQ0YrQixVQUNBO0lBRUo7SUFFQSxNQUFNRyxtQkFBbUJsQyxPQUFlLEVBQUUrQixRQUFhLEVBQUU7UUFDdkQsT0FBTyxJQUFJLENBQUNoQyxlQUFlLENBQ3pCQyxTQUNBLENBQUM7Ozs7Ozs7O09BUUEsQ0FBQyxFQUNGK0IsVUFDQTtJQUVKOzthQTFJUTFCLGFBQWE7YUFDYlEsYUFBYSxLQUFNLEtBQUs7OztBQTBJbEM7QUFFTyxNQUFNc0IsZ0JBQWdCLElBQUlyQyxnQkFBZ0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jb3N0LWVzdGltYXRvci8uL2xpYi9zYWZlLWxsbS1jbGllbnQudHM/ZjExOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBvcGVuUm91dGVyQ2xpZW50IH0gZnJvbSAnLi9vcGVucm91dGVyJztcblxuLyoqXG4gKiDlronlhajnmoRMTE3lrqLmiLfnq6/ljIXoo4XlmahcbiAqIOaPkOS+m+abtOWlveeahOmUmeivr+WkhOeQhuWSjOmZjee6p+etlueVpVxuICovXG5leHBvcnQgY2xhc3MgU2FmZUxMTUNsaWVudCB7XG4gIHByaXZhdGUgbWF4UmV0cmllcyA9IDI7XG4gIHByaXZhdGUgcmV0cnlEZWxheSA9IDEwMDA7IC8vIDHnp5JcblxuICBhc3luYyBzYWZlRXh0cmFjdERhdGE8VD4oXG4gICAgY29udGVudDogc3RyaW5nLFxuICAgIGV4YW1wbGVTY2hlbWE6IHN0cmluZyxcbiAgICBmYWxsYmFja0RhdGE6IFQsXG4gICAgZGVzY3JpcHRpb246IHN0cmluZyA9ICfmlbDmja4nXG4gICk6IFByb21pc2U8VD4ge1xuICAgIGZvciAobGV0IGF0dGVtcHQgPSAxOyBhdHRlbXB0IDw9IHRoaXMubWF4UmV0cmllczsgYXR0ZW1wdCsrKSB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zb2xlLmxvZyhgQXR0ZW1wdGluZyAke2Rlc2NyaXB0aW9ufSBleHRyYWN0aW9uIChhdHRlbXB0ICR7YXR0ZW1wdH0vJHt0aGlzLm1heFJldHJpZXN9KWApO1xuXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IG9wZW5Sb3V0ZXJDbGllbnQuZXh0cmFjdFN0cnVjdHVyZWREYXRhKGNvbnRlbnQsIGV4YW1wbGVTY2hlbWEpO1xuXG4gICAgICAgIGlmICh0aGlzLnZhbGlkYXRlUmVzdWx0KHJlc3VsdCwgZXhhbXBsZVNjaGVtYSkpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhgU3VjY2Vzc2Z1bGx5IGV4dHJhY3RlZCAke2Rlc2NyaXB0aW9ufWApO1xuICAgICAgICAgIHJldHVybiByZXN1bHQgYXMgVDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oYEludmFsaWQgJHtkZXNjcmlwdGlvbn0gc3RydWN0dXJlLCByZXRyeWluZy4uLmApO1xuICAgICAgICAgIGlmIChhdHRlbXB0IDwgdGhpcy5tYXhSZXRyaWVzKSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLmRlbGF5KHRoaXMucmV0cnlEZWxheSk7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYCR7ZGVzY3JpcHRpb259IGV4dHJhY3Rpb24gZmFpbGVkIChhdHRlbXB0ICR7YXR0ZW1wdH0pOmAsIGVycm9yKTtcblxuICAgICAgICBpZiAoYXR0ZW1wdCA8IHRoaXMubWF4UmV0cmllcykge1xuICAgICAgICAgIGF3YWl0IHRoaXMuZGVsYXkodGhpcy5yZXRyeURlbGF5KTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnNvbGUubG9nKGBVc2luZyBmYWxsYmFjayBkYXRhIGZvciAke2Rlc2NyaXB0aW9ufWApO1xuICAgIHJldHVybiBmYWxsYmFja0RhdGE7XG4gIH1cblxuICBhc3luYyBzYWZlU2VhcmNoKHF1ZXJ5OiBzdHJpbmcsIGZhbGxiYWNrQ29udGVudDogc3RyaW5nID0gJ+aVsOaNruaaguaXtuS4jeWPr+eUqCcpOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zb2xlLmxvZygnUGVyZm9ybWluZyB3ZWIgc2VhcmNoOicsIHF1ZXJ5KTtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IG9wZW5Sb3V0ZXJDbGllbnQuc2VhcmNoV2ViKHF1ZXJ5KTtcbiAgICAgIHJldHVybiByZXN1bHQgfHwgZmFsbGJhY2tDb250ZW50O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdXZWIgc2VhcmNoIGZhaWxlZDonLCBlcnJvcik7XG4gICAgICByZXR1cm4gZmFsbGJhY2tDb250ZW50O1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgdmFsaWRhdGVSZXN1bHQocmVzdWx0OiBhbnksIGV4YW1wbGVTY2hlbWE6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgIGlmICghcmVzdWx0IHx8IHR5cGVvZiByZXN1bHQgIT09ICdvYmplY3QnKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIC8vIOS7juekuuS+i+aooeW8j+S4reaPkOWPluW/hemcgOWtl+autVxuICAgICAgY29uc3Qgc2NoZW1hT2JqID0gSlNPTi5wYXJzZShleGFtcGxlU2NoZW1hKTtcbiAgICAgIGNvbnN0IHJlcXVpcmVkRmllbGRzID0gT2JqZWN0LmtleXMoc2NoZW1hT2JqKTtcblxuICAgICAgLy8g5qOA5p+l5omA5pyJ5b+F6ZyA5a2X5q615piv5ZCm5a2Y5ZyoXG4gICAgICBmb3IgKGNvbnN0IGZpZWxkIG9mIHJlcXVpcmVkRmllbGRzKSB7XG4gICAgICAgIGlmICghKGZpZWxkIGluIHJlc3VsdCkpIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oYE1pc3NpbmcgcmVxdWlyZWQgZmllbGQ6ICR7ZmllbGR9YCk7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdTY2hlbWEgdmFsaWRhdGlvbiBlcnJvcjonLCBlcnJvcik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBkZWxheShtczogbnVtYmVyKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCBtcykpO1xuICB9XG5cbiAgLy8g5Li654m55a6a5pWw5o2u57G75Z6L5o+Q5L6b6aKE6K6+55qE5o+Q5Y+W5pa55rOVXG4gIGFzeW5jIGV4dHJhY3RUdWl0aW9uRGF0YShjb250ZW50OiBzdHJpbmcsIGZhbGxiYWNrOiBhbnkpIHtcbiAgICByZXR1cm4gdGhpcy5zYWZlRXh0cmFjdERhdGEoXG4gICAgICBjb250ZW50LFxuICAgICAgYHtcbiAgICAgICAgXCJ0dWl0aW9uX2Ftb3VudFwiOiA0NTAwMCxcbiAgICAgICAgXCJjdXJyZW5jeVwiOiBcIlVTRFwiLFxuICAgICAgICBcInBlcmlvZFwiOiBcImFubnVhbFwiLFxuICAgICAgICBcInNvdXJjZV91cmxcIjogXCJodHRwczovL3VuaXZlcnNpdHkuZWR1XCIsXG4gICAgICAgIFwiaXNfZXN0aW1hdGVcIjogZmFsc2UsXG4gICAgICAgIFwiY29uZmlkZW5jZVwiOiAwLjhcbiAgICAgIH1gLFxuICAgICAgZmFsbGJhY2ssXG4gICAgICAn5a2m6LS55pWw5o2uJ1xuICAgICk7XG4gIH1cblxuICBhc3luYyBleHRyYWN0QXBwbGljYXRpb25GZWUoY29udGVudDogc3RyaW5nLCBmYWxsYmFjazogYW55KSB7XG4gICAgcmV0dXJuIHRoaXMuc2FmZUV4dHJhY3REYXRhKFxuICAgICAgY29udGVudCxcbiAgICAgIGB7XG4gICAgICAgIFwiYXBwbGljYXRpb25fZmVlXCI6IDEwMCxcbiAgICAgICAgXCJzb3VyY2VfdXJsXCI6IFwiaHR0cHM6Ly91bml2ZXJzaXR5LmVkdS9hZG1pc3Npb25zXCIsXG4gICAgICAgIFwiY29uZmlkZW5jZVwiOiAwLjhcbiAgICAgIH1gLFxuICAgICAgZmFsbGJhY2ssXG4gICAgICAn55Sz6K+36LS55pWw5o2uJ1xuICAgICk7XG4gIH1cblxuICBhc3luYyBleHRyYWN0SGVhbHRoSW5zdXJhbmNlKGNvbnRlbnQ6IHN0cmluZywgZmFsbGJhY2s6IGFueSkge1xuICAgIHJldHVybiB0aGlzLnNhZmVFeHRyYWN0RGF0YShcbiAgICAgIGNvbnRlbnQsXG4gICAgICBge1xuICAgICAgICBcImluc3VyYW5jZV9jb3N0X2FubnVhbFwiOiA2MDAsXG4gICAgICAgIFwiaXNfbWFuZGF0b3J5XCI6IHRydWUsXG4gICAgICAgIFwic291cmNlX3VybFwiOiBcImh0dHBzOi8vdW5pdmVyc2l0eS5lZHUvaGVhbHRoXCIsXG4gICAgICAgIFwiY29uZmlkZW5jZVwiOiAwLjhcbiAgICAgIH1gLFxuICAgICAgZmFsbGJhY2ssXG4gICAgICAn5YGl5bq35L+d6Zmp5pWw5o2uJ1xuICAgICk7XG4gIH1cblxuICBhc3luYyBleHRyYWN0TGl2aW5nQ29zdHMoY29udGVudDogc3RyaW5nLCBmYWxsYmFjazogYW55KSB7XG4gICAgcmV0dXJuIHRoaXMuc2FmZUV4dHJhY3REYXRhKFxuICAgICAgY29udGVudCxcbiAgICAgIGB7XG4gICAgICAgIFwicmVudF8xYnJcIjogMTUwMCxcbiAgICAgICAgXCJyZW50XzNiclwiOiAyNTAwLFxuICAgICAgICBcImZvb2RfbW9udGhseVwiOiA0MDAsXG4gICAgICAgIFwidHJhbnNwb3J0YXRpb25fbW9udGhseVwiOiAxMjAsXG4gICAgICAgIFwidXRpbGl0aWVzX21vbnRobHlcIjogMTUwLFxuICAgICAgICBcImVudGVydGFpbm1lbnRfbW9udGhseVwiOiAyMDAsXG4gICAgICAgIFwic291cmNlXCI6IFwiaHR0cHM6Ly9udW1iZW8uY29tXCJcbiAgICAgIH1gLFxuICAgICAgZmFsbGJhY2ssXG4gICAgICAn55Sf5rS75oiQ5pys5pWw5o2uJ1xuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IHNhZmVMTE1DbGllbnQgPSBuZXcgU2FmZUxMTUNsaWVudCgpOyJdLCJuYW1lcyI6WyJvcGVuUm91dGVyQ2xpZW50IiwiU2FmZUxMTUNsaWVudCIsInNhZmVFeHRyYWN0RGF0YSIsImNvbnRlbnQiLCJleGFtcGxlU2NoZW1hIiwiZmFsbGJhY2tEYXRhIiwiZGVzY3JpcHRpb24iLCJhdHRlbXB0IiwibWF4UmV0cmllcyIsImNvbnNvbGUiLCJsb2ciLCJyZXN1bHQiLCJleHRyYWN0U3RydWN0dXJlZERhdGEiLCJ2YWxpZGF0ZVJlc3VsdCIsIndhcm4iLCJkZWxheSIsInJldHJ5RGVsYXkiLCJlcnJvciIsInNhZmVTZWFyY2giLCJxdWVyeSIsImZhbGxiYWNrQ29udGVudCIsInNlYXJjaFdlYiIsInNjaGVtYU9iaiIsIkpTT04iLCJwYXJzZSIsInJlcXVpcmVkRmllbGRzIiwiT2JqZWN0Iiwia2V5cyIsImZpZWxkIiwibXMiLCJQcm9taXNlIiwicmVzb2x2ZSIsInNldFRpbWVvdXQiLCJleHRyYWN0VHVpdGlvbkRhdGEiLCJmYWxsYmFjayIsImV4dHJhY3RBcHBsaWNhdGlvbkZlZSIsImV4dHJhY3RIZWFsdGhJbnN1cmFuY2UiLCJleHRyYWN0TGl2aW5nQ29zdHMiLCJzYWZlTExNQ2xpZW50Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/safe-llm-client.ts\n");

/***/ }),

/***/ "(rsc)/./lib/utils.ts":
/*!**********************!*\
  !*** ./lib/utils.ts ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   adjustForLifestyle: () => (/* binding */ adjustForLifestyle),\n/* harmony export */   calculateAnnualCost: () => (/* binding */ calculateAnnualCost),\n/* harmony export */   calculateRange: () => (/* binding */ calculateRange),\n/* harmony export */   cn: () => (/* binding */ cn),\n/* harmony export */   delay: () => (/* binding */ delay),\n/* harmony export */   extractDomain: () => (/* binding */ extractDomain),\n/* harmony export */   formatCurrency: () => (/* binding */ formatCurrency),\n/* harmony export */   formatCurrencyRange: () => (/* binding */ formatCurrencyRange),\n/* harmony export */   formatDate: () => (/* binding */ formatDate),\n/* harmony export */   generateId: () => (/* binding */ generateId),\n/* harmony export */   isValidEmail: () => (/* binding */ isValidEmail),\n/* harmony export */   isValidUniversityUrl: () => (/* binding */ isValidUniversityUrl)\n/* harmony export */ });\n/* harmony import */ var clsx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! clsx */ \"(rsc)/./node_modules/clsx/dist/clsx.mjs\");\n/* harmony import */ var tailwind_merge__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! tailwind-merge */ \"(rsc)/./node_modules/tailwind-merge/dist/bundle-mjs.mjs\");\n\n\nfunction cn(...inputs) {\n    return (0,tailwind_merge__WEBPACK_IMPORTED_MODULE_1__.twMerge)((0,clsx__WEBPACK_IMPORTED_MODULE_0__.clsx)(inputs));\n}\n// 格式化货币\nfunction formatCurrency(amount, currency) {\n    return new Intl.NumberFormat('en-US', {\n        style: 'currency',\n        currency: currency,\n        minimumFractionDigits: 0,\n        maximumFractionDigits: 0\n    }).format(amount);\n}\n// 格式化货币范围\nfunction formatCurrencyRange(min, max, currency) {\n    return `${formatCurrency(min, currency)} - ${formatCurrency(max, currency)}`;\n}\n// 计算范围\nfunction calculateRange(base, variance = 0.2) {\n    return {\n        min: Math.round(base * (1 - variance)),\n        max: Math.round(base * (1 + variance))\n    };\n}\n// 生成唯一ID\nfunction generateId() {\n    return Math.random().toString(36).substr(2, 9);\n}\n// 验证邮箱格式\nfunction isValidEmail(email) {\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n    return emailRegex.test(email);\n}\n// 延迟函数\nfunction delay(ms) {\n    return new Promise((resolve)=>setTimeout(resolve, ms));\n}\n// 计算年度总费用\nfunction calculateAnnualCost(tuitionAnnual, livingMonthly, otherCosts = 0) {\n    return tuitionAnnual + livingMonthly * 12 + otherCosts;\n}\n// 检查是否为有效的大学URL\nfunction isValidUniversityUrl(url) {\n    try {\n        const parsed = new URL(url);\n        return parsed.protocol === 'https:' && (parsed.hostname.includes('edu') || parsed.hostname.includes('university') || parsed.hostname.includes('college'));\n    } catch  {\n        return false;\n    }\n}\n// 从URL提取域名\nfunction extractDomain(url) {\n    try {\n        return new URL(url).hostname;\n    } catch  {\n        return url;\n    }\n}\n// 格式化日期\nfunction formatDate(date) {\n    return date.toLocaleDateString('en-US', {\n        year: 'numeric',\n        month: 'long',\n        day: 'numeric'\n    });\n}\n// 计算生活成本调整\nfunction adjustForLifestyle(baseCost, lifestyle) {\n    const multipliers = {\n        economy: 0.8,\n        standard: 1.0,\n        comfortable: 1.25\n    };\n    return Math.round(baseCost * multipliers[lifestyle]);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvdXRpbHMudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBNkM7QUFDSjtBQUVsQyxTQUFTRSxHQUFHLEdBQUdDLE1BQW9CO0lBQ3hDLE9BQU9GLHVEQUFPQSxDQUFDRCwwQ0FBSUEsQ0FBQ0c7QUFDdEI7QUFFQSxRQUFRO0FBQ0QsU0FBU0MsZUFBZUMsTUFBYyxFQUFFQyxRQUF1QjtJQUNwRSxPQUFPLElBQUlDLEtBQUtDLFlBQVksQ0FBQyxTQUFTO1FBQ3BDQyxPQUFPO1FBQ1BILFVBQVVBO1FBQ1ZJLHVCQUF1QjtRQUN2QkMsdUJBQXVCO0lBQ3pCLEdBQUdDLE1BQU0sQ0FBQ1A7QUFDWjtBQUVBLFVBQVU7QUFDSCxTQUFTUSxvQkFBb0JDLEdBQVcsRUFBRUMsR0FBVyxFQUFFVCxRQUF1QjtJQUNuRixPQUFPLEdBQUdGLGVBQWVVLEtBQUtSLFVBQVUsR0FBRyxFQUFFRixlQUFlVyxLQUFLVCxXQUFXO0FBQzlFO0FBRUEsT0FBTztBQUNBLFNBQVNVLGVBQWVDLElBQVksRUFBRUMsV0FBbUIsR0FBRztJQUNqRSxPQUFPO1FBQ0xKLEtBQUtLLEtBQUtDLEtBQUssQ0FBQ0gsT0FBUSxLQUFJQyxRQUFPO1FBQ25DSCxLQUFLSSxLQUFLQyxLQUFLLENBQUNILE9BQVEsS0FBSUMsUUFBTztJQUNyQztBQUNGO0FBRUEsU0FBUztBQUNGLFNBQVNHO0lBQ2QsT0FBT0YsS0FBS0csTUFBTSxHQUFHQyxRQUFRLENBQUMsSUFBSUMsTUFBTSxDQUFDLEdBQUc7QUFDOUM7QUFFQSxTQUFTO0FBQ0YsU0FBU0MsYUFBYUMsS0FBYTtJQUN4QyxNQUFNQyxhQUFhO0lBQ25CLE9BQU9BLFdBQVdDLElBQUksQ0FBQ0Y7QUFDekI7QUFFQSxPQUFPO0FBQ0EsU0FBU0csTUFBTUMsRUFBVTtJQUM5QixPQUFPLElBQUlDLFFBQVFDLENBQUFBLFVBQVdDLFdBQVdELFNBQVNGO0FBQ3BEO0FBRUEsVUFBVTtBQUNILFNBQVNJLG9CQUNkQyxhQUFxQixFQUNyQkMsYUFBcUIsRUFDckJDLGFBQXFCLENBQUM7SUFFdEIsT0FBT0YsZ0JBQWlCQyxnQkFBZ0IsS0FBTUM7QUFDaEQ7QUFFQSxnQkFBZ0I7QUFDVCxTQUFTQyxxQkFBcUJDLEdBQVc7SUFDOUMsSUFBSTtRQUNGLE1BQU1DLFNBQVMsSUFBSUMsSUFBSUY7UUFDdkIsT0FBT0MsT0FBT0UsUUFBUSxLQUFLLFlBQ25CRixDQUFBQSxPQUFPRyxRQUFRLENBQUNDLFFBQVEsQ0FBQyxVQUN6QkosT0FBT0csUUFBUSxDQUFDQyxRQUFRLENBQUMsaUJBQ3pCSixPQUFPRyxRQUFRLENBQUNDLFFBQVEsQ0FBQyxVQUFTO0lBQzVDLEVBQUUsT0FBTTtRQUNOLE9BQU87SUFDVDtBQUNGO0FBRUEsV0FBVztBQUNKLFNBQVNDLGNBQWNOLEdBQVc7SUFDdkMsSUFBSTtRQUNGLE9BQU8sSUFBSUUsSUFBSUYsS0FBS0ksUUFBUTtJQUM5QixFQUFFLE9BQU07UUFDTixPQUFPSjtJQUNUO0FBQ0Y7QUFFQSxRQUFRO0FBQ0QsU0FBU08sV0FBV0MsSUFBVTtJQUNuQyxPQUFPQSxLQUFLQyxrQkFBa0IsQ0FBQyxTQUFTO1FBQ3RDQyxNQUFNO1FBQ05DLE9BQU87UUFDUEMsS0FBSztJQUNQO0FBQ0Y7QUFFQSxXQUFXO0FBQ0osU0FBU0MsbUJBQ2RDLFFBQWdCLEVBQ2hCQyxTQUFpRDtJQUVqRCxNQUFNQyxjQUFjO1FBQ2xCQyxTQUFTO1FBQ1RDLFVBQVU7UUFDVkMsYUFBYTtJQUNmO0lBQ0EsT0FBT3ZDLEtBQUtDLEtBQUssQ0FBQ2lDLFdBQVdFLFdBQVcsQ0FBQ0QsVUFBVTtBQUNyRCIsInNvdXJjZXMiOlsid2VicGFjazovL2Nvc3QtZXN0aW1hdG9yLy4vbGliL3V0aWxzLnRzP2Y3NDUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdHlwZSBDbGFzc1ZhbHVlLCBjbHN4IH0gZnJvbSBcImNsc3hcIjtcbmltcG9ydCB7IHR3TWVyZ2UgfSBmcm9tIFwidGFpbHdpbmQtbWVyZ2VcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIGNuKC4uLmlucHV0czogQ2xhc3NWYWx1ZVtdKSB7XG4gIHJldHVybiB0d01lcmdlKGNsc3goaW5wdXRzKSk7XG59XG5cbi8vIOagvOW8j+WMlui0p+W4gVxuZXhwb3J0IGZ1bmN0aW9uIGZvcm1hdEN1cnJlbmN5KGFtb3VudDogbnVtYmVyLCBjdXJyZW5jeTogJ1VTRCcgfCAnQVVEJyk6IHN0cmluZyB7XG4gIHJldHVybiBuZXcgSW50bC5OdW1iZXJGb3JtYXQoJ2VuLVVTJywge1xuICAgIHN0eWxlOiAnY3VycmVuY3knLFxuICAgIGN1cnJlbmN5OiBjdXJyZW5jeSxcbiAgICBtaW5pbXVtRnJhY3Rpb25EaWdpdHM6IDAsXG4gICAgbWF4aW11bUZyYWN0aW9uRGlnaXRzOiAwLFxuICB9KS5mb3JtYXQoYW1vdW50KTtcbn1cblxuLy8g5qC85byP5YyW6LSn5biB6IyD5Zu0XG5leHBvcnQgZnVuY3Rpb24gZm9ybWF0Q3VycmVuY3lSYW5nZShtaW46IG51bWJlciwgbWF4OiBudW1iZXIsIGN1cnJlbmN5OiAnVVNEJyB8ICdBVUQnKTogc3RyaW5nIHtcbiAgcmV0dXJuIGAke2Zvcm1hdEN1cnJlbmN5KG1pbiwgY3VycmVuY3kpfSAtICR7Zm9ybWF0Q3VycmVuY3kobWF4LCBjdXJyZW5jeSl9YDtcbn1cblxuLy8g6K6h566X6IyD5Zu0XG5leHBvcnQgZnVuY3Rpb24gY2FsY3VsYXRlUmFuZ2UoYmFzZTogbnVtYmVyLCB2YXJpYW5jZTogbnVtYmVyID0gMC4yKTogeyBtaW46IG51bWJlcjsgbWF4OiBudW1iZXIgfSB7XG4gIHJldHVybiB7XG4gICAgbWluOiBNYXRoLnJvdW5kKGJhc2UgKiAoMSAtIHZhcmlhbmNlKSksXG4gICAgbWF4OiBNYXRoLnJvdW5kKGJhc2UgKiAoMSArIHZhcmlhbmNlKSlcbiAgfTtcbn1cblxuLy8g55Sf5oiQ5ZSv5LiASURcbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZUlkKCk6IHN0cmluZyB7XG4gIHJldHVybiBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMiwgOSk7XG59XG5cbi8vIOmqjOivgemCrueuseagvOW8j1xuZXhwb3J0IGZ1bmN0aW9uIGlzVmFsaWRFbWFpbChlbWFpbDogc3RyaW5nKTogYm9vbGVhbiB7XG4gIGNvbnN0IGVtYWlsUmVnZXggPSAvXlteXFxzQF0rQFteXFxzQF0rXFwuW15cXHNAXSskLztcbiAgcmV0dXJuIGVtYWlsUmVnZXgudGVzdChlbWFpbCk7XG59XG5cbi8vIOW7tui/n+WHveaVsFxuZXhwb3J0IGZ1bmN0aW9uIGRlbGF5KG1zOiBudW1iZXIpOiBQcm9taXNlPHZvaWQ+IHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCBtcykpO1xufVxuXG4vLyDorqHnrpflubTluqbmgLvotLnnlKhcbmV4cG9ydCBmdW5jdGlvbiBjYWxjdWxhdGVBbm51YWxDb3N0KFxuICB0dWl0aW9uQW5udWFsOiBudW1iZXIsXG4gIGxpdmluZ01vbnRobHk6IG51bWJlcixcbiAgb3RoZXJDb3N0czogbnVtYmVyID0gMFxuKTogbnVtYmVyIHtcbiAgcmV0dXJuIHR1aXRpb25Bbm51YWwgKyAobGl2aW5nTW9udGhseSAqIDEyKSArIG90aGVyQ29zdHM7XG59XG5cbi8vIOajgOafpeaYr+WQpuS4uuacieaViOeahOWkp+WtplVSTFxuZXhwb3J0IGZ1bmN0aW9uIGlzVmFsaWRVbml2ZXJzaXR5VXJsKHVybDogc3RyaW5nKTogYm9vbGVhbiB7XG4gIHRyeSB7XG4gICAgY29uc3QgcGFyc2VkID0gbmV3IFVSTCh1cmwpO1xuICAgIHJldHVybiBwYXJzZWQucHJvdG9jb2wgPT09ICdodHRwczonICYmXG4gICAgICAgICAgIChwYXJzZWQuaG9zdG5hbWUuaW5jbHVkZXMoJ2VkdScpIHx8XG4gICAgICAgICAgICBwYXJzZWQuaG9zdG5hbWUuaW5jbHVkZXMoJ3VuaXZlcnNpdHknKSB8fFxuICAgICAgICAgICAgcGFyc2VkLmhvc3RuYW1lLmluY2x1ZGVzKCdjb2xsZWdlJykpO1xuICB9IGNhdGNoIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuLy8g5LuOVVJM5o+Q5Y+W5Z+f5ZCNXG5leHBvcnQgZnVuY3Rpb24gZXh0cmFjdERvbWFpbih1cmw6IHN0cmluZyk6IHN0cmluZyB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIG5ldyBVUkwodXJsKS5ob3N0bmFtZTtcbiAgfSBjYXRjaCB7XG4gICAgcmV0dXJuIHVybDtcbiAgfVxufVxuXG4vLyDmoLzlvI/ljJbml6XmnJ9cbmV4cG9ydCBmdW5jdGlvbiBmb3JtYXREYXRlKGRhdGU6IERhdGUpOiBzdHJpbmcge1xuICByZXR1cm4gZGF0ZS50b0xvY2FsZURhdGVTdHJpbmcoJ2VuLVVTJywge1xuICAgIHllYXI6ICdudW1lcmljJyxcbiAgICBtb250aDogJ2xvbmcnLFxuICAgIGRheTogJ251bWVyaWMnXG4gIH0pO1xufVxuXG4vLyDorqHnrpfnlJ/mtLvmiJDmnKzosIPmlbRcbmV4cG9ydCBmdW5jdGlvbiBhZGp1c3RGb3JMaWZlc3R5bGUoXG4gIGJhc2VDb3N0OiBudW1iZXIsXG4gIGxpZmVzdHlsZTogJ2Vjb25vbXknIHwgJ3N0YW5kYXJkJyB8ICdjb21mb3J0YWJsZSdcbik6IG51bWJlciB7XG4gIGNvbnN0IG11bHRpcGxpZXJzID0ge1xuICAgIGVjb25vbXk6IDAuOCxcbiAgICBzdGFuZGFyZDogMS4wLFxuICAgIGNvbWZvcnRhYmxlOiAxLjI1XG4gIH07XG4gIHJldHVybiBNYXRoLnJvdW5kKGJhc2VDb3N0ICogbXVsdGlwbGllcnNbbGlmZXN0eWxlXSk7XG59Il0sIm5hbWVzIjpbImNsc3giLCJ0d01lcmdlIiwiY24iLCJpbnB1dHMiLCJmb3JtYXRDdXJyZW5jeSIsImFtb3VudCIsImN1cnJlbmN5IiwiSW50bCIsIk51bWJlckZvcm1hdCIsInN0eWxlIiwibWluaW11bUZyYWN0aW9uRGlnaXRzIiwibWF4aW11bUZyYWN0aW9uRGlnaXRzIiwiZm9ybWF0IiwiZm9ybWF0Q3VycmVuY3lSYW5nZSIsIm1pbiIsIm1heCIsImNhbGN1bGF0ZVJhbmdlIiwiYmFzZSIsInZhcmlhbmNlIiwiTWF0aCIsInJvdW5kIiwiZ2VuZXJhdGVJZCIsInJhbmRvbSIsInRvU3RyaW5nIiwic3Vic3RyIiwiaXNWYWxpZEVtYWlsIiwiZW1haWwiLCJlbWFpbFJlZ2V4IiwidGVzdCIsImRlbGF5IiwibXMiLCJQcm9taXNlIiwicmVzb2x2ZSIsInNldFRpbWVvdXQiLCJjYWxjdWxhdGVBbm51YWxDb3N0IiwidHVpdGlvbkFubnVhbCIsImxpdmluZ01vbnRobHkiLCJvdGhlckNvc3RzIiwiaXNWYWxpZFVuaXZlcnNpdHlVcmwiLCJ1cmwiLCJwYXJzZWQiLCJVUkwiLCJwcm90b2NvbCIsImhvc3RuYW1lIiwiaW5jbHVkZXMiLCJleHRyYWN0RG9tYWluIiwiZm9ybWF0RGF0ZSIsImRhdGUiLCJ0b0xvY2FsZURhdGVTdHJpbmciLCJ5ZWFyIiwibW9udGgiLCJkYXkiLCJhZGp1c3RGb3JMaWZlc3R5bGUiLCJiYXNlQ29zdCIsImxpZmVzdHlsZSIsIm11bHRpcGxpZXJzIiwiZWNvbm9teSIsInN0YW5kYXJkIiwiY29tZm9ydGFibGUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/utils.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/tailwind-merge","vendor-chunks/clsx"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Festimate%2Froute&page=%2Fapi%2Festimate%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Festimate%2Froute.ts&appDir=D%3A%5CProject%5Ccost_copy_v2%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CProject%5Ccost_copy_v2&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();